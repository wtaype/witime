var $S=Object.defineProperty;var qS=(n,t,e)=>t in n?$S(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var GS=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var Ot=(n,t,e)=>qS(n,typeof t!="symbol"?t+"":t,e);var LW=GS((zW,Uh)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function ZS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mh={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var KS=mh.exports,Xg;function XS(){return Xg||(Xg=1,function(n){(function(t,e){n.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}})(typeof window<"u"?window:KS,function(t,e){var i=[],s=Object.getPrototypeOf,r=i.slice,a=i.flat?function(d){return i.flat.call(d)}:function(d){return i.concat.apply([],d)},l=i.push,c=i.indexOf,h={},g=h.toString,w=h.hasOwnProperty,x=w.toString,C=x.call(Object),P={},A=function(_){return typeof _=="function"&&typeof _.nodeType!="number"&&typeof _.item!="function"},V=function(_){return _!=null&&_===_.window},j=t.document,K={type:!0,src:!0,nonce:!0,noModule:!0};function Q(d,_,T){T=T||j;var E,R,O=T.createElement("script");if(O.text=d,_)for(E in K)R=_[E]||_.getAttribute&&_.getAttribute(E),R&&O.setAttribute(E,R);T.head.appendChild(O).parentNode.removeChild(O)}function it(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?h[g.call(d)]||"object":typeof d}var rt="3.7.1",ft=/HTML$/i,y=function(d,_){return new y.fn.init(d,_)};y.fn=y.prototype={jquery:rt,constructor:y,length:0,toArray:function(){return r.call(this)},get:function(d){return d==null?r.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var _=y.merge(this.constructor(),d);return _.prevObject=this,_},each:function(d){return y.each(this,d)},map:function(d){return this.pushStack(y.map(this,function(_,T){return d.call(_,T,_)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(d,_){return(_+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(d,_){return _%2}))},eq:function(d){var _=this.length,T=+d+(d<0?_:0);return this.pushStack(T>=0&&T<_?[this[T]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},y.extend=y.fn.extend=function(){var d,_,T,E,R,O,F=arguments[0]||{},J=1,X=arguments.length,st=!1;for(typeof F=="boolean"&&(st=F,F=arguments[J]||{},J++),typeof F!="object"&&!A(F)&&(F={}),J===X&&(F=this,J--);J<X;J++)if((d=arguments[J])!=null)for(_ in d)E=d[_],!(_==="__proto__"||F===E)&&(st&&E&&(y.isPlainObject(E)||(R=Array.isArray(E)))?(T=F[_],R&&!Array.isArray(T)?O=[]:!R&&!y.isPlainObject(T)?O={}:O=T,R=!1,F[_]=y.extend(st,O,E)):E!==void 0&&(F[_]=E));return F},y.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var _,T;return!d||g.call(d)!=="[object Object]"?!1:(_=s(d),_?(T=w.call(_,"constructor")&&_.constructor,typeof T=="function"&&x.call(T)===C):!0)},isEmptyObject:function(d){var _;for(_ in d)return!1;return!0},globalEval:function(d,_,T){Q(d,{nonce:_&&_.nonce},T)},each:function(d,_){var T,E=0;if(N(d))for(T=d.length;E<T&&_.call(d[E],E,d[E])!==!1;E++);else for(E in d)if(_.call(d[E],E,d[E])===!1)break;return d},text:function(d){var _,T="",E=0,R=d.nodeType;if(!R)for(;_=d[E++];)T+=y.text(_);return R===1||R===11?d.textContent:R===9?d.documentElement.textContent:R===3||R===4?d.nodeValue:T},makeArray:function(d,_){var T=_||[];return d!=null&&(N(Object(d))?y.merge(T,typeof d=="string"?[d]:d):l.call(T,d)),T},inArray:function(d,_,T){return _==null?-1:c.call(_,d,T)},isXMLDoc:function(d){var _=d&&d.namespaceURI,T=d&&(d.ownerDocument||d).documentElement;return!ft.test(_||T&&T.nodeName||"HTML")},merge:function(d,_){for(var T=+_.length,E=0,R=d.length;E<T;E++)d[R++]=_[E];return d.length=R,d},grep:function(d,_,T){for(var E,R=[],O=0,F=d.length,J=!T;O<F;O++)E=!_(d[O],O),E!==J&&R.push(d[O]);return R},map:function(d,_,T){var E,R,O=0,F=[];if(N(d))for(E=d.length;O<E;O++)R=_(d[O],O,T),R!=null&&F.push(R);else for(O in d)R=_(d[O],O,T),R!=null&&F.push(R);return a(F)},guid:1,support:P}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=i[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,_){h["[object "+_+"]"]=_.toLowerCase()});function N(d){var _=!!d&&"length"in d&&d.length,T=it(d);return A(d)||V(d)?!1:T==="array"||_===0||typeof _=="number"&&_>0&&_-1 in d}function z(d,_){return d.nodeName&&d.nodeName.toLowerCase()===_.toLowerCase()}var H=i.pop,q=i.sort,Z=i.splice,$="[\\x20\\t\\r\\n\\f]",Bt=new RegExp("^"+$+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$+"+$","g");y.contains=function(d,_){var T=_&&_.parentNode;return d===T||!!(T&&T.nodeType===1&&(d.contains?d.contains(T):d.compareDocumentPosition&&d.compareDocumentPosition(T)&16))};var Xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Pt(d,_){return _?d==="\0"?"ï¿½":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}y.escapeSelector=function(d){return(d+"").replace(Xt,Pt)};var Wt=j,At=l;(function(){var d,_,T,E,R,O=At,F,J,X,st,dt,gt=y.expando,ct=0,Tt=0,ee=Ns(),we=Ns(),oe=Ns(),In=Ns(),fn=function(G,nt){return G===nt&&(R=!0),0},ki="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pi="(?:\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",me="\\["+$+"*("+Pi+")(?:"+$+"*([*^$|!~]?=)"+$+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pi+"))|)"+$+"*\\]",pn=":("+Pi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+me+")*)|.*)\\)|)",ge=new RegExp($+"+","g"),an=new RegExp("^"+$+"*,"+$+"*"),Gn=new RegExp("^"+$+"*([>+~]|"+$+")"+$+"*"),p=new RegExp($+"|>"),S=new RegExp(pn),D=new RegExp("^"+Pi+"$"),Y={ID:new RegExp("^#("+Pi+")"),CLASS:new RegExp("^\\.("+Pi+")"),TAG:new RegExp("^("+Pi+"|[*])"),ATTR:new RegExp("^"+me),PSEUDO:new RegExp("^"+pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$+"*(even|odd|(([+-]|)(\\d*)n|)"+$+"*(?:([+-]|)"+$+"*(\\d+)|))"+$+"*\\)|)","i"),bool:new RegExp("^(?:"+ki+")$","i"),needsContext:new RegExp("^"+$+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$+"*((?:-\\d)?\\d*)"+$+"*\\)|)(?=[^-]|$)","i")},ot=/^(?:input|select|textarea|button)$/i,ut=/^h\d$/i,St=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ve=/[+~]/,Xe=new RegExp("\\\\[\\da-fA-F]{1,6}"+$+"?|\\\\([^\\r\\n\\f])","g"),_e=function(G,nt){var lt="0x"+G.slice(1)-65536;return nt||(lt<0?String.fromCharCode(lt+65536):String.fromCharCode(lt>>10|55296,lt&1023|56320))},$e=function(){fs()},_n=Ii(function(G){return G.disabled===!0&&z(G,"fieldset")},{dir:"parentNode",next:"legend"});function Ls(){try{return F.activeElement}catch{}}try{O.apply(i=r.call(Wt.childNodes),Wt.childNodes),i[Wt.childNodes.length].nodeType}catch{O={apply:function(nt,lt){At.apply(nt,r.call(lt))},call:function(nt){At.apply(nt,r.call(arguments,1))}}}function Lt(G,nt,lt,ht){var _t,Ct,Vt,Yt,Nt,Ee,ae,Jt=nt&&nt.ownerDocument,pe=nt?nt.nodeType:9;if(lt=lt||[],typeof G!="string"||!G||pe!==1&&pe!==9&&pe!==11)return lt;if(!ht&&(fs(nt),nt=nt||F,X)){if(pe!==11&&(Nt=St.exec(G)))if(_t=Nt[1]){if(pe===9)if(Vt=nt.getElementById(_t)){if(Vt.id===_t)return O.call(lt,Vt),lt}else return lt;else if(Jt&&(Vt=Jt.getElementById(_t))&&Lt.contains(nt,Vt)&&Vt.id===_t)return O.call(lt,Vt),lt}else{if(Nt[2])return O.apply(lt,nt.getElementsByTagName(G)),lt;if((_t=Nt[3])&&nt.getElementsByClassName)return O.apply(lt,nt.getElementsByClassName(_t)),lt}if(!In[G+" "]&&(!st||!st.test(G))){if(ae=G,Jt=nt,pe===1&&(p.test(G)||Gn.test(G))){for(Jt=Ve.test(G)&&xs(nt.parentNode)||nt,(Jt!=nt||!P.scope)&&((Yt=nt.getAttribute("id"))?Yt=y.escapeSelector(Yt):nt.setAttribute("id",Yt=gt)),Ee=Ss(G),Ct=Ee.length;Ct--;)Ee[Ct]=(Yt?"#"+Yt:":scope")+" "+ur(Ee[Ct]);ae=Ee.join(",")}try{return O.apply(lt,Jt.querySelectorAll(ae)),lt}catch{In(G,!0)}finally{Yt===gt&&nt.removeAttribute("id")}}}return co(G.replace(Bt,"$1"),nt,lt,ht)}function Ns(){var G=[];function nt(lt,ht){return G.push(lt+" ")>_.cacheLength&&delete nt[G.shift()],nt[lt+" "]=ht}return nt}function Cn(G){return G[gt]=!0,G}function cr(G){var nt=F.createElement("fieldset");try{return!!G(nt)}catch{return!1}finally{nt.parentNode&&nt.parentNode.removeChild(nt),nt=null}}function oo(G){return function(nt){return z(nt,"input")&&nt.type===G}}function ul(G){return function(nt){return(z(nt,"input")||z(nt,"button"))&&nt.type===G}}function ao(G){return function(nt){return"form"in nt?nt.parentNode&&nt.disabled===!1?"label"in nt?"label"in nt.parentNode?nt.parentNode.disabled===G:nt.disabled===G:nt.isDisabled===G||nt.isDisabled!==!G&&_n(nt)===G:nt.disabled===G:"label"in nt?nt.disabled===G:!1}}function ds(G){return Cn(function(nt){return nt=+nt,Cn(function(lt,ht){for(var _t,Ct=G([],lt.length,nt),Vt=Ct.length;Vt--;)lt[_t=Ct[Vt]]&&(lt[_t]=!(ht[_t]=lt[_t]))})})}function xs(G){return G&&typeof G.getElementsByTagName<"u"&&G}function fs(G){var nt,lt=G?G.ownerDocument||G:Wt;return lt==F||lt.nodeType!==9||!lt.documentElement||(F=lt,J=F.documentElement,X=!y.isXMLDoc(F),dt=J.matches||J.webkitMatchesSelector||J.msMatchesSelector,J.msMatchesSelector&&Wt!=F&&(nt=F.defaultView)&&nt.top!==nt&&nt.addEventListener("unload",$e),P.getById=cr(function(ht){return J.appendChild(ht).id=y.expando,!F.getElementsByName||!F.getElementsByName(y.expando).length}),P.disconnectedMatch=cr(function(ht){return dt.call(ht,"*")}),P.scope=cr(function(){return F.querySelectorAll(":scope")}),P.cssHas=cr(function(){try{return F.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),P.getById?(_.filter.ID=function(ht){var _t=ht.replace(Xe,_e);return function(Ct){return Ct.getAttribute("id")===_t}},_.find.ID=function(ht,_t){if(typeof _t.getElementById<"u"&&X){var Ct=_t.getElementById(ht);return Ct?[Ct]:[]}}):(_.filter.ID=function(ht){var _t=ht.replace(Xe,_e);return function(Ct){var Vt=typeof Ct.getAttributeNode<"u"&&Ct.getAttributeNode("id");return Vt&&Vt.value===_t}},_.find.ID=function(ht,_t){if(typeof _t.getElementById<"u"&&X){var Ct,Vt,Yt,Nt=_t.getElementById(ht);if(Nt){if(Ct=Nt.getAttributeNode("id"),Ct&&Ct.value===ht)return[Nt];for(Yt=_t.getElementsByName(ht),Vt=0;Nt=Yt[Vt++];)if(Ct=Nt.getAttributeNode("id"),Ct&&Ct.value===ht)return[Nt]}return[]}}),_.find.TAG=function(ht,_t){return typeof _t.getElementsByTagName<"u"?_t.getElementsByTagName(ht):_t.querySelectorAll(ht)},_.find.CLASS=function(ht,_t){if(typeof _t.getElementsByClassName<"u"&&X)return _t.getElementsByClassName(ht)},st=[],cr(function(ht){var _t;J.appendChild(ht).innerHTML="<a id='"+gt+"' href='' disabled='disabled'></a><select id='"+gt+"-\r\\' disabled='disabled'><option selected=''></option></select>",ht.querySelectorAll("[selected]").length||st.push("\\["+$+"*(?:value|"+ki+")"),ht.querySelectorAll("[id~="+gt+"-]").length||st.push("~="),ht.querySelectorAll("a#"+gt+"+*").length||st.push(".#.+[+~]"),ht.querySelectorAll(":checked").length||st.push(":checked"),_t=F.createElement("input"),_t.setAttribute("type","hidden"),ht.appendChild(_t).setAttribute("name","D"),J.appendChild(ht).disabled=!0,ht.querySelectorAll(":disabled").length!==2&&st.push(":enabled",":disabled"),_t=F.createElement("input"),_t.setAttribute("name",""),ht.appendChild(_t),ht.querySelectorAll("[name='']").length||st.push("\\["+$+"*name"+$+"*="+$+`*(?:''|"")`)}),P.cssHas||st.push(":has"),st=st.length&&new RegExp(st.join("|")),fn=function(ht,_t){if(ht===_t)return R=!0,0;var Ct=!ht.compareDocumentPosition-!_t.compareDocumentPosition;return Ct||(Ct=(ht.ownerDocument||ht)==(_t.ownerDocument||_t)?ht.compareDocumentPosition(_t):1,Ct&1||!P.sortDetached&&_t.compareDocumentPosition(ht)===Ct?ht===F||ht.ownerDocument==Wt&&Lt.contains(Wt,ht)?-1:_t===F||_t.ownerDocument==Wt&&Lt.contains(Wt,_t)?1:E?c.call(E,ht)-c.call(E,_t):0:Ct&4?-1:1)}),F}Lt.matches=function(G,nt){return Lt(G,null,null,nt)},Lt.matchesSelector=function(G,nt){if(fs(G),X&&!In[nt+" "]&&(!st||!st.test(nt)))try{var lt=dt.call(G,nt);if(lt||P.disconnectedMatch||G.document&&G.document.nodeType!==11)return lt}catch{In(nt,!0)}return Lt(nt,F,null,[G]).length>0},Lt.contains=function(G,nt){return(G.ownerDocument||G)!=F&&fs(G),y.contains(G,nt)},Lt.attr=function(G,nt){(G.ownerDocument||G)!=F&&fs(G);var lt=_.attrHandle[nt.toLowerCase()],ht=lt&&w.call(_.attrHandle,nt.toLowerCase())?lt(G,nt,!X):void 0;return ht!==void 0?ht:G.getAttribute(nt)},Lt.error=function(G){throw new Error("Syntax error, unrecognized expression: "+G)},y.uniqueSort=function(G){var nt,lt=[],ht=0,_t=0;if(R=!P.sortStable,E=!P.sortStable&&r.call(G,0),q.call(G,fn),R){for(;nt=G[_t++];)nt===G[_t]&&(ht=lt.push(_t));for(;ht--;)Z.call(G,lt[ht],1)}return E=null,G},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(r.apply(this)))},_=y.expr={cacheLength:50,createPseudo:Cn,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(G){return G[1]=G[1].replace(Xe,_e),G[3]=(G[3]||G[4]||G[5]||"").replace(Xe,_e),G[2]==="~="&&(G[3]=" "+G[3]+" "),G.slice(0,4)},CHILD:function(G){return G[1]=G[1].toLowerCase(),G[1].slice(0,3)==="nth"?(G[3]||Lt.error(G[0]),G[4]=+(G[4]?G[5]+(G[6]||1):2*(G[3]==="even"||G[3]==="odd")),G[5]=+(G[7]+G[8]||G[3]==="odd")):G[3]&&Lt.error(G[0]),G},PSEUDO:function(G){var nt,lt=!G[6]&&G[2];return Y.CHILD.test(G[0])?null:(G[3]?G[2]=G[4]||G[5]||"":lt&&S.test(lt)&&(nt=Ss(lt,!0))&&(nt=lt.indexOf(")",lt.length-nt)-lt.length)&&(G[0]=G[0].slice(0,nt),G[2]=lt.slice(0,nt)),G.slice(0,3))}},filter:{TAG:function(G){var nt=G.replace(Xe,_e).toLowerCase();return G==="*"?function(){return!0}:function(lt){return z(lt,nt)}},CLASS:function(G){var nt=ee[G+" "];return nt||(nt=new RegExp("(^|"+$+")"+G+"("+$+"|$)"))&&ee(G,function(lt){return nt.test(typeof lt.className=="string"&&lt.className||typeof lt.getAttribute<"u"&&lt.getAttribute("class")||"")})},ATTR:function(G,nt,lt){return function(ht){var _t=Lt.attr(ht,G);return _t==null?nt==="!=":nt?(_t+="",nt==="="?_t===lt:nt==="!="?_t!==lt:nt==="^="?lt&&_t.indexOf(lt)===0:nt==="*="?lt&&_t.indexOf(lt)>-1:nt==="$="?lt&&_t.slice(-lt.length)===lt:nt==="~="?(" "+_t.replace(ge," ")+" ").indexOf(lt)>-1:nt==="|="?_t===lt||_t.slice(0,lt.length+1)===lt+"-":!1):!0}},CHILD:function(G,nt,lt,ht,_t){var Ct=G.slice(0,3)!=="nth",Vt=G.slice(-4)!=="last",Yt=nt==="of-type";return ht===1&&_t===0?function(Nt){return!!Nt.parentNode}:function(Nt,Ee,ae){var Jt,pe,qt,qe,di,Mn=Ct!==Vt?"nextSibling":"previousSibling",Gi=Nt.parentNode,ps=Yt&&Nt.nodeName.toLowerCase(),dr=!ae&&!Yt,Fn=!1;if(Gi){if(Ct){for(;Mn;){for(qt=Nt;qt=qt[Mn];)if(Yt?z(qt,ps):qt.nodeType===1)return!1;di=Mn=G==="only"&&!di&&"nextSibling"}return!0}if(di=[Vt?Gi.firstChild:Gi.lastChild],Vt&&dr){for(pe=Gi[gt]||(Gi[gt]={}),Jt=pe[G]||[],qe=Jt[0]===ct&&Jt[1],Fn=qe&&Jt[2],qt=qe&&Gi.childNodes[qe];qt=++qe&&qt&&qt[Mn]||(Fn=qe=0)||di.pop();)if(qt.nodeType===1&&++Fn&&qt===Nt){pe[G]=[ct,qe,Fn];break}}else if(dr&&(pe=Nt[gt]||(Nt[gt]={}),Jt=pe[G]||[],qe=Jt[0]===ct&&Jt[1],Fn=qe),Fn===!1)for(;(qt=++qe&&qt&&qt[Mn]||(Fn=qe=0)||di.pop())&&!((Yt?z(qt,ps):qt.nodeType===1)&&++Fn&&(dr&&(pe=qt[gt]||(qt[gt]={}),pe[G]=[ct,Fn]),qt===Nt)););return Fn-=_t,Fn===ht||Fn%ht===0&&Fn/ht>=0}}},PSEUDO:function(G,nt){var lt,ht=_.pseudos[G]||_.setFilters[G.toLowerCase()]||Lt.error("unsupported pseudo: "+G);return ht[gt]?ht(nt):ht.length>1?(lt=[G,G,"",nt],_.setFilters.hasOwnProperty(G.toLowerCase())?Cn(function(_t,Ct){for(var Vt,Yt=ht(_t,nt),Nt=Yt.length;Nt--;)Vt=c.call(_t,Yt[Nt]),_t[Vt]=!(Ct[Vt]=Yt[Nt])}):function(_t){return ht(_t,0,lt)}):ht}},pseudos:{not:Cn(function(G){var nt=[],lt=[],ht=lo(G.replace(Bt,"$1"));return ht[gt]?Cn(function(_t,Ct,Vt,Yt){for(var Nt,Ee=ht(_t,null,Yt,[]),ae=_t.length;ae--;)(Nt=Ee[ae])&&(_t[ae]=!(Ct[ae]=Nt))}):function(_t,Ct,Vt){return nt[0]=_t,ht(nt,null,Vt,lt),nt[0]=null,!lt.pop()}}),has:Cn(function(G){return function(nt){return Lt(G,nt).length>0}}),contains:Cn(function(G){return G=G.replace(Xe,_e),function(nt){return(nt.textContent||y.text(nt)).indexOf(G)>-1}}),lang:Cn(function(G){return D.test(G||"")||Lt.error("unsupported lang: "+G),G=G.replace(Xe,_e).toLowerCase(),function(nt){var lt;do if(lt=X?nt.lang:nt.getAttribute("xml:lang")||nt.getAttribute("lang"))return lt=lt.toLowerCase(),lt===G||lt.indexOf(G+"-")===0;while((nt=nt.parentNode)&&nt.nodeType===1);return!1}}),target:function(G){var nt=t.location&&t.location.hash;return nt&&nt.slice(1)===G.id},root:function(G){return G===J},focus:function(G){return G===Ls()&&F.hasFocus()&&!!(G.type||G.href||~G.tabIndex)},enabled:ao(!1),disabled:ao(!0),checked:function(G){return z(G,"input")&&!!G.checked||z(G,"option")&&!!G.selected},selected:function(G){return G.parentNode&&G.parentNode.selectedIndex,G.selected===!0},empty:function(G){for(G=G.firstChild;G;G=G.nextSibling)if(G.nodeType<6)return!1;return!0},parent:function(G){return!_.pseudos.empty(G)},header:function(G){return ut.test(G.nodeName)},input:function(G){return ot.test(G.nodeName)},button:function(G){return z(G,"input")&&G.type==="button"||z(G,"button")},text:function(G){var nt;return z(G,"input")&&G.type==="text"&&((nt=G.getAttribute("type"))==null||nt.toLowerCase()==="text")},first:ds(function(){return[0]}),last:ds(function(G,nt){return[nt-1]}),eq:ds(function(G,nt,lt){return[lt<0?lt+nt:lt]}),even:ds(function(G,nt){for(var lt=0;lt<nt;lt+=2)G.push(lt);return G}),odd:ds(function(G,nt){for(var lt=1;lt<nt;lt+=2)G.push(lt);return G}),lt:ds(function(G,nt,lt){var ht;for(lt<0?ht=lt+nt:lt>nt?ht=nt:ht=lt;--ht>=0;)G.push(ht);return G}),gt:ds(function(G,nt,lt){for(var ht=lt<0?lt+nt:lt;++ht<nt;)G.push(ht);return G})}},_.pseudos.nth=_.pseudos.eq;for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[d]=oo(d);for(d in{submit:!0,reset:!0})_.pseudos[d]=ul(d);function hl(){}hl.prototype=_.filters=_.pseudos,_.setFilters=new hl;function Ss(G,nt){var lt,ht,_t,Ct,Vt,Yt,Nt,Ee=we[G+" "];if(Ee)return nt?0:Ee.slice(0);for(Vt=G,Yt=[],Nt=_.preFilter;Vt;){(!lt||(ht=an.exec(Vt)))&&(ht&&(Vt=Vt.slice(ht[0].length)||Vt),Yt.push(_t=[])),lt=!1,(ht=Gn.exec(Vt))&&(lt=ht.shift(),_t.push({value:lt,type:ht[0].replace(Bt," ")}),Vt=Vt.slice(lt.length));for(Ct in _.filter)(ht=Y[Ct].exec(Vt))&&(!Nt[Ct]||(ht=Nt[Ct](ht)))&&(lt=ht.shift(),_t.push({value:lt,type:Ct,matches:ht}),Vt=Vt.slice(lt.length));if(!lt)break}return nt?Vt.length:Vt?Lt.error(G):we(G,Yt).slice(0)}function ur(G){for(var nt=0,lt=G.length,ht="";nt<lt;nt++)ht+=G[nt].value;return ht}function Ii(G,nt,lt){var ht=nt.dir,_t=nt.next,Ct=_t||ht,Vt=lt&&Ct==="parentNode",Yt=Tt++;return nt.first?function(Nt,Ee,ae){for(;Nt=Nt[ht];)if(Nt.nodeType===1||Vt)return G(Nt,Ee,ae);return!1}:function(Nt,Ee,ae){var Jt,pe,qt=[ct,Yt];if(ae){for(;Nt=Nt[ht];)if((Nt.nodeType===1||Vt)&&G(Nt,Ee,ae))return!0}else for(;Nt=Nt[ht];)if(Nt.nodeType===1||Vt)if(pe=Nt[gt]||(Nt[gt]={}),_t&&z(Nt,_t))Nt=Nt[ht]||Nt;else{if((Jt=pe[Ct])&&Jt[0]===ct&&Jt[1]===Yt)return qt[2]=Jt[2];if(pe[Ct]=qt,qt[2]=G(Nt,Ee,ae))return!0}return!1}}function Pa(G){return G.length>1?function(nt,lt,ht){for(var _t=G.length;_t--;)if(!G[_t](nt,lt,ht))return!1;return!0}:G[0]}function hr(G,nt,lt){for(var ht=0,_t=nt.length;ht<_t;ht++)Lt(G,nt[ht],lt);return lt}function Yo(G,nt,lt,ht,_t){for(var Ct,Vt=[],Yt=0,Nt=G.length,Ee=nt!=null;Yt<Nt;Yt++)(Ct=G[Yt])&&(!lt||lt(Ct,ht,_t))&&(Vt.push(Ct),Ee&&nt.push(Yt));return Vt}function Ni(G,nt,lt,ht,_t,Ct){return ht&&!ht[gt]&&(ht=Ni(ht)),_t&&!_t[gt]&&(_t=Ni(_t,Ct)),Cn(function(Vt,Yt,Nt,Ee){var ae,Jt,pe,qt,qe=[],di=[],Mn=Yt.length,Gi=Vt||hr(nt||"*",Nt.nodeType?[Nt]:Nt,[]),ps=G&&(Vt||!nt)?Yo(Gi,qe,G,Nt,Ee):Gi;if(lt?(qt=_t||(Vt?G:Mn||ht)?[]:Yt,lt(ps,qt,Nt,Ee)):qt=ps,ht)for(ae=Yo(qt,di),ht(ae,[],Nt,Ee),Jt=ae.length;Jt--;)(pe=ae[Jt])&&(qt[di[Jt]]=!(ps[di[Jt]]=pe));if(Vt){if(_t||G){if(_t){for(ae=[],Jt=qt.length;Jt--;)(pe=qt[Jt])&&ae.push(ps[Jt]=pe);_t(null,qt=[],ae,Ee)}for(Jt=qt.length;Jt--;)(pe=qt[Jt])&&(ae=_t?c.call(Vt,pe):qe[Jt])>-1&&(Vt[ae]=!(Yt[ae]=pe))}}else qt=Yo(qt===Yt?qt.splice(Mn,qt.length):qt),_t?_t(null,Yt,qt,Ee):O.apply(Yt,qt)})}function Xs(G){for(var nt,lt,ht,_t=G.length,Ct=_.relative[G[0].type],Vt=Ct||_.relative[" "],Yt=Ct?1:0,Nt=Ii(function(Jt){return Jt===nt},Vt,!0),Ee=Ii(function(Jt){return c.call(nt,Jt)>-1},Vt,!0),ae=[function(Jt,pe,qt){var qe=!Ct&&(qt||pe!=T)||((nt=pe).nodeType?Nt(Jt,pe,qt):Ee(Jt,pe,qt));return nt=null,qe}];Yt<_t;Yt++)if(lt=_.relative[G[Yt].type])ae=[Ii(Pa(ae),lt)];else{if(lt=_.filter[G[Yt].type].apply(null,G[Yt].matches),lt[gt]){for(ht=++Yt;ht<_t&&!_.relative[G[ht].type];ht++);return Ni(Yt>1&&Pa(ae),Yt>1&&ur(G.slice(0,Yt-1).concat({value:G[Yt-2].type===" "?"*":""})).replace(Bt,"$1"),lt,Yt<ht&&Xs(G.slice(Yt,ht)),ht<_t&&Xs(G=G.slice(ht)),ht<_t&&ur(G))}ae.push(lt)}return Pa(ae)}function $o(G,nt){var lt=nt.length>0,ht=G.length>0,_t=function(Ct,Vt,Yt,Nt,Ee){var ae,Jt,pe,qt=0,qe="0",di=Ct&&[],Mn=[],Gi=T,ps=Ct||ht&&_.find.TAG("*",Ee),dr=ct+=Gi==null?1:Math.random()||.1,Fn=ps.length;for(Ee&&(T=Vt==F||Vt||Ee);qe!==Fn&&(ae=ps[qe])!=null;qe++){if(ht&&ae){for(Jt=0,!Vt&&ae.ownerDocument!=F&&(fs(ae),Yt=!X);pe=G[Jt++];)if(pe(ae,Vt||F,Yt)){O.call(Nt,ae);break}Ee&&(ct=dr)}lt&&((ae=!pe&&ae)&&qt--,Ct&&di.push(ae))}if(qt+=qe,lt&&qe!==qt){for(Jt=0;pe=nt[Jt++];)pe(di,Mn,Vt,Yt);if(Ct){if(qt>0)for(;qe--;)di[qe]||Mn[qe]||(Mn[qe]=H.call(Nt));Mn=Yo(Mn)}O.apply(Nt,Mn),Ee&&!Ct&&Mn.length>0&&qt+nt.length>1&&y.uniqueSort(Nt)}return Ee&&(ct=dr,T=Gi),di};return lt?Cn(_t):_t}function lo(G,nt){var lt,ht=[],_t=[],Ct=oe[G+" "];if(!Ct){for(nt||(nt=Ss(G)),lt=nt.length;lt--;)Ct=Xs(nt[lt]),Ct[gt]?ht.push(Ct):_t.push(Ct);Ct=oe(G,$o(_t,ht)),Ct.selector=G}return Ct}function co(G,nt,lt,ht){var _t,Ct,Vt,Yt,Nt,Ee=typeof G=="function"&&G,ae=!ht&&Ss(G=Ee.selector||G);if(lt=lt||[],ae.length===1){if(Ct=ae[0]=ae[0].slice(0),Ct.length>2&&(Vt=Ct[0]).type==="ID"&&nt.nodeType===9&&X&&_.relative[Ct[1].type]){if(nt=(_.find.ID(Vt.matches[0].replace(Xe,_e),nt)||[])[0],nt)Ee&&(nt=nt.parentNode);else return lt;G=G.slice(Ct.shift().value.length)}for(_t=Y.needsContext.test(G)?0:Ct.length;_t--&&(Vt=Ct[_t],!_.relative[Yt=Vt.type]);)if((Nt=_.find[Yt])&&(ht=Nt(Vt.matches[0].replace(Xe,_e),Ve.test(Ct[0].type)&&xs(nt.parentNode)||nt))){if(Ct.splice(_t,1),G=ht.length&&ur(Ct),!G)return O.apply(lt,ht),lt;break}}return(Ee||lo(G,ae))(ht,nt,!X,lt,!nt||Ve.test(G)&&xs(nt.parentNode)||nt),lt}P.sortStable=gt.split("").sort(fn).join("")===gt,fs(),P.sortDetached=cr(function(G){return G.compareDocumentPosition(F.createElement("fieldset"))&1}),y.find=Lt,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,Lt.compile=lo,Lt.select=co,Lt.setDocument=fs,Lt.tokenize=Ss,Lt.escape=y.escapeSelector,Lt.getText=y.text,Lt.isXML=y.isXMLDoc,Lt.selectors=y.expr,Lt.support=y.support,Lt.uniqueSort=y.uniqueSort})();var de=function(d,_,T){for(var E=[],R=T!==void 0;(d=d[_])&&d.nodeType!==9;)if(d.nodeType===1){if(R&&y(d).is(T))break;E.push(d)}return E},Rt=function(d,_){for(var T=[];d;d=d.nextSibling)d.nodeType===1&&d!==_&&T.push(d);return T},xt=y.expr.match.needsContext,Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function It(d,_,T){return A(_)?y.grep(d,function(E,R){return!!_.call(E,R,E)!==T}):_.nodeType?y.grep(d,function(E){return E===_!==T}):typeof _!="string"?y.grep(d,function(E){return c.call(_,E)>-1!==T}):y.filter(_,d,T)}y.filter=function(d,_,T){var E=_[0];return T&&(d=":not("+d+")"),_.length===1&&E.nodeType===1?y.find.matchesSelector(E,d)?[E]:[]:y.find.matches(d,y.grep(_,function(R){return R.nodeType===1}))},y.fn.extend({find:function(d){var _,T,E=this.length,R=this;if(typeof d!="string")return this.pushStack(y(d).filter(function(){for(_=0;_<E;_++)if(y.contains(R[_],this))return!0}));for(T=this.pushStack([]),_=0;_<E;_++)y.find(d,R[_],T);return E>1?y.uniqueSort(T):T},filter:function(d){return this.pushStack(It(this,d||[],!1))},not:function(d){return this.pushStack(It(this,d||[],!0))},is:function(d){return!!It(this,typeof d=="string"&&xt.test(d)?y(d):d||[],!1).length}});var Qt,yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ut=y.fn.init=function(d,_,T){var E,R;if(!d)return this;if(T=T||Qt,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?E=[null,d,null]:E=yt.exec(d),E&&(E[1]||!_))if(E[1]){if(_=_ instanceof y?_[0]:_,y.merge(this,y.parseHTML(E[1],_&&_.nodeType?_.ownerDocument||_:j,!0)),Mt.test(E[1])&&y.isPlainObject(_))for(E in _)A(this[E])?this[E](_[E]):this.attr(E,_[E]);return this}else return R=j.getElementById(E[2]),R&&(this[0]=R,this.length=1),this;else return!_||_.jquery?(_||T).find(d):this.constructor(_).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(A(d))return T.ready!==void 0?T.ready(d):d(y)}return y.makeArray(d,this)};Ut.prototype=y.fn,Qt=y(j);var Te=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(d){var _=y(d,this),T=_.length;return this.filter(function(){for(var E=0;E<T;E++)if(y.contains(this,_[E]))return!0})},closest:function(d,_){var T,E=0,R=this.length,O=[],F=typeof d!="string"&&y(d);if(!xt.test(d)){for(;E<R;E++)for(T=this[E];T&&T!==_;T=T.parentNode)if(T.nodeType<11&&(F?F.index(T)>-1:T.nodeType===1&&y.find.matchesSelector(T,d))){O.push(T);break}}return this.pushStack(O.length>1?y.uniqueSort(O):O)},index:function(d){return d?typeof d=="string"?c.call(y(d),this[0]):c.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,_){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(d,_))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function vn(d,_){for(;(d=d[_])&&d.nodeType!==1;);return d}y.each({parent:function(d){var _=d.parentNode;return _&&_.nodeType!==11?_:null},parents:function(d){return de(d,"parentNode")},parentsUntil:function(d,_,T){return de(d,"parentNode",T)},next:function(d){return vn(d,"nextSibling")},prev:function(d){return vn(d,"previousSibling")},nextAll:function(d){return de(d,"nextSibling")},prevAll:function(d){return de(d,"previousSibling")},nextUntil:function(d,_,T){return de(d,"nextSibling",T)},prevUntil:function(d,_,T){return de(d,"previousSibling",T)},siblings:function(d){return Rt((d.parentNode||{}).firstChild,d)},children:function(d){return Rt(d.firstChild)},contents:function(d){return d.contentDocument!=null&&s(d.contentDocument)?d.contentDocument:(z(d,"template")&&(d=d.content||d),y.merge([],d.childNodes))}},function(d,_){y.fn[d]=function(T,E){var R=y.map(this,_,T);return d.slice(-5)!=="Until"&&(E=T),E&&typeof E=="string"&&(R=y.filter(E,R)),this.length>1&&(Ae[d]||y.uniqueSort(R),Te.test(d)&&R.reverse()),this.pushStack(R)}});var Ye=/[^\x20\t\r\n\f]+/g;function On(d){var _={};return y.each(d.match(Ye)||[],function(T,E){_[E]=!0}),_}y.Callbacks=function(d){d=typeof d=="string"?On(d):y.extend({},d);var _,T,E,R,O=[],F=[],J=-1,X=function(){for(R=R||d.once,E=_=!0;F.length;J=-1)for(T=F.shift();++J<O.length;)O[J].apply(T[0],T[1])===!1&&d.stopOnFalse&&(J=O.length,T=!1);d.memory||(T=!1),_=!1,R&&(T?O=[]:O="")},st={add:function(){return O&&(T&&!_&&(J=O.length-1,F.push(T)),function dt(gt){y.each(gt,function(ct,Tt){A(Tt)?(!d.unique||!st.has(Tt))&&O.push(Tt):Tt&&Tt.length&&it(Tt)!=="string"&&dt(Tt)})}(arguments),T&&!_&&X()),this},remove:function(){return y.each(arguments,function(dt,gt){for(var ct;(ct=y.inArray(gt,O,ct))>-1;)O.splice(ct,1),ct<=J&&J--}),this},has:function(dt){return dt?y.inArray(dt,O)>-1:O.length>0},empty:function(){return O&&(O=[]),this},disable:function(){return R=F=[],O=T="",this},disabled:function(){return!O},lock:function(){return R=F=[],!T&&!_&&(O=T=""),this},locked:function(){return!!R},fireWith:function(dt,gt){return R||(gt=gt||[],gt=[dt,gt.slice?gt.slice():gt],F.push(gt),_||X()),this},fire:function(){return st.fireWith(this,arguments),this},fired:function(){return!!E}};return st};function cn(d){return d}function Bn(d){throw d}function Yn(d,_,T,E){var R;try{d&&A(R=d.promise)?R.call(d).done(_).fail(T):d&&A(R=d.then)?R.call(d,_,T):_.apply(void 0,[d].slice(E))}catch(O){T.apply(void 0,[O])}}y.extend({Deferred:function(d){var _=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],T="pending",E={state:function(){return T},always:function(){return R.done(arguments).fail(arguments),this},catch:function(O){return E.then(null,O)},pipe:function(){var O=arguments;return y.Deferred(function(F){y.each(_,function(J,X){var st=A(O[X[4]])&&O[X[4]];R[X[1]](function(){var dt=st&&st.apply(this,arguments);dt&&A(dt.promise)?dt.promise().progress(F.notify).done(F.resolve).fail(F.reject):F[X[0]+"With"](this,st?[dt]:arguments)})}),O=null}).promise()},then:function(O,F,J){var X=0;function st(dt,gt,ct,Tt){return function(){var ee=this,we=arguments,oe=function(){var fn,ki;if(!(dt<X)){if(fn=ct.apply(ee,we),fn===gt.promise())throw new TypeError("Thenable self-resolution");ki=fn&&(typeof fn=="object"||typeof fn=="function")&&fn.then,A(ki)?Tt?ki.call(fn,st(X,gt,cn,Tt),st(X,gt,Bn,Tt)):(X++,ki.call(fn,st(X,gt,cn,Tt),st(X,gt,Bn,Tt),st(X,gt,cn,gt.notifyWith))):(ct!==cn&&(ee=void 0,we=[fn]),(Tt||gt.resolveWith)(ee,we))}},In=Tt?oe:function(){try{oe()}catch(fn){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(fn,In.error),dt+1>=X&&(ct!==Bn&&(ee=void 0,we=[fn]),gt.rejectWith(ee,we))}};dt?In():(y.Deferred.getErrorHook?In.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(In.error=y.Deferred.getStackHook()),t.setTimeout(In))}}return y.Deferred(function(dt){_[0][3].add(st(0,dt,A(J)?J:cn,dt.notifyWith)),_[1][3].add(st(0,dt,A(O)?O:cn)),_[2][3].add(st(0,dt,A(F)?F:Bn))}).promise()},promise:function(O){return O!=null?y.extend(O,E):E}},R={};return y.each(_,function(O,F){var J=F[2],X=F[5];E[F[1]]=J.add,X&&J.add(function(){T=X},_[3-O][2].disable,_[3-O][3].disable,_[0][2].lock,_[0][3].lock),J.add(F[3].fire),R[F[0]]=function(){return R[F[0]+"With"](this===R?void 0:this,arguments),this},R[F[0]+"With"]=J.fireWith}),E.promise(R),d&&d.call(R,R),R},when:function(d){var _=arguments.length,T=_,E=Array(T),R=r.call(arguments),O=y.Deferred(),F=function(J){return function(X){E[J]=this,R[J]=arguments.length>1?r.call(arguments):X,--_||O.resolveWith(E,R)}};if(_<=1&&(Yn(d,O.done(F(T)).resolve,O.reject,!_),O.state()==="pending"||A(R[T]&&R[T].then)))return O.then();for(;T--;)Yn(R[T],F(T),O.reject);return O.promise()}});var Qn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(d,_){t.console&&t.console.warn&&d&&Qn.test(d.name)&&t.console.warn("jQuery.Deferred exception: "+d.message,d.stack,_)},y.readyException=function(d){t.setTimeout(function(){throw d})};var _i=y.Deferred();y.fn.ready=function(d){return _i.then(d).catch(function(_){y.readyException(_)}),this},y.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(d!==!0&&--y.readyWait>0)&&_i.resolveWith(j,[y]))}}),y.ready.then=_i.then;function Ln(){j.removeEventListener("DOMContentLoaded",Ln),t.removeEventListener("load",Ln),y.ready()}j.readyState==="complete"||j.readyState!=="loading"&&!j.documentElement.doScroll?t.setTimeout(y.ready):(j.addEventListener("DOMContentLoaded",Ln),t.addEventListener("load",Ln));var nn=function(d,_,T,E,R,O,F){var J=0,X=d.length,st=T==null;if(it(T)==="object"){R=!0;for(J in T)nn(d,_,J,T[J],!0,O,F)}else if(E!==void 0&&(R=!0,A(E)||(F=!0),st&&(F?(_.call(d,E),_=null):(st=_,_=function(dt,gt,ct){return st.call(y(dt),ct)})),_))for(;J<X;J++)_(d[J],T,F?E:E.call(d[J],J,_(d[J],T)));return R?d:st?_.call(d):X?_(d[0],T):O},yi=/^-ms-/,vi=/-([a-z])/g;function ze(d,_){return _.toUpperCase()}function kn(d){return d.replace(yi,"ms-").replace(vi,ze)}var _s=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function As(){this.expando=y.expando+As.uid++}As.uid=1,As.prototype={cache:function(d){var _=d[this.expando];return _||(_={},_s(d)&&(d.nodeType?d[this.expando]=_:Object.defineProperty(d,this.expando,{value:_,configurable:!0}))),_},set:function(d,_,T){var E,R=this.cache(d);if(typeof _=="string")R[kn(_)]=T;else for(E in _)R[kn(E)]=_[E];return R},get:function(d,_){return _===void 0?this.cache(d):d[this.expando]&&d[this.expando][kn(_)]},access:function(d,_,T){return _===void 0||_&&typeof _=="string"&&T===void 0?this.get(d,_):(this.set(d,_,T),T!==void 0?T:_)},remove:function(d,_){var T,E=d[this.expando];if(E!==void 0){if(_!==void 0)for(Array.isArray(_)?_=_.map(kn):(_=kn(_),_=_ in E?[_]:_.match(Ye)||[]),T=_.length;T--;)delete E[_[T]];(_===void 0||y.isEmptyObject(E))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var _=d[this.expando];return _!==void 0&&!y.isEmptyObject(_)}};var Gt=new As,ce=new As,Nn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ds=/[A-Z]/g;function sr(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:Nn.test(d)?JSON.parse(d):d}function Be(d,_,T){var E;if(T===void 0&&d.nodeType===1)if(E="data-"+_.replace(Ds,"-$&").toLowerCase(),T=d.getAttribute(E),typeof T=="string"){try{T=sr(T)}catch{}ce.set(d,_,T)}else T=void 0;return T}y.extend({hasData:function(d){return ce.hasData(d)||Gt.hasData(d)},data:function(d,_,T){return ce.access(d,_,T)},removeData:function(d,_){ce.remove(d,_)},_data:function(d,_,T){return Gt.access(d,_,T)},_removeData:function(d,_){Gt.remove(d,_)}}),y.fn.extend({data:function(d,_){var T,E,R,O=this[0],F=O&&O.attributes;if(d===void 0){if(this.length&&(R=ce.get(O),O.nodeType===1&&!Gt.get(O,"hasDataAttrs"))){for(T=F.length;T--;)F[T]&&(E=F[T].name,E.indexOf("data-")===0&&(E=kn(E.slice(5)),Be(O,E,R[E])));Gt.set(O,"hasDataAttrs",!0)}return R}return typeof d=="object"?this.each(function(){ce.set(this,d)}):nn(this,function(J){var X;if(O&&J===void 0)return X=ce.get(O,d),X!==void 0||(X=Be(O,d),X!==void 0)?X:void 0;this.each(function(){ce.set(this,d,J)})},null,_,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){ce.remove(this,d)})}}),y.extend({queue:function(d,_,T){var E;if(d)return _=(_||"fx")+"queue",E=Gt.get(d,_),T&&(!E||Array.isArray(T)?E=Gt.access(d,_,y.makeArray(T)):E.push(T)),E||[]},dequeue:function(d,_){_=_||"fx";var T=y.queue(d,_),E=T.length,R=T.shift(),O=y._queueHooks(d,_),F=function(){y.dequeue(d,_)};R==="inprogress"&&(R=T.shift(),E--),R&&(_==="fx"&&T.unshift("inprogress"),delete O.stop,R.call(d,F,O)),!E&&O&&O.empty.fire()},_queueHooks:function(d,_){var T=_+"queueHooks";return Gt.get(d,T)||Gt.access(d,T,{empty:y.Callbacks("once memory").add(function(){Gt.remove(d,[_+"queue",T])})})}}),y.fn.extend({queue:function(d,_){var T=2;return typeof d!="string"&&(_=d,d="fx",T--),arguments.length<T?y.queue(this[0],d):_===void 0?this:this.each(function(){var E=y.queue(this,d,_);y._queueHooks(this,d),d==="fx"&&E[0]!=="inprogress"&&y.dequeue(this,d)})},dequeue:function(d){return this.each(function(){y.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,_){var T,E=1,R=y.Deferred(),O=this,F=this.length,J=function(){--E||R.resolveWith(O,[O])};for(typeof d!="string"&&(_=d,d=void 0),d=d||"fx";F--;)T=Gt.get(O[F],d+"queueHooks"),T&&T.empty&&(E++,T.empty.add(J));return J(),R.promise(_)}});var Er=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wi=new RegExp("^(?:([+-])=|)("+Er+")([a-z%]*)$","i"),Jn=["Top","Right","Bottom","Left"],wi=j.documentElement,bi=function(d){return y.contains(d.ownerDocument,d)},Ws={composed:!0};wi.getRootNode&&(bi=function(d){return y.contains(d.ownerDocument,d)||d.getRootNode(Ws)===d.ownerDocument});var Ai=function(d,_){return d=_||d,d.style.display==="none"||d.style.display===""&&bi(d)&&y.css(d,"display")==="none"};function kr(d,_,T,E){var R,O,F=20,J=E?function(){return E.cur()}:function(){return y.css(d,_,"")},X=J(),st=T&&T[3]||(y.cssNumber[_]?"":"px"),dt=d.nodeType&&(y.cssNumber[_]||st!=="px"&&+X)&&Wi.exec(y.css(d,_));if(dt&&dt[3]!==st){for(X=X/2,st=st||dt[3],dt=+X||1;F--;)y.style(d,_,dt+st),(1-O)*(1-(O=J()/X||.5))<=0&&(F=0),dt=dt/O;dt=dt*2,y.style(d,_,dt+st),T=T||[]}return T&&(dt=+dt||+X||0,R=T[1]?dt+(T[1]+1)*T[2]:+T[2],E&&(E.unit=st,E.start=dt,E.end=R)),R}var Us={};function Kr(d){var _,T=d.ownerDocument,E=d.nodeName,R=Us[E];return R||(_=T.body.appendChild(T.createElement(E)),R=y.css(_,"display"),_.parentNode.removeChild(_),R==="none"&&(R="block"),Us[E]=R,R)}function $n(d,_){for(var T,E,R=[],O=0,F=d.length;O<F;O++)E=d[O],E.style&&(T=E.style.display,_?(T==="none"&&(R[O]=Gt.get(E,"display")||null,R[O]||(E.style.display="")),E.style.display===""&&Ai(E)&&(R[O]=Kr(E))):T!=="none"&&(R[O]="none",Gt.set(E,"display",T)));for(O=0;O<F;O++)R[O]!=null&&(d[O].style.display=R[O]);return d}y.fn.extend({show:function(){return $n(this,!0)},hide:function(){return $n(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){Ai(this)?y(this).show():y(this).hide()})}});var oi=/^(?:checkbox|radio)$/i,Hs=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Di=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=j.createDocumentFragment(),_=d.appendChild(j.createElement("div")),T=j.createElement("input");T.setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","t"),_.appendChild(T),P.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",P.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue,_.innerHTML="<option></option>",P.option=!!_.lastChild})();var Dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,P.option||(Dt.optgroup=Dt.option=[1,"<select multiple='multiple'>","</select>"]);function Vn(d,_){var T;return typeof d.getElementsByTagName<"u"?T=d.getElementsByTagName(_||"*"):typeof d.querySelectorAll<"u"?T=d.querySelectorAll(_||"*"):T=[],_===void 0||_&&z(d,_)?y.merge([d],T):T}function Pr(d,_){for(var T=0,E=d.length;T<E;T++)Gt.set(d[T],"globalEval",!_||Gt.get(_[T],"globalEval"))}var ai=/<|&#?\w+;/;function Wn(d,_,T,E,R){for(var O,F,J,X,st,dt,gt=_.createDocumentFragment(),ct=[],Tt=0,ee=d.length;Tt<ee;Tt++)if(O=d[Tt],O||O===0)if(it(O)==="object")y.merge(ct,O.nodeType?[O]:O);else if(!ai.test(O))ct.push(_.createTextNode(O));else{for(F=F||gt.appendChild(_.createElement("div")),J=(Hs.exec(O)||["",""])[1].toLowerCase(),X=Dt[J]||Dt._default,F.innerHTML=X[1]+y.htmlPrefilter(O)+X[2],dt=X[0];dt--;)F=F.lastChild;y.merge(ct,F.childNodes),F=gt.firstChild,F.textContent=""}for(gt.textContent="",Tt=0;O=ct[Tt++];){if(E&&y.inArray(O,E)>-1){R&&R.push(O);continue}if(st=bi(O),F=Vn(gt.appendChild(O),"script"),st&&Pr(F),T)for(dt=0;O=F[dt++];)Di.test(O.type||"")&&T.push(O)}return gt}var te=/^([^.]*)(?:\.(.+)|)/;function rs(){return!0}function xe(){return!1}function Ri(d,_,T,E,R,O){var F,J;if(typeof _=="object"){typeof T!="string"&&(E=E||T,T=void 0);for(J in _)Ri(d,J,T,E,_[J],O);return d}if(E==null&&R==null?(R=T,E=T=void 0):R==null&&(typeof T=="string"?(R=E,E=void 0):(R=E,E=T,T=void 0)),R===!1)R=xe;else if(!R)return d;return O===1&&(F=R,R=function(X){return y().off(X),F.apply(this,arguments)},R.guid=F.guid||(F.guid=y.guid++)),d.each(function(){y.event.add(this,_,R,E,T)})}y.event={global:{},add:function(d,_,T,E,R){var O,F,J,X,st,dt,gt,ct,Tt,ee,we,oe=Gt.get(d);if(_s(d))for(T.handler&&(O=T,T=O.handler,R=O.selector),R&&y.find.matchesSelector(wi,R),T.guid||(T.guid=y.guid++),(X=oe.events)||(X=oe.events=Object.create(null)),(F=oe.handle)||(F=oe.handle=function(In){return typeof y<"u"&&y.event.triggered!==In.type?y.event.dispatch.apply(d,arguments):void 0}),_=(_||"").match(Ye)||[""],st=_.length;st--;)J=te.exec(_[st])||[],Tt=we=J[1],ee=(J[2]||"").split(".").sort(),Tt&&(gt=y.event.special[Tt]||{},Tt=(R?gt.delegateType:gt.bindType)||Tt,gt=y.event.special[Tt]||{},dt=y.extend({type:Tt,origType:we,data:E,handler:T,guid:T.guid,selector:R,needsContext:R&&y.expr.match.needsContext.test(R),namespace:ee.join(".")},O),(ct=X[Tt])||(ct=X[Tt]=[],ct.delegateCount=0,(!gt.setup||gt.setup.call(d,E,ee,F)===!1)&&d.addEventListener&&d.addEventListener(Tt,F)),gt.add&&(gt.add.call(d,dt),dt.handler.guid||(dt.handler.guid=T.guid)),R?ct.splice(ct.delegateCount++,0,dt):ct.push(dt),y.event.global[Tt]=!0)},remove:function(d,_,T,E,R){var O,F,J,X,st,dt,gt,ct,Tt,ee,we,oe=Gt.hasData(d)&&Gt.get(d);if(!(!oe||!(X=oe.events))){for(_=(_||"").match(Ye)||[""],st=_.length;st--;){if(J=te.exec(_[st])||[],Tt=we=J[1],ee=(J[2]||"").split(".").sort(),!Tt){for(Tt in X)y.event.remove(d,Tt+_[st],T,E,!0);continue}for(gt=y.event.special[Tt]||{},Tt=(E?gt.delegateType:gt.bindType)||Tt,ct=X[Tt]||[],J=J[2]&&new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"),F=O=ct.length;O--;)dt=ct[O],(R||we===dt.origType)&&(!T||T.guid===dt.guid)&&(!J||J.test(dt.namespace))&&(!E||E===dt.selector||E==="**"&&dt.selector)&&(ct.splice(O,1),dt.selector&&ct.delegateCount--,gt.remove&&gt.remove.call(d,dt));F&&!ct.length&&((!gt.teardown||gt.teardown.call(d,ee,oe.handle)===!1)&&y.removeEvent(d,Tt,oe.handle),delete X[Tt])}y.isEmptyObject(X)&&Gt.remove(d,"handle events")}},dispatch:function(d){var _,T,E,R,O,F,J=new Array(arguments.length),X=y.event.fix(d),st=(Gt.get(this,"events")||Object.create(null))[X.type]||[],dt=y.event.special[X.type]||{};for(J[0]=X,_=1;_<arguments.length;_++)J[_]=arguments[_];if(X.delegateTarget=this,!(dt.preDispatch&&dt.preDispatch.call(this,X)===!1)){for(F=y.event.handlers.call(this,X,st),_=0;(R=F[_++])&&!X.isPropagationStopped();)for(X.currentTarget=R.elem,T=0;(O=R.handlers[T++])&&!X.isImmediatePropagationStopped();)(!X.rnamespace||O.namespace===!1||X.rnamespace.test(O.namespace))&&(X.handleObj=O,X.data=O.data,E=((y.event.special[O.origType]||{}).handle||O.handler).apply(R.elem,J),E!==void 0&&(X.result=E)===!1&&(X.preventDefault(),X.stopPropagation()));return dt.postDispatch&&dt.postDispatch.call(this,X),X.result}},handlers:function(d,_){var T,E,R,O,F,J=[],X=_.delegateCount,st=d.target;if(X&&st.nodeType&&!(d.type==="click"&&d.button>=1)){for(;st!==this;st=st.parentNode||this)if(st.nodeType===1&&!(d.type==="click"&&st.disabled===!0)){for(O=[],F={},T=0;T<X;T++)E=_[T],R=E.selector+" ",F[R]===void 0&&(F[R]=E.needsContext?y(R,this).index(st)>-1:y.find(R,this,null,[st]).length),F[R]&&O.push(E);O.length&&J.push({elem:st,handlers:O})}}return st=this,X<_.length&&J.push({elem:st,handlers:_.slice(X)}),J},addProp:function(d,_){Object.defineProperty(y.Event.prototype,d,{enumerable:!0,configurable:!0,get:A(_)?function(){if(this.originalEvent)return _(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(T){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:T})}})},fix:function(d){return d[y.expando]?d:new y.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var _=this||d;return oi.test(_.type)&&_.click&&z(_,"input")&&li(_,"click",!0),!1},trigger:function(d){var _=this||d;return oi.test(_.type)&&_.click&&z(_,"input")&&li(_,"click"),!0},_default:function(d){var _=d.target;return oi.test(_.type)&&_.click&&z(_,"input")&&Gt.get(_,"click")||z(_,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function li(d,_,T){if(!T){Gt.get(d,_)===void 0&&y.event.add(d,_,rs);return}Gt.set(d,_,!1),y.event.add(d,_,{namespace:!1,handler:function(E){var R,O=Gt.get(this,_);if(E.isTrigger&1&&this[_]){if(O)(y.event.special[_]||{}).delegateType&&E.stopPropagation();else if(O=r.call(arguments),Gt.set(this,_,O),this[_](),R=Gt.get(this,_),Gt.set(this,_,!1),O!==R)return E.stopImmediatePropagation(),E.preventDefault(),R}else O&&(Gt.set(this,_,y.event.trigger(O[0],O.slice(1),this)),E.stopPropagation(),E.isImmediatePropagationStopped=rs)}})}y.removeEvent=function(d,_,T){d.removeEventListener&&d.removeEventListener(_,T)},y.Event=function(d,_){if(!(this instanceof y.Event))return new y.Event(d,_);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?rs:xe,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,_&&y.extend(this,_),this.timeStamp=d&&d.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=rs,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=rs,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=rs,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(d,_){function T(E){if(j.documentMode){var R=Gt.get(this,"handle"),O=y.event.fix(E);O.type=E.type==="focusin"?"focus":"blur",O.isSimulated=!0,R(E),O.target===O.currentTarget&&R(O)}else y.event.simulate(_,E.target,y.event.fix(E))}y.event.special[d]={setup:function(){var E;if(li(this,d,!0),j.documentMode)E=Gt.get(this,_),E||this.addEventListener(_,T),Gt.set(this,_,(E||0)+1);else return!1},trigger:function(){return li(this,d),!0},teardown:function(){var E;if(j.documentMode)E=Gt.get(this,_)-1,E?Gt.set(this,_,E):(this.removeEventListener(_,T),Gt.remove(this,_));else return!1},_default:function(E){return Gt.get(E.target,d)},delegateType:_},y.event.special[_]={setup:function(){var E=this.ownerDocument||this.document||this,R=j.documentMode?this:E,O=Gt.get(R,_);O||(j.documentMode?this.addEventListener(_,T):E.addEventListener(d,T,!0)),Gt.set(R,_,(O||0)+1)},teardown:function(){var E=this.ownerDocument||this.document||this,R=j.documentMode?this:E,O=Gt.get(R,_)-1;O?Gt.set(R,_,O):(j.documentMode?this.removeEventListener(_,T):E.removeEventListener(d,T,!0),Gt.remove(R,_))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,_){y.event.special[d]={delegateType:_,bindType:_,handle:function(T){var E,R=this,O=T.relatedTarget,F=T.handleObj;return(!O||O!==R&&!y.contains(R,O))&&(T.type=F.origType,E=F.handler.apply(this,arguments),T.type=_),E}}}),y.fn.extend({on:function(d,_,T,E){return Ri(this,d,_,T,E)},one:function(d,_,T,E){return Ri(this,d,_,T,E,1)},off:function(d,_,T){var E,R;if(d&&d.preventDefault&&d.handleObj)return E=d.handleObj,y(d.delegateTarget).off(E.namespace?E.origType+"."+E.namespace:E.origType,E.selector,E.handler),this;if(typeof d=="object"){for(R in d)this.off(R,_,d[R]);return this}return(_===!1||typeof _=="function")&&(T=_,_=void 0),T===!1&&(T=xe),this.each(function(){y.event.remove(this,d,T,_)})}});var Zt=/<script|<style|<link/i,un=/checked\s*(?:[^=]|=\s*.checked.)/i,Ui=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ti(d,_){return z(d,"table")&&z(_.nodeType!==11?_:_.firstChild,"tr")&&y(d).children("tbody")[0]||d}function on(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function ti(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function ci(d,_){var T,E,R,O,F,J,X;if(_.nodeType===1){if(Gt.hasData(d)&&(O=Gt.get(d),X=O.events,X)){Gt.remove(_,"handle events");for(R in X)for(T=0,E=X[R].length;T<E;T++)y.event.add(_,R,X[R][T])}ce.hasData(d)&&(F=ce.access(d),J=y.extend({},F),ce.set(_,J))}}function qn(d,_){var T=_.nodeName.toLowerCase();T==="input"&&oi.test(d.type)?_.checked=d.checked:(T==="input"||T==="textarea")&&(_.defaultValue=d.defaultValue)}function ei(d,_,T,E){_=a(_);var R,O,F,J,X,st,dt=0,gt=d.length,ct=gt-1,Tt=_[0],ee=A(Tt);if(ee||gt>1&&typeof Tt=="string"&&!P.checkClone&&un.test(Tt))return d.each(function(we){var oe=d.eq(we);ee&&(_[0]=Tt.call(this,we,oe.html())),ei(oe,_,T,E)});if(gt&&(R=Wn(_,d[0].ownerDocument,!1,d,E),O=R.firstChild,R.childNodes.length===1&&(R=O),O||E)){for(F=y.map(Vn(R,"script"),on),J=F.length;dt<gt;dt++)X=R,dt!==ct&&(X=y.clone(X,!0,!0),J&&y.merge(F,Vn(X,"script"))),T.call(d[dt],X,dt);if(J)for(st=F[F.length-1].ownerDocument,y.map(F,ti),dt=0;dt<J;dt++)X=F[dt],Di.test(X.type||"")&&!Gt.access(X,"globalEval")&&y.contains(st,X)&&(X.src&&(X.type||"").toLowerCase()!=="module"?y._evalUrl&&!X.noModule&&y._evalUrl(X.src,{nonce:X.nonce||X.getAttribute("nonce")},st):Q(X.textContent.replace(Ui,""),X,st))}return d}function Xr(d,_,T){for(var E,R=_?y.filter(_,d):d,O=0;(E=R[O])!=null;O++)!T&&E.nodeType===1&&y.cleanData(Vn(E)),E.parentNode&&(T&&bi(E)&&Pr(Vn(E,"script")),E.parentNode.removeChild(E));return d}y.extend({htmlPrefilter:function(d){return d},clone:function(d,_,T){var E,R,O,F,J=d.cloneNode(!0),X=bi(d);if(!P.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!y.isXMLDoc(d))for(F=Vn(J),O=Vn(d),E=0,R=O.length;E<R;E++)qn(O[E],F[E]);if(_)if(T)for(O=O||Vn(d),F=F||Vn(J),E=0,R=O.length;E<R;E++)ci(O[E],F[E]);else ci(d,J);return F=Vn(J,"script"),F.length>0&&Pr(F,!X&&Vn(d,"script")),J},cleanData:function(d){for(var _,T,E,R=y.event.special,O=0;(T=d[O])!==void 0;O++)if(_s(T)){if(_=T[Gt.expando]){if(_.events)for(E in _.events)R[E]?y.event.remove(T,E):y.removeEvent(T,E,_.handle);T[Gt.expando]=void 0}T[ce.expando]&&(T[ce.expando]=void 0)}}}),y.fn.extend({detach:function(d){return Xr(this,d,!0)},remove:function(d){return Xr(this,d)},text:function(d){return nn(this,function(_){return _===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=_)})},null,d,arguments.length)},append:function(){return ei(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Ti(this,d);_.appendChild(d)}})},prepend:function(){return ei(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=Ti(this,d);_.insertBefore(d,_.firstChild)}})},before:function(){return ei(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return ei(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,_=0;(d=this[_])!=null;_++)d.nodeType===1&&(y.cleanData(Vn(d,!1)),d.textContent="");return this},clone:function(d,_){return d=d??!1,_=_??d,this.map(function(){return y.clone(this,d,_)})},html:function(d){return nn(this,function(_){var T=this[0]||{},E=0,R=this.length;if(_===void 0&&T.nodeType===1)return T.innerHTML;if(typeof _=="string"&&!Zt.test(_)&&!Dt[(Hs.exec(_)||["",""])[1].toLowerCase()]){_=y.htmlPrefilter(_);try{for(;E<R;E++)T=this[E]||{},T.nodeType===1&&(y.cleanData(Vn(T,!1)),T.innerHTML=_);T=0}catch{}}T&&this.empty().append(_)},null,d,arguments.length)},replaceWith:function(){var d=[];return ei(this,arguments,function(_){var T=this.parentNode;y.inArray(this,d)<0&&(y.cleanData(Vn(this)),T&&T.replaceChild(_,this))},d)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,_){y.fn[d]=function(T){for(var E,R=[],O=y(T),F=O.length-1,J=0;J<=F;J++)E=J===F?this:this.clone(!0),y(O[J])[_](E),l.apply(R,E.get());return this.pushStack(R)}});var ys=new RegExp("^("+Er+")(?!px)[a-z%]+$","i"),js=/^--/,Ys=function(d){var _=d.ownerDocument.defaultView;return(!_||!_.opener)&&(_=t),_.getComputedStyle(d)},os=function(d,_,T){var E,R,O={};for(R in _)O[R]=d.style[R],d.style[R]=_[R];E=T.call(d);for(R in _)d.style[R]=O[R];return E},$s=new RegExp(Jn.join("|"),"i");(function(){function d(){if(st){X.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",st.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",wi.appendChild(X).appendChild(st);var dt=t.getComputedStyle(st);T=dt.top!=="1%",J=_(dt.marginLeft)===12,st.style.right="60%",O=_(dt.right)===36,E=_(dt.width)===36,st.style.position="absolute",R=_(st.offsetWidth/3)===12,wi.removeChild(X),st=null}}function _(dt){return Math.round(parseFloat(dt))}var T,E,R,O,F,J,X=j.createElement("div"),st=j.createElement("div");st.style&&(st.style.backgroundClip="content-box",st.cloneNode(!0).style.backgroundClip="",P.clearCloneStyle=st.style.backgroundClip==="content-box",y.extend(P,{boxSizingReliable:function(){return d(),E},pixelBoxStyles:function(){return d(),O},pixelPosition:function(){return d(),T},reliableMarginLeft:function(){return d(),J},scrollboxSize:function(){return d(),R},reliableTrDimensions:function(){var dt,gt,ct,Tt;return F==null&&(dt=j.createElement("table"),gt=j.createElement("tr"),ct=j.createElement("div"),dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gt.style.cssText="box-sizing:content-box;border:1px solid",gt.style.height="1px",ct.style.height="9px",ct.style.display="block",wi.appendChild(dt).appendChild(gt).appendChild(ct),Tt=t.getComputedStyle(gt),F=parseInt(Tt.height,10)+parseInt(Tt.borderTopWidth,10)+parseInt(Tt.borderBottomWidth,10)===gt.offsetHeight,wi.removeChild(dt)),F}}))})();function as(d,_,T){var E,R,O,F,J=js.test(_),X=d.style;return T=T||Ys(d),T&&(F=T.getPropertyValue(_)||T[_],J&&F&&(F=F.replace(Bt,"$1")||void 0),F===""&&!bi(d)&&(F=y.style(d,_)),!P.pixelBoxStyles()&&ys.test(F)&&$s.test(_)&&(E=X.width,R=X.minWidth,O=X.maxWidth,X.minWidth=X.maxWidth=X.width=F,F=T.width,X.width=E,X.minWidth=R,X.maxWidth=O)),F!==void 0?F+"":F}function rr(d,_){return{get:function(){if(d()){delete this.get;return}return(this.get=_).apply(this,arguments)}}}var Qr=["Webkit","Moz","ms"],Ir=j.createElement("div").style,Ge={};function ls(d){for(var _=d[0].toUpperCase()+d.slice(1),T=Qr.length;T--;)if(d=Qr[T]+_,d in Ir)return d}function Rs(d){var _=y.cssProps[d]||Ge[d];return _||(d in Ir?d:Ge[d]=ls(d)||d)}var qs=/^(none|table(?!-c[ea]).+)/,Cr={position:"absolute",visibility:"hidden",display:"block"},Mr={letterSpacing:"0",fontWeight:"400"};function Os(d,_,T){var E=Wi.exec(_);return E?Math.max(0,E[2]-(T||0))+(E[3]||"px"):_}function Se(d,_,T,E,R,O){var F=_==="width"?1:0,J=0,X=0,st=0;if(T===(E?"border":"content"))return 0;for(;F<4;F+=2)T==="margin"&&(st+=y.css(d,T+Jn[F],!0,R)),E?(T==="content"&&(X-=y.css(d,"padding"+Jn[F],!0,R)),T!=="margin"&&(X-=y.css(d,"border"+Jn[F]+"Width",!0,R))):(X+=y.css(d,"padding"+Jn[F],!0,R),T!=="padding"?X+=y.css(d,"border"+Jn[F]+"Width",!0,R):J+=y.css(d,"border"+Jn[F]+"Width",!0,R));return!E&&O>=0&&(X+=Math.max(0,Math.ceil(d["offset"+_[0].toUpperCase()+_.slice(1)]-O-X-J-.5))||0),X+st}function Ze(d,_,T){var E=Ys(d),R=!P.boxSizingReliable()||T,O=R&&y.css(d,"boxSizing",!1,E)==="border-box",F=O,J=as(d,_,E),X="offset"+_[0].toUpperCase()+_.slice(1);if(ys.test(J)){if(!T)return J;J="auto"}return(!P.boxSizingReliable()&&O||!P.reliableTrDimensions()&&z(d,"tr")||J==="auto"||!parseFloat(J)&&y.css(d,"display",!1,E)==="inline")&&d.getClientRects().length&&(O=y.css(d,"boxSizing",!1,E)==="border-box",F=X in d,F&&(J=d[X])),J=parseFloat(J)||0,J+Se(d,_,T||(O?"border":"content"),F,E,J)+"px"}y.extend({cssHooks:{opacity:{get:function(d,_){if(_){var T=as(d,"opacity");return T===""?"1":T}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,_,T,E){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var R,O,F,J=kn(_),X=js.test(_),st=d.style;if(X||(_=Rs(J)),F=y.cssHooks[_]||y.cssHooks[J],T!==void 0){if(O=typeof T,O==="string"&&(R=Wi.exec(T))&&R[1]&&(T=kr(d,_,R),O="number"),T==null||T!==T)return;O==="number"&&!X&&(T+=R&&R[3]||(y.cssNumber[J]?"":"px")),!P.clearCloneStyle&&T===""&&_.indexOf("background")===0&&(st[_]="inherit"),(!F||!("set"in F)||(T=F.set(d,T,E))!==void 0)&&(X?st.setProperty(_,T):st[_]=T)}else return F&&"get"in F&&(R=F.get(d,!1,E))!==void 0?R:st[_]}},css:function(d,_,T,E){var R,O,F,J=kn(_),X=js.test(_);return X||(_=Rs(J)),F=y.cssHooks[_]||y.cssHooks[J],F&&"get"in F&&(R=F.get(d,!0,T)),R===void 0&&(R=as(d,_,E)),R==="normal"&&_ in Mr&&(R=Mr[_]),T===""||T?(O=parseFloat(R),T===!0||isFinite(O)?O||0:R):R}}),y.each(["height","width"],function(d,_){y.cssHooks[_]={get:function(T,E,R){if(E)return qs.test(y.css(T,"display"))&&(!T.getClientRects().length||!T.getBoundingClientRect().width)?os(T,Cr,function(){return Ze(T,_,R)}):Ze(T,_,R)},set:function(T,E,R){var O,F=Ys(T),J=!P.scrollboxSize()&&F.position==="absolute",X=J||R,st=X&&y.css(T,"boxSizing",!1,F)==="border-box",dt=R?Se(T,_,R,st,F):0;return st&&J&&(dt-=Math.ceil(T["offset"+_[0].toUpperCase()+_.slice(1)]-parseFloat(F[_])-Se(T,_,"border",!1,F)-.5)),dt&&(O=Wi.exec(E))&&(O[3]||"px")!=="px"&&(T.style[_]=E,E=y.css(T,_)),Os(T,E,dt)}}}),y.cssHooks.marginLeft=rr(P.reliableMarginLeft,function(d,_){if(_)return(parseFloat(as(d,"marginLeft"))||d.getBoundingClientRect().left-os(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(d,_){y.cssHooks[d+_]={expand:function(T){for(var E=0,R={},O=typeof T=="string"?T.split(" "):[T];E<4;E++)R[d+Jn[E]+_]=O[E]||O[E-2]||O[0];return R}},d!=="margin"&&(y.cssHooks[d+_].set=Os)}),y.fn.extend({css:function(d,_){return nn(this,function(T,E,R){var O,F,J={},X=0;if(Array.isArray(E)){for(O=Ys(T),F=E.length;X<F;X++)J[E[X]]=y.css(T,E[X],!1,O);return J}return R!==void 0?y.style(T,E,R):y.css(T,E)},d,_,arguments.length>1)}});function Pn(d,_,T,E,R){return new Pn.prototype.init(d,_,T,E,R)}y.Tween=Pn,Pn.prototype={constructor:Pn,init:function(d,_,T,E,R,O){this.elem=d,this.prop=T,this.easing=R||y.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=E,this.unit=O||(y.cssNumber[T]?"":"px")},cur:function(){var d=Pn.propHooks[this.prop];return d&&d.get?d.get(this):Pn.propHooks._default.get(this)},run:function(d){var _,T=Pn.propHooks[this.prop];return this.options.duration?this.pos=_=y.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=_=d,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),T&&T.set?T.set(this):Pn.propHooks._default.set(this),this}},Pn.prototype.init.prototype=Pn.prototype,Pn.propHooks={_default:{get:function(d){var _;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(_=y.css(d.elem,d.prop,""),!_||_==="auto"?0:_)},set:function(d){y.fx.step[d.prop]?y.fx.step[d.prop](d):d.elem.nodeType===1&&(y.cssHooks[d.prop]||d.elem.style[Rs(d.prop)]!=null)?y.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},Pn.propHooks.scrollTop=Pn.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},y.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},y.fx=Pn.prototype.init,y.fx.step={};var xi,Hi,Ar=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;function sn(){Hi&&(j.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(sn):t.setTimeout(sn,y.fx.interval),y.fx.tick())}function Dr(){return t.setTimeout(function(){xi=void 0}),xi=Date.now()}function ni(d,_){var T,E=0,R={height:d};for(_=_?1:0;E<4;E+=2-_)T=Jn[E],R["margin"+T]=R["padding"+T]=d;return _&&(R.opacity=R.width=d),R}function gn(d,_,T){for(var E,R=(wn.tweeners[_]||[]).concat(wn.tweeners["*"]),O=0,F=R.length;O<F;O++)if(E=R[O].call(T,_,d))return E}function vs(d,_,T){var E,R,O,F,J,X,st,dt,gt="width"in _||"height"in _,ct=this,Tt={},ee=d.style,we=d.nodeType&&Ai(d),oe=Gt.get(d,"fxshow");T.queue||(F=y._queueHooks(d,"fx"),F.unqueued==null&&(F.unqueued=0,J=F.empty.fire,F.empty.fire=function(){F.unqueued||J()}),F.unqueued++,ct.always(function(){ct.always(function(){F.unqueued--,y.queue(d,"fx").length||F.empty.fire()})}));for(E in _)if(R=_[E],Ar.test(R)){if(delete _[E],O=O||R==="toggle",R===(we?"hide":"show"))if(R==="show"&&oe&&oe[E]!==void 0)we=!0;else continue;Tt[E]=oe&&oe[E]||y.style(d,E)}if(X=!y.isEmptyObject(_),!(!X&&y.isEmptyObject(Tt))){gt&&d.nodeType===1&&(T.overflow=[ee.overflow,ee.overflowX,ee.overflowY],st=oe&&oe.display,st==null&&(st=Gt.get(d,"display")),dt=y.css(d,"display"),dt==="none"&&(st?dt=st:($n([d],!0),st=d.style.display||st,dt=y.css(d,"display"),$n([d]))),(dt==="inline"||dt==="inline-block"&&st!=null)&&y.css(d,"float")==="none"&&(X||(ct.done(function(){ee.display=st}),st==null&&(dt=ee.display,st=dt==="none"?"":dt)),ee.display="inline-block")),T.overflow&&(ee.overflow="hidden",ct.always(function(){ee.overflow=T.overflow[0],ee.overflowX=T.overflow[1],ee.overflowY=T.overflow[2]})),X=!1;for(E in Tt)X||(oe?"hidden"in oe&&(we=oe.hidden):oe=Gt.access(d,"fxshow",{display:st}),O&&(oe.hidden=!we),we&&$n([d],!0),ct.done(function(){we||$n([d]),Gt.remove(d,"fxshow");for(E in Tt)y.style(d,E,Tt[E])})),X=gn(we?oe[E]:0,E,ct),E in oe||(oe[E]=X.start,we&&(X.end=X.start,X.start=0))}}function ji(d,_){var T,E,R,O,F;for(T in d)if(E=kn(T),R=_[E],O=d[T],Array.isArray(O)&&(R=O[1],O=d[T]=O[0]),T!==E&&(d[E]=O,delete d[T]),F=y.cssHooks[E],F&&"expand"in F){O=F.expand(O),delete d[E];for(T in O)T in d||(d[T]=O[T],_[T]=R)}else _[E]=R}function wn(d,_,T){var E,R,O=0,F=wn.prefilters.length,J=y.Deferred().always(function(){delete X.elem}),X=function(){if(R)return!1;for(var gt=xi||Dr(),ct=Math.max(0,st.startTime+st.duration-gt),Tt=ct/st.duration||0,ee=1-Tt,we=0,oe=st.tweens.length;we<oe;we++)st.tweens[we].run(ee);return J.notifyWith(d,[st,ee,ct]),ee<1&&oe?ct:(oe||J.notifyWith(d,[st,1,0]),J.resolveWith(d,[st]),!1)},st=J.promise({elem:d,props:y.extend({},_),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},T),originalProperties:_,originalOptions:T,startTime:xi||Dr(),duration:T.duration,tweens:[],createTween:function(gt,ct){var Tt=y.Tween(d,st.opts,gt,ct,st.opts.specialEasing[gt]||st.opts.easing);return st.tweens.push(Tt),Tt},stop:function(gt){var ct=0,Tt=gt?st.tweens.length:0;if(R)return this;for(R=!0;ct<Tt;ct++)st.tweens[ct].run(1);return gt?(J.notifyWith(d,[st,1,0]),J.resolveWith(d,[st,gt])):J.rejectWith(d,[st,gt]),this}}),dt=st.props;for(ji(dt,st.opts.specialEasing);O<F;O++)if(E=wn.prefilters[O].call(st,d,dt,st.opts),E)return A(E.stop)&&(y._queueHooks(st.elem,st.opts.queue).stop=E.stop.bind(E)),E;return y.map(dt,gn,st),A(st.opts.start)&&st.opts.start.call(d,st),st.progress(st.opts.progress).done(st.opts.done,st.opts.complete).fail(st.opts.fail).always(st.opts.always),y.fx.timer(y.extend(X,{elem:d,anim:st,queue:st.opts.queue})),st}y.Animation=y.extend(wn,{tweeners:{"*":[function(d,_){var T=this.createTween(d,_);return kr(T.elem,d,Wi.exec(_),T),T}]},tweener:function(d,_){A(d)?(_=d,d=["*"]):d=d.match(Ye);for(var T,E=0,R=d.length;E<R;E++)T=d[E],wn.tweeners[T]=wn.tweeners[T]||[],wn.tweeners[T].unshift(_)},prefilters:[vs],prefilter:function(d,_){_?wn.prefilters.unshift(d):wn.prefilters.push(d)}}),y.speed=function(d,_,T){var E=d&&typeof d=="object"?y.extend({},d):{complete:T||!T&&_||A(d)&&d,duration:d,easing:T&&_||_&&!A(_)&&_};return y.fx.off?E.duration=0:typeof E.duration!="number"&&(E.duration in y.fx.speeds?E.duration=y.fx.speeds[E.duration]:E.duration=y.fx.speeds._default),(E.queue==null||E.queue===!0)&&(E.queue="fx"),E.old=E.complete,E.complete=function(){A(E.old)&&E.old.call(this),E.queue&&y.dequeue(this,E.queue)},E},y.fn.extend({fadeTo:function(d,_,T,E){return this.filter(Ai).css("opacity",0).show().end().animate({opacity:_},d,T,E)},animate:function(d,_,T,E){var R=y.isEmptyObject(d),O=y.speed(_,T,E),F=function(){var J=wn(this,y.extend({},d),O);(R||Gt.get(this,"finish"))&&J.stop(!0)};return F.finish=F,R||O.queue===!1?this.each(F):this.queue(O.queue,F)},stop:function(d,_,T){var E=function(R){var O=R.stop;delete R.stop,O(T)};return typeof d!="string"&&(T=_,_=d,d=void 0),_&&this.queue(d||"fx",[]),this.each(function(){var R=!0,O=d!=null&&d+"queueHooks",F=y.timers,J=Gt.get(this);if(O)J[O]&&J[O].stop&&E(J[O]);else for(O in J)J[O]&&J[O].stop&&fe.test(O)&&E(J[O]);for(O=F.length;O--;)F[O].elem===this&&(d==null||F[O].queue===d)&&(F[O].anim.stop(T),R=!1,F.splice(O,1));(R||!T)&&y.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var _,T=Gt.get(this),E=T[d+"queue"],R=T[d+"queueHooks"],O=y.timers,F=E?E.length:0;for(T.finish=!0,y.queue(this,d,[]),R&&R.stop&&R.stop.call(this,!0),_=O.length;_--;)O[_].elem===this&&O[_].queue===d&&(O[_].anim.stop(!0),O.splice(_,1));for(_=0;_<F;_++)E[_]&&E[_].finish&&E[_].finish.call(this);delete T.finish})}}),y.each(["toggle","show","hide"],function(d,_){var T=y.fn[_];y.fn[_]=function(E,R,O){return E==null||typeof E=="boolean"?T.apply(this,arguments):this.animate(ni(_,!0),E,R,O)}}),y.each({slideDown:ni("show"),slideUp:ni("hide"),slideToggle:ni("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,_){y.fn[d]=function(T,E,R){return this.animate(_,T,E,R)}}),y.timers=[],y.fx.tick=function(){var d,_=0,T=y.timers;for(xi=Date.now();_<T.length;_++)d=T[_],!d()&&T[_]===d&&T.splice(_--,1);T.length||y.fx.stop(),xi=void 0},y.fx.timer=function(d){y.timers.push(d),y.fx.start()},y.fx.interval=13,y.fx.start=function(){Hi||(Hi=!0,sn())},y.fx.stop=function(){Hi=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(d,_){return d=y.fx&&y.fx.speeds[d]||d,_=_||"fx",this.queue(_,function(T,E){var R=t.setTimeout(T,d);E.stop=function(){t.clearTimeout(R)}})},function(){var d=j.createElement("input"),_=j.createElement("select"),T=_.appendChild(j.createElement("option"));d.type="checkbox",P.checkOn=d.value!=="",P.optSelected=T.selected,d=j.createElement("input"),d.value="t",d.type="radio",P.radioValue=d.value==="t"}();var ne,hn=y.expr.attrHandle;y.fn.extend({attr:function(d,_){return nn(this,y.attr,d,_,arguments.length>1)},removeAttr:function(d){return this.each(function(){y.removeAttr(this,d)})}}),y.extend({attr:function(d,_,T){var E,R,O=d.nodeType;if(!(O===3||O===8||O===2)){if(typeof d.getAttribute>"u")return y.prop(d,_,T);if((O!==1||!y.isXMLDoc(d))&&(R=y.attrHooks[_.toLowerCase()]||(y.expr.match.bool.test(_)?ne:void 0)),T!==void 0){if(T===null){y.removeAttr(d,_);return}return R&&"set"in R&&(E=R.set(d,T,_))!==void 0?E:(d.setAttribute(_,T+""),T)}return R&&"get"in R&&(E=R.get(d,_))!==null?E:(E=y.find.attr(d,_),E??void 0)}},attrHooks:{type:{set:function(d,_){if(!P.radioValue&&_==="radio"&&z(d,"input")){var T=d.value;return d.setAttribute("type",_),T&&(d.value=T),_}}}},removeAttr:function(d,_){var T,E=0,R=_&&_.match(Ye);if(R&&d.nodeType===1)for(;T=R[E++];)d.removeAttribute(T)}}),ne={set:function(d,_,T){return _===!1?y.removeAttr(d,T):d.setAttribute(T,T),T}},y.each(y.expr.match.bool.source.match(/\w+/g),function(d,_){var T=hn[_]||y.find.attr;hn[_]=function(E,R,O){var F,J,X=R.toLowerCase();return O||(J=hn[X],hn[X]=F,F=T(E,R,O)!=null?X:null,hn[X]=J),F}});var cs=/^(?:input|select|textarea|button)$/i,us=/^(?:a|area)$/i;y.fn.extend({prop:function(d,_){return nn(this,y.prop,d,_,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[y.propFix[d]||d]})}}),y.extend({prop:function(d,_,T){var E,R,O=d.nodeType;if(!(O===3||O===8||O===2))return(O!==1||!y.isXMLDoc(d))&&(_=y.propFix[_]||_,R=y.propHooks[_]),T!==void 0?R&&"set"in R&&(E=R.set(d,T,_))!==void 0?E:d[_]=T:R&&"get"in R&&(E=R.get(d,_))!==null?E:d[_]},propHooks:{tabIndex:{get:function(d){var _=y.find.attr(d,"tabindex");return _?parseInt(_,10):cs.test(d.nodeName)||us.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),P.optSelected||(y.propHooks.selected={get:function(d){var _=d.parentNode;return _&&_.parentNode&&_.parentNode.selectedIndex,null},set:function(d){var _=d.parentNode;_&&(_.selectedIndex,_.parentNode&&_.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function hs(d){var _=d.match(Ye)||[];return _.join(" ")}function Si(d){return d.getAttribute&&d.getAttribute("class")||""}function or(d){return Array.isArray(d)?d:typeof d=="string"?d.match(Ye)||[]:[]}y.fn.extend({addClass:function(d){var _,T,E,R,O,F;return A(d)?this.each(function(J){y(this).addClass(d.call(this,J,Si(this)))}):(_=or(d),_.length?this.each(function(){if(E=Si(this),T=this.nodeType===1&&" "+hs(E)+" ",T){for(O=0;O<_.length;O++)R=_[O],T.indexOf(" "+R+" ")<0&&(T+=R+" ");F=hs(T),E!==F&&this.setAttribute("class",F)}}):this)},removeClass:function(d){var _,T,E,R,O,F;return A(d)?this.each(function(J){y(this).removeClass(d.call(this,J,Si(this)))}):arguments.length?(_=or(d),_.length?this.each(function(){if(E=Si(this),T=this.nodeType===1&&" "+hs(E)+" ",T){for(O=0;O<_.length;O++)for(R=_[O];T.indexOf(" "+R+" ")>-1;)T=T.replace(" "+R+" "," ");F=hs(T),E!==F&&this.setAttribute("class",F)}}):this):this.attr("class","")},toggleClass:function(d,_){var T,E,R,O,F=typeof d,J=F==="string"||Array.isArray(d);return A(d)?this.each(function(X){y(this).toggleClass(d.call(this,X,Si(this),_),_)}):typeof _=="boolean"&&J?_?this.addClass(d):this.removeClass(d):(T=or(d),this.each(function(){if(J)for(O=y(this),R=0;R<T.length;R++)E=T[R],O.hasClass(E)?O.removeClass(E):O.addClass(E);else(d===void 0||F==="boolean")&&(E=Si(this),E&&Gt.set(this,"__className__",E),this.setAttribute&&this.setAttribute("class",E||d===!1?"":Gt.get(this,"__className__")||""))}))},hasClass:function(d){var _,T,E=0;for(_=" "+d+" ";T=this[E++];)if(T.nodeType===1&&(" "+hs(Si(T))+" ").indexOf(_)>-1)return!0;return!1}});var Jr=/\r/g;y.fn.extend({val:function(d){var _,T,E,R=this[0];return arguments.length?(E=A(d),this.each(function(O){var F;this.nodeType===1&&(E?F=d.call(this,O,y(this).val()):F=d,F==null?F="":typeof F=="number"?F+="":Array.isArray(F)&&(F=y.map(F,function(J){return J==null?"":J+""})),_=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!_||!("set"in _)||_.set(this,F,"value")===void 0)&&(this.value=F))})):R?(_=y.valHooks[R.type]||y.valHooks[R.nodeName.toLowerCase()],_&&"get"in _&&(T=_.get(R,"value"))!==void 0?T:(T=R.value,typeof T=="string"?T.replace(Jr,""):T??"")):void 0}}),y.extend({valHooks:{option:{get:function(d){var _=y.find.attr(d,"value");return _??hs(y.text(d))}},select:{get:function(d){var _,T,E,R=d.options,O=d.selectedIndex,F=d.type==="select-one",J=F?null:[],X=F?O+1:R.length;for(O<0?E=X:E=F?O:0;E<X;E++)if(T=R[E],(T.selected||E===O)&&!T.disabled&&(!T.parentNode.disabled||!z(T.parentNode,"optgroup"))){if(_=y(T).val(),F)return _;J.push(_)}return J},set:function(d,_){for(var T,E,R=d.options,O=y.makeArray(_),F=R.length;F--;)E=R[F],(E.selected=y.inArray(y.valHooks.option.get(E),O)>-1)&&(T=!0);return T||(d.selectedIndex=-1),O}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(d,_){if(Array.isArray(_))return d.checked=y.inArray(y(d).val(),_)>-1}},P.checkOn||(y.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})});var ws=t.location,Rr={guid:Date.now()},Oi=/\?/;y.parseXML=function(d){var _,T;if(!d||typeof d!="string")return null;try{_=new t.DOMParser().parseFromString(d,"text/xml")}catch{}return T=_&&_.getElementsByTagName("parsererror")[0],(!_||T)&&y.error("Invalid XML: "+(T?y.map(T.childNodes,function(E){return E.textContent}).join(`
`):d)),_};var Ei=/^(?:focusinfocus|focusoutblur)$/,ar=function(d){d.stopPropagation()};y.extend(y.event,{trigger:function(d,_,T,E){var R,O,F,J,X,st,dt,gt,ct=[T||j],Tt=w.call(d,"type")?d.type:d,ee=w.call(d,"namespace")?d.namespace.split("."):[];if(O=gt=F=T=T||j,!(T.nodeType===3||T.nodeType===8)&&!Ei.test(Tt+y.event.triggered)&&(Tt.indexOf(".")>-1&&(ee=Tt.split("."),Tt=ee.shift(),ee.sort()),X=Tt.indexOf(":")<0&&"on"+Tt,d=d[y.expando]?d:new y.Event(Tt,typeof d=="object"&&d),d.isTrigger=E?2:3,d.namespace=ee.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+ee.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=T),_=_==null?[d]:y.makeArray(_,[d]),dt=y.event.special[Tt]||{},!(!E&&dt.trigger&&dt.trigger.apply(T,_)===!1))){if(!E&&!dt.noBubble&&!V(T)){for(J=dt.delegateType||Tt,Ei.test(J+Tt)||(O=O.parentNode);O;O=O.parentNode)ct.push(O),F=O;F===(T.ownerDocument||j)&&ct.push(F.defaultView||F.parentWindow||t)}for(R=0;(O=ct[R++])&&!d.isPropagationStopped();)gt=O,d.type=R>1?J:dt.bindType||Tt,st=(Gt.get(O,"events")||Object.create(null))[d.type]&&Gt.get(O,"handle"),st&&st.apply(O,_),st=X&&O[X],st&&st.apply&&_s(O)&&(d.result=st.apply(O,_),d.result===!1&&d.preventDefault());return d.type=Tt,!E&&!d.isDefaultPrevented()&&(!dt._default||dt._default.apply(ct.pop(),_)===!1)&&_s(T)&&X&&A(T[Tt])&&!V(T)&&(F=T[X],F&&(T[X]=null),y.event.triggered=Tt,d.isPropagationStopped()&&gt.addEventListener(Tt,ar),T[Tt](),d.isPropagationStopped()&&gt.removeEventListener(Tt,ar),y.event.triggered=void 0,F&&(T[X]=F)),d.result}},simulate:function(d,_,T){var E=y.extend(new y.Event,T,{type:d,isSimulated:!0});y.event.trigger(E,null,_)}}),y.fn.extend({trigger:function(d,_){return this.each(function(){y.event.trigger(d,_,this)})},triggerHandler:function(d,_){var T=this[0];if(T)return y.event.trigger(d,_,T,!0)}});var Or=/\[\]$/,to=/\r?\n/g,re=/^(?:submit|button|image|reset|file)$/i,Yi=/^(?:input|select|textarea|keygen)/i;function We(d,_,T,E){var R;if(Array.isArray(_))y.each(_,function(O,F){T||Or.test(d)?E(d,F):We(d+"["+(typeof F=="object"&&F!=null?O:"")+"]",F,T,E)});else if(!T&&it(_)==="object")for(R in _)We(d+"["+R+"]",_[R],T,E);else E(d,_)}y.param=function(d,_){var T,E=[],R=function(O,F){var J=A(F)?F():F;E[E.length]=encodeURIComponent(O)+"="+encodeURIComponent(J??"")};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!y.isPlainObject(d))y.each(d,function(){R(this.name,this.value)});else for(T in d)We(T,d[T],_,R);return E.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=y.prop(this,"elements");return d?y.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!y(this).is(":disabled")&&Yi.test(this.nodeName)&&!re.test(d)&&(this.checked||!oi.test(d))}).map(function(d,_){var T=y(this).val();return T==null?null:Array.isArray(T)?y.map(T,function(E){return{name:_.name,value:E.replace(to,`\r
`)}}):{name:_.name,value:T.replace(to,`\r
`)}}).get()}});var jo=/%20/g,$i=/#.*$/,eo=/([?&])_=[^&]*/,no=/^(.*?):[ \t]*([^\r\n]*)$/mg,qi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Gs=/^(?:GET|HEAD)$/,Zs=/^\/\//,dn={},ui={},Lr="*/".concat("*"),bs=j.createElement("a");bs.href=ws.href;function en(d){return function(_,T){typeof _!="string"&&(T=_,_="*");var E,R=0,O=_.toLowerCase().match(Ye)||[];if(A(T))for(;E=O[R++];)E[0]==="+"?(E=E.slice(1)||"*",(d[E]=d[E]||[]).unshift(T)):(d[E]=d[E]||[]).push(T)}}function io(d,_,T,E){var R={},O=d===ui;function F(J){var X;return R[J]=!0,y.each(d[J]||[],function(st,dt){var gt=dt(_,T,E);if(typeof gt=="string"&&!O&&!R[gt])return _.dataTypes.unshift(gt),F(gt),!1;if(O)return!(X=gt)}),X}return F(_.dataTypes[0])||!R["*"]&&F("*")}function Ks(d,_){var T,E,R=y.ajaxSettings.flatOptions||{};for(T in _)_[T]!==void 0&&((R[T]?d:E||(E={}))[T]=_[T]);return E&&y.extend(!0,d,E),d}function so(d,_,T){for(var E,R,O,F,J=d.contents,X=d.dataTypes;X[0]==="*";)X.shift(),E===void 0&&(E=d.mimeType||_.getResponseHeader("Content-Type"));if(E){for(R in J)if(J[R]&&J[R].test(E)){X.unshift(R);break}}if(X[0]in T)O=X[0];else{for(R in T){if(!X[0]||d.converters[R+" "+X[0]]){O=R;break}F||(F=R)}O=O||F}if(O)return O!==X[0]&&X.unshift(O),T[O]}function ro(d,_,T,E){var R,O,F,J,X,st={},dt=d.dataTypes.slice();if(dt[1])for(F in d.converters)st[F.toLowerCase()]=d.converters[F];for(O=dt.shift();O;)if(d.responseFields[O]&&(T[d.responseFields[O]]=_),!X&&E&&d.dataFilter&&(_=d.dataFilter(_,d.dataType)),X=O,O=dt.shift(),O){if(O==="*")O=X;else if(X!=="*"&&X!==O){if(F=st[X+" "+O]||st["* "+O],!F){for(R in st)if(J=R.split(" "),J[1]===O&&(F=st[X+" "+J[0]]||st["* "+J[0]],F)){F===!0?F=st[R]:st[R]!==!0&&(O=J[0],dt.unshift(J[1]));break}}if(F!==!0)if(F&&d.throws)_=F(_);else try{_=F(_)}catch(gt){return{state:"parsererror",error:F?gt:"No conversion from "+X+" to "+O}}}}return{state:"success",data:_}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ws.href,type:"GET",isLocal:qi.test(ws.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,_){return _?Ks(Ks(d,y.ajaxSettings),_):Ks(y.ajaxSettings,d)},ajaxPrefilter:en(dn),ajaxTransport:en(ui),ajax:function(d,_){typeof d=="object"&&(_=d,d=void 0),_=_||{};var T,E,R,O,F,J,X,st,dt,gt,ct=y.ajaxSetup({},_),Tt=ct.context||ct,ee=ct.context&&(Tt.nodeType||Tt.jquery)?y(Tt):y.event,we=y.Deferred(),oe=y.Callbacks("once memory"),In=ct.statusCode||{},fn={},ki={},Pi="canceled",me={readyState:0,getResponseHeader:function(ge){var an;if(X){if(!O)for(O={};an=no.exec(R);)O[an[1].toLowerCase()+" "]=(O[an[1].toLowerCase()+" "]||[]).concat(an[2]);an=O[ge.toLowerCase()+" "]}return an==null?null:an.join(", ")},getAllResponseHeaders:function(){return X?R:null},setRequestHeader:function(ge,an){return X==null&&(ge=ki[ge.toLowerCase()]=ki[ge.toLowerCase()]||ge,fn[ge]=an),this},overrideMimeType:function(ge){return X==null&&(ct.mimeType=ge),this},statusCode:function(ge){var an;if(ge)if(X)me.always(ge[me.status]);else for(an in ge)In[an]=[In[an],ge[an]];return this},abort:function(ge){var an=ge||Pi;return T&&T.abort(an),pn(0,an),this}};if(we.promise(me),ct.url=((d||ct.url||ws.href)+"").replace(Zs,ws.protocol+"//"),ct.type=_.method||_.type||ct.method||ct.type,ct.dataTypes=(ct.dataType||"*").toLowerCase().match(Ye)||[""],ct.crossDomain==null){J=j.createElement("a");try{J.href=ct.url,J.href=J.href,ct.crossDomain=bs.protocol+"//"+bs.host!=J.protocol+"//"+J.host}catch{ct.crossDomain=!0}}if(ct.data&&ct.processData&&typeof ct.data!="string"&&(ct.data=y.param(ct.data,ct.traditional)),io(dn,ct,_,me),X)return me;st=y.event&&ct.global,st&&y.active++===0&&y.event.trigger("ajaxStart"),ct.type=ct.type.toUpperCase(),ct.hasContent=!Gs.test(ct.type),E=ct.url.replace($i,""),ct.hasContent?ct.data&&ct.processData&&(ct.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ct.data=ct.data.replace(jo,"+")):(gt=ct.url.slice(E.length),ct.data&&(ct.processData||typeof ct.data=="string")&&(E+=(Oi.test(E)?"&":"?")+ct.data,delete ct.data),ct.cache===!1&&(E=E.replace(eo,"$1"),gt=(Oi.test(E)?"&":"?")+"_="+Rr.guid+++gt),ct.url=E+gt),ct.ifModified&&(y.lastModified[E]&&me.setRequestHeader("If-Modified-Since",y.lastModified[E]),y.etag[E]&&me.setRequestHeader("If-None-Match",y.etag[E])),(ct.data&&ct.hasContent&&ct.contentType!==!1||_.contentType)&&me.setRequestHeader("Content-Type",ct.contentType),me.setRequestHeader("Accept",ct.dataTypes[0]&&ct.accepts[ct.dataTypes[0]]?ct.accepts[ct.dataTypes[0]]+(ct.dataTypes[0]!=="*"?", "+Lr+"; q=0.01":""):ct.accepts["*"]);for(dt in ct.headers)me.setRequestHeader(dt,ct.headers[dt]);if(ct.beforeSend&&(ct.beforeSend.call(Tt,me,ct)===!1||X))return me.abort();if(Pi="abort",oe.add(ct.complete),me.done(ct.success),me.fail(ct.error),T=io(ui,ct,_,me),!T)pn(-1,"No Transport");else{if(me.readyState=1,st&&ee.trigger("ajaxSend",[me,ct]),X)return me;ct.async&&ct.timeout>0&&(F=t.setTimeout(function(){me.abort("timeout")},ct.timeout));try{X=!1,T.send(fn,pn)}catch(ge){if(X)throw ge;pn(-1,ge)}}function pn(ge,an,Gn,p){var S,D,Y,ot,ut,St=an;X||(X=!0,F&&t.clearTimeout(F),T=void 0,R=p||"",me.readyState=ge>0?4:0,S=ge>=200&&ge<300||ge===304,Gn&&(ot=so(ct,me,Gn)),!S&&y.inArray("script",ct.dataTypes)>-1&&y.inArray("json",ct.dataTypes)<0&&(ct.converters["text script"]=function(){}),ot=ro(ct,ot,me,S),S?(ct.ifModified&&(ut=me.getResponseHeader("Last-Modified"),ut&&(y.lastModified[E]=ut),ut=me.getResponseHeader("etag"),ut&&(y.etag[E]=ut)),ge===204||ct.type==="HEAD"?St="nocontent":ge===304?St="notmodified":(St=ot.state,D=ot.data,Y=ot.error,S=!Y)):(Y=St,(ge||!St)&&(St="error",ge<0&&(ge=0))),me.status=ge,me.statusText=(an||St)+"",S?we.resolveWith(Tt,[D,St,me]):we.rejectWith(Tt,[me,St,Y]),me.statusCode(In),In=void 0,st&&ee.trigger(S?"ajaxSuccess":"ajaxError",[me,ct,S?D:Y]),oe.fireWith(Tt,[me,St]),st&&(ee.trigger("ajaxComplete",[me,ct]),--y.active||y.event.trigger("ajaxStop")))}return me},getJSON:function(d,_,T){return y.get(d,_,T,"json")},getScript:function(d,_){return y.get(d,void 0,_,"script")}}),y.each(["get","post"],function(d,_){y[_]=function(T,E,R,O){return A(E)&&(O=O||R,R=E,E=void 0),y.ajax(y.extend({url:T,type:_,dataType:O,data:E,success:R},y.isPlainObject(T)&&T))}}),y.ajaxPrefilter(function(d){var _;for(_ in d.headers)_.toLowerCase()==="content-type"&&(d.contentType=d.headers[_]||"")}),y._evalUrl=function(d,_,T){return y.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(E){y.globalEval(E,_,T)}})},y.fn.extend({wrapAll:function(d){var _;return this[0]&&(A(d)&&(d=d.call(this[0])),_=y(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var T=this;T.firstElementChild;)T=T.firstElementChild;return T}).append(this)),this},wrapInner:function(d){return A(d)?this.each(function(_){y(this).wrapInner(d.call(this,_))}):this.each(function(){var _=y(this),T=_.contents();T.length?T.wrapAll(d):_.append(d)})},wrap:function(d){var _=A(d);return this.each(function(T){y(this).wrapAll(_?d.call(this,T):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(d){return!y.expr.pseudos.visible(d)},y.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Pe={0:200,1223:204},Ts=y.ajaxSettings.xhr();P.cors=!!Ts&&"withCredentials"in Ts,P.ajax=Ts=!!Ts,y.ajaxTransport(function(d){var _,T;if(P.cors||Ts&&!d.crossDomain)return{send:function(E,R){var O,F=d.xhr();if(F.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(O in d.xhrFields)F[O]=d.xhrFields[O];d.mimeType&&F.overrideMimeType&&F.overrideMimeType(d.mimeType),!d.crossDomain&&!E["X-Requested-With"]&&(E["X-Requested-With"]="XMLHttpRequest");for(O in E)F.setRequestHeader(O,E[O]);_=function(J){return function(){_&&(_=T=F.onload=F.onerror=F.onabort=F.ontimeout=F.onreadystatechange=null,J==="abort"?F.abort():J==="error"?typeof F.status!="number"?R(0,"error"):R(F.status,F.statusText):R(Pe[F.status]||F.status,F.statusText,(F.responseType||"text")!=="text"||typeof F.responseText!="string"?{binary:F.response}:{text:F.responseText},F.getAllResponseHeaders()))}},F.onload=_(),T=F.onerror=F.ontimeout=_("error"),F.onabort!==void 0?F.onabort=T:F.onreadystatechange=function(){F.readyState===4&&t.setTimeout(function(){_&&T()})},_=_("abort");try{F.send(d.hasContent&&d.data||null)}catch(J){if(_)throw J}},abort:function(){_&&_()}}}),y.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return y.globalEval(d),d}}}),y.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),y.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var _,T;return{send:function(E,R){_=y("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",T=function(O){_.remove(),T=null,O&&R(O.type==="error"?404:200,O.type)}),j.head.appendChild(_[0])},abort:function(){T&&T()}}}});var hi=[],Un=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=hi.pop()||y.expando+"_"+Rr.guid++;return this[d]=!0,d}}),y.ajaxPrefilter("json jsonp",function(d,_,T){var E,R,O,F=d.jsonp!==!1&&(Un.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Un.test(d.data)&&"data");if(F||d.dataTypes[0]==="jsonp")return E=d.jsonpCallback=A(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,F?d[F]=d[F].replace(Un,"$1"+E):d.jsonp!==!1&&(d.url+=(Oi.test(d.url)?"&":"?")+d.jsonp+"="+E),d.converters["script json"]=function(){return O||y.error(E+" was not called"),O[0]},d.dataTypes[0]="json",R=t[E],t[E]=function(){O=arguments},T.always(function(){R===void 0?y(t).removeProp(E):t[E]=R,d[E]&&(d.jsonpCallback=_.jsonpCallback,hi.push(E)),O&&A(R)&&R(O[0]),O=R=void 0}),"script"}),P.createHTMLDocument=function(){var d=j.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2}(),y.parseHTML=function(d,_,T){if(typeof d!="string")return[];typeof _=="boolean"&&(T=_,_=!1);var E,R,O;return _||(P.createHTMLDocument?(_=j.implementation.createHTMLDocument(""),E=_.createElement("base"),E.href=j.location.href,_.head.appendChild(E)):_=j),R=Mt.exec(d),O=!T&&[],R?[_.createElement(R[1])]:(R=Wn([d],_,O),O&&O.length&&y(O).remove(),y.merge([],R.childNodes))},y.fn.load=function(d,_,T){var E,R,O,F=this,J=d.indexOf(" ");return J>-1&&(E=hs(d.slice(J)),d=d.slice(0,J)),A(_)?(T=_,_=void 0):_&&typeof _=="object"&&(R="POST"),F.length>0&&y.ajax({url:d,type:R||"GET",dataType:"html",data:_}).done(function(X){O=arguments,F.html(E?y("<div>").append(y.parseHTML(X)).find(E):X)}).always(T&&function(X,st){F.each(function(){T.apply(this,O||[X.responseText,st,X])})}),this},y.expr.pseudos.animated=function(d){return y.grep(y.timers,function(_){return d===_.elem}).length},y.offset={setOffset:function(d,_,T){var E,R,O,F,J,X,st,dt=y.css(d,"position"),gt=y(d),ct={};dt==="static"&&(d.style.position="relative"),J=gt.offset(),O=y.css(d,"top"),X=y.css(d,"left"),st=(dt==="absolute"||dt==="fixed")&&(O+X).indexOf("auto")>-1,st?(E=gt.position(),F=E.top,R=E.left):(F=parseFloat(O)||0,R=parseFloat(X)||0),A(_)&&(_=_.call(d,T,y.extend({},J))),_.top!=null&&(ct.top=_.top-J.top+F),_.left!=null&&(ct.left=_.left-J.left+R),"using"in _?_.using.call(d,ct):gt.css(ct)}},y.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(R){y.offset.setOffset(this,d,R)});var _,T,E=this[0];if(E)return E.getClientRects().length?(_=E.getBoundingClientRect(),T=E.ownerDocument.defaultView,{top:_.top+T.pageYOffset,left:_.left+T.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var d,_,T,E=this[0],R={top:0,left:0};if(y.css(E,"position")==="fixed")_=E.getBoundingClientRect();else{for(_=this.offset(),T=E.ownerDocument,d=E.offsetParent||T.documentElement;d&&(d===T.body||d===T.documentElement)&&y.css(d,"position")==="static";)d=d.parentNode;d&&d!==E&&d.nodeType===1&&(R=y(d).offset(),R.top+=y.css(d,"borderTopWidth",!0),R.left+=y.css(d,"borderLeftWidth",!0))}return{top:_.top-R.top-y.css(E,"marginTop",!0),left:_.left-R.left-y.css(E,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&y.css(d,"position")==="static";)d=d.offsetParent;return d||wi})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,_){var T=_==="pageYOffset";y.fn[d]=function(E){return nn(this,function(R,O,F){var J;if(V(R)?J=R:R.nodeType===9&&(J=R.defaultView),F===void 0)return J?J[_]:R[O];J?J.scrollTo(T?J.pageXOffset:F,T?F:J.pageYOffset):R[O]=F},d,E,arguments.length)}}),y.each(["top","left"],function(d,_){y.cssHooks[_]=rr(P.pixelPosition,function(T,E){if(E)return E=as(T,_),ys.test(E)?y(T).position()[_]+"px":E})}),y.each({Height:"height",Width:"width"},function(d,_){y.each({padding:"inner"+d,content:_,"":"outer"+d},function(T,E){y.fn[E]=function(R,O){var F=arguments.length&&(T||typeof R!="boolean"),J=T||(R===!0||O===!0?"margin":"border");return nn(this,function(X,st,dt){var gt;return V(X)?E.indexOf("outer")===0?X["inner"+d]:X.document.documentElement["client"+d]:X.nodeType===9?(gt=X.documentElement,Math.max(X.body["scroll"+d],gt["scroll"+d],X.body["offset"+d],gt["offset"+d],gt["client"+d])):dt===void 0?y.css(X,st,J):y.style(X,st,dt,J)},_,F?R:void 0,F)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,_){y.fn[_]=function(T){return this.on(_,T)}}),y.fn.extend({bind:function(d,_,T){return this.on(d,null,_,T)},unbind:function(d,_){return this.off(d,null,_)},delegate:function(d,_,T,E){return this.on(_,d,T,E)},undelegate:function(d,_,T){return arguments.length===1?this.off(d,"**"):this.off(_,d||"**",T)},hover:function(d,_){return this.on("mouseenter",d).on("mouseleave",_||d)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,_){y.fn[_]=function(T,E){return arguments.length>0?this.on(_,null,T,E):this.trigger(_)}});var Ke=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(d,_){var T,E,R;if(typeof _=="string"&&(T=d[_],_=d,d=T),!!A(d))return E=r.call(arguments,2),R=function(){return d.apply(_||this,E.concat(r.call(arguments)))},R.guid=d.guid=d.guid||y.guid++,R},y.holdReady=function(d){d?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=z,y.isFunction=A,y.isWindow=V,y.camelCase=kn,y.type=it,y.now=Date.now,y.isNumeric=function(d){var _=y.type(d);return(_==="number"||_==="string")&&!isNaN(d-parseFloat(d))},y.trim=function(d){return d==null?"":(d+"").replace(Ke,"$1")};var lr=t.jQuery,Li=t.$;return y.noConflict=function(d){return t.$===y&&(t.$=Li),d&&t.jQuery===y&&(t.jQuery=lr),y},typeof e>"u"&&(t.jQuery=t.$=y),y})}(mh)),mh.exports}var QS=XS();const W=ZS(QS);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var w0;function zt(){return w0.apply(null,arguments)}function JS(n){w0=n}function wr(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function ja(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Je(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function am(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var t;for(t in n)if(Je(n,t))return!1;return!0}function Ps(n){return n===void 0}function Oo(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function cu(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function b0(n,t){var e=[],i,s=n.length;for(i=0;i<s;++i)e.push(t(n[i],i));return e}function ia(n,t){for(var e in t)Je(t,e)&&(n[e]=t[e]);return Je(t,"toString")&&(n.toString=t.toString),Je(t,"valueOf")&&(n.valueOf=t.valueOf),n}function qr(n,t,e,i){return j0(n,t,e,i,!0).utc()}function tE(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ie(n){return n._pf==null&&(n._pf=tE()),n._pf}var lp;Array.prototype.some?lp=Array.prototype.some:lp=function(n){var t=Object(this),e=t.length>>>0,i;for(i=0;i<e;i++)if(i in t&&n.call(this,t[i],i,t))return!0;return!1};function lm(n){var t=null,e=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(t=Ie(n),e=lp.call(t.parsedDateParts,function(s){return s!=null}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e),n._strict&&(i=i&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function xd(n){var t=qr(NaN);return n!=null?ia(Ie(t),n):Ie(t).userInvalidated=!0,t}var Qg=zt.momentProperties=[],Ef=!1;function cm(n,t){var e,i,s,r=Qg.length;if(Ps(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),Ps(t._i)||(n._i=t._i),Ps(t._f)||(n._f=t._f),Ps(t._l)||(n._l=t._l),Ps(t._strict)||(n._strict=t._strict),Ps(t._tzm)||(n._tzm=t._tzm),Ps(t._isUTC)||(n._isUTC=t._isUTC),Ps(t._offset)||(n._offset=t._offset),Ps(t._pf)||(n._pf=Ie(t)),Ps(t._locale)||(n._locale=t._locale),r>0)for(e=0;e<r;e++)i=Qg[e],s=t[i],Ps(s)||(n[i]=s);return n}function uu(n){cm(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ef===!1&&(Ef=!0,zt.updateOffset(this),Ef=!1)}function br(n){return n instanceof uu||n!=null&&n._isAMomentObject!=null}function T0(n){zt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function nr(n,t){var e=!0;return ia(function(){if(zt.deprecationHandler!=null&&zt.deprecationHandler(null,n),e){var i=[],s,r,a,l=arguments.length;for(r=0;r<l;r++){if(s="",typeof arguments[r]=="object"){s+=`
[`+r+"] ";for(a in arguments[0])Je(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[r];i.push(s)}T0(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),e=!1}return t.apply(this,arguments)},t)}var Jg={};function x0(n,t){zt.deprecationHandler!=null&&zt.deprecationHandler(n,t),Jg[n]||(T0(t),Jg[n]=!0)}zt.suppressDeprecationWarnings=!1;zt.deprecationHandler=null;function Gr(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function eE(n){var t,e;for(e in n)Je(n,e)&&(t=n[e],Gr(t)?this[e]=t:this["_"+e]=t);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function cp(n,t){var e=ia({},n),i;for(i in t)Je(t,i)&&(ja(n[i])&&ja(t[i])?(e[i]={},ia(e[i],n[i]),ia(e[i],t[i])):t[i]!=null?e[i]=t[i]:delete e[i]);for(i in n)Je(n,i)&&!Je(t,i)&&ja(n[i])&&(e[i]=ia({},e[i]));return e}function um(n){n!=null&&this.set(n)}var up;Object.keys?up=Object.keys:up=function(n){var t,e=[];for(t in n)Je(n,t)&&e.push(t);return e};var nE={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function iE(n,t,e){var i=this._calendar[n]||this._calendar.sameElse;return Gr(i)?i.call(t,e):i}function Yr(n,t,e){var i=""+Math.abs(n),s=t-i.length,r=n>=0;return(r?e?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}var hm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ju=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kf={},Cl={};function ie(n,t,e,i){var s=i;typeof i=="string"&&(s=function(){return this[i]()}),n&&(Cl[n]=s),t&&(Cl[t[0]]=function(){return Yr(s.apply(this,arguments),t[1],t[2])}),e&&(Cl[e]=function(){return this.localeData().ordinal(s.apply(this,arguments),n)})}function sE(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function rE(n){var t=n.match(hm),e,i;for(e=0,i=t.length;e<i;e++)Cl[t[e]]?t[e]=Cl[t[e]]:t[e]=sE(t[e]);return function(s){var r="",a;for(a=0;a<i;a++)r+=Gr(t[a])?t[a].call(s,n):t[a];return r}}function gh(n,t){return n.isValid()?(t=S0(t,n.localeData()),kf[t]=kf[t]||rE(t),kf[t](n)):n.localeData().invalidDate()}function S0(n,t){var e=5;function i(s){return t.longDateFormat(s)||s}for(ju.lastIndex=0;e>=0&&ju.test(n);)n=n.replace(ju,i),ju.lastIndex=0,e-=1;return n}var oE={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function aE(n){var t=this._longDateFormat[n],e=this._longDateFormat[n.toUpperCase()];return t||!e?t:(this._longDateFormat[n]=e.match(hm).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var lE="Invalid date";function cE(){return this._invalidDate}var uE="%d",hE=/\d{1,2}/;function dE(n){return this._ordinal.replace("%d",n)}var fE={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pE(n,t,e,i){var s=this._relativeTime[e];return Gr(s)?s(n,t,e,i):s.replace(/%d/i,n)}function mE(n,t){var e=this._relativeTime[n>0?"future":"past"];return Gr(e)?e(t):e.replace(/%s/i,t)}var t_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ir(n){return typeof n=="string"?t_[n]||t_[n.toLowerCase()]:void 0}function dm(n){var t={},e,i;for(i in n)Je(n,i)&&(e=ir(i),e&&(t[e]=n[i]));return t}var gE={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function _E(n){var t=[],e;for(e in n)Je(n,e)&&t.push({unit:e,priority:gE[e]});return t.sort(function(i,s){return i.priority-s.priority}),t}var E0=/\d/,Bs=/\d\d/,k0=/\d{3}/,fm=/\d{4}/,Sd=/[+-]?\d{6}/,En=/\d\d?/,P0=/\d\d\d\d?/,I0=/\d\d\d\d\d\d?/,Ed=/\d{1,3}/,pm=/\d{1,4}/,kd=/[+-]?\d{1,6}/,Zl=/\d+/,Pd=/[+-]?\d+/,yE=/Z|[+-]\d\d:?\d\d/gi,Id=/Z|[+-]\d\d(?::?\d\d)?/gi,vE=/[+-]?\d+(\.\d{1,3})?/,hu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kl=/^[1-9]\d?/,mm=/^([1-9]\d|\d)/,Hh;Hh={};function $t(n,t,e){Hh[n]=Gr(t)?t:function(i,s){return i&&e?e:t}}function wE(n,t){return Je(Hh,n)?Hh[n](t._strict,t._locale):new RegExp(bE(n))}function bE(n){return Co(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,s,r){return e||i||s||r}))}function Co(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Js(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Le(n){var t=+n,e=0;return t!==0&&isFinite(t)&&(e=Js(t)),e}var hp={};function mn(n,t){var e,i=t,s;for(typeof n=="string"&&(n=[n]),Oo(t)&&(i=function(r,a){a[t]=Le(r)}),s=n.length,e=0;e<s;e++)hp[n[e]]=i}function du(n,t){mn(n,function(e,i,s,r){s._w=s._w||{},t(e,s._w,s,r)})}function TE(n,t,e){t!=null&&Je(hp,n)&&hp[n](t,e._a,e,n)}function Cd(n){return n%4===0&&n%100!==0||n%400===0}var es=0,bo=1,zr=2,fi=3,mr=4,To=5,Wa=6,xE=7,SE=8;ie("Y",0,0,function(){var n=this.year();return n<=9999?Yr(n,4):"+"+n});ie(0,["YY",2],0,function(){return this.year()%100});ie(0,["YYYY",4],0,"year");ie(0,["YYYYY",5],0,"year");ie(0,["YYYYYY",6,!0],0,"year");$t("Y",Pd);$t("YY",En,Bs);$t("YYYY",pm,fm);$t("YYYYY",kd,Sd);$t("YYYYYY",kd,Sd);mn(["YYYYY","YYYYYY"],es);mn("YYYY",function(n,t){t[es]=n.length===2?zt.parseTwoDigitYear(n):Le(n)});mn("YY",function(n,t){t[es]=zt.parseTwoDigitYear(n)});mn("Y",function(n,t){t[es]=parseInt(n,10)});function Cc(n){return Cd(n)?366:365}zt.parseTwoDigitYear=function(n){return Le(n)+(Le(n)>68?1900:2e3)};var C0=Xl("FullYear",!0);function EE(){return Cd(this.year())}function Xl(n,t){return function(e){return e!=null?(M0(this,n,e),zt.updateOffset(this,t),this):Uc(this,n)}}function Uc(n,t){if(!n.isValid())return NaN;var e=n._d,i=n._isUTC;switch(t){case"Milliseconds":return i?e.getUTCMilliseconds():e.getMilliseconds();case"Seconds":return i?e.getUTCSeconds():e.getSeconds();case"Minutes":return i?e.getUTCMinutes():e.getMinutes();case"Hours":return i?e.getUTCHours():e.getHours();case"Date":return i?e.getUTCDate():e.getDate();case"Day":return i?e.getUTCDay():e.getDay();case"Month":return i?e.getUTCMonth():e.getMonth();case"FullYear":return i?e.getUTCFullYear():e.getFullYear();default:return NaN}}function M0(n,t,e){var i,s,r,a,l;if(!(!n.isValid()||isNaN(e))){switch(i=n._d,s=n._isUTC,t){case"Milliseconds":return void(s?i.setUTCMilliseconds(e):i.setMilliseconds(e));case"Seconds":return void(s?i.setUTCSeconds(e):i.setSeconds(e));case"Minutes":return void(s?i.setUTCMinutes(e):i.setMinutes(e));case"Hours":return void(s?i.setUTCHours(e):i.setHours(e));case"Date":return void(s?i.setUTCDate(e):i.setDate(e));case"FullYear":break;default:return}r=e,a=n.month(),l=n.date(),l=l===29&&a===1&&!Cd(r)?28:l,s?i.setUTCFullYear(r,a,l):i.setFullYear(r,a,l)}}function kE(n){return n=ir(n),Gr(this[n])?this[n]():this}function PE(n,t){if(typeof n=="object"){n=dm(n);var e=_E(n),i,s=e.length;for(i=0;i<s;i++)this[e[i].unit](n[e[i].unit])}else if(n=ir(n),Gr(this[n]))return this[n](t);return this}function IE(n,t){return(n%t+t)%t}var Zn;Array.prototype.indexOf?Zn=Array.prototype.indexOf:Zn=function(n){var t;for(t=0;t<this.length;++t)if(this[t]===n)return t;return-1};function gm(n,t){if(isNaN(n)||isNaN(t))return NaN;var e=IE(t,12);return n+=(t-e)/12,e===1?Cd(n)?29:28:31-e%7%2}ie("M",["MM",2],"Mo",function(){return this.month()+1});ie("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});ie("MMMM",0,0,function(n){return this.localeData().months(this,n)});$t("M",En,Kl);$t("MM",En,Bs);$t("MMM",function(n,t){return t.monthsShortRegex(n)});$t("MMMM",function(n,t){return t.monthsRegex(n)});mn(["M","MM"],function(n,t){t[bo]=Le(n)-1});mn(["MMM","MMMM"],function(n,t,e,i){var s=e._locale.monthsParse(n,i,e._strict);s!=null?t[bo]=s:Ie(e).invalidMonth=n});var CE="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),A0="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),D0=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ME=hu,AE=hu;function DE(n,t){return n?wr(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||D0).test(t)?"format":"standalone"][n.month()]:wr(this._months)?this._months:this._months.standalone}function RE(n,t){return n?wr(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[D0.test(t)?"format":"standalone"][n.month()]:wr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function OE(n,t,e){var i,s,r,a=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=qr([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return e?t==="MMM"?(s=Zn.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Zn.call(this._longMonthsParse,a),s!==-1?s:null):t==="MMM"?(s=Zn.call(this._shortMonthsParse,a),s!==-1?s:(s=Zn.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Zn.call(this._longMonthsParse,a),s!==-1?s:(s=Zn.call(this._shortMonthsParse,a),s!==-1?s:null))}function LE(n,t,e){var i,s,r;if(this._monthsParseExact)return OE.call(this,n,t,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=qr([2e3,i]),e&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!e&&!this._monthsParse[i]&&(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),e&&t==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(e&&t==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!e&&this._monthsParse[i].test(n))return i}}function R0(n,t){if(!n.isValid())return n;if(typeof t=="string"){if(/^\d+$/.test(t))t=Le(t);else if(t=n.localeData().monthsParse(t),!Oo(t))return n}var e=t,i=n.date();return i=i<29?i:Math.min(i,gm(n.year(),e)),n._isUTC?n._d.setUTCMonth(e,i):n._d.setMonth(e,i),n}function O0(n){return n!=null?(R0(this,n),zt.updateOffset(this,!0),this):Uc(this,"Month")}function NE(){return gm(this.year(),this.month())}function VE(n){return this._monthsParseExact?(Je(this,"_monthsRegex")||L0.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Je(this,"_monthsShortRegex")||(this._monthsShortRegex=ME),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function FE(n){return this._monthsParseExact?(Je(this,"_monthsRegex")||L0.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Je(this,"_monthsRegex")||(this._monthsRegex=AE),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function L0(){function n(c,h){return h.length-c.length}var t=[],e=[],i=[],s,r,a,l;for(s=0;s<12;s++)r=qr([2e3,s]),a=Co(this.monthsShort(r,"")),l=Co(this.months(r,"")),t.push(a),e.push(l),i.push(l),i.push(a);t.sort(n),e.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function zE(n,t,e,i,s,r,a){var l;return n<100&&n>=0?(l=new Date(n+400,t,e,i,s,r,a),isFinite(l.getFullYear())&&l.setFullYear(n)):l=new Date(n,t,e,i,s,r,a),l}function Hc(n){var t,e;return n<100&&n>=0?(e=Array.prototype.slice.call(arguments),e[0]=n+400,t=new Date(Date.UTC.apply(null,e)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function jh(n,t,e){var i=7+t-e,s=(7+Hc(n,0,i).getUTCDay()-t)%7;return-s+i-1}function N0(n,t,e,i,s){var r=(7+e-i)%7,a=jh(n,i,s),l=1+7*(t-1)+r+a,c,h;return l<=0?(c=n-1,h=Cc(c)+l):l>Cc(n)?(c=n+1,h=l-Cc(n)):(c=n,h=l),{year:c,dayOfYear:h}}function jc(n,t,e){var i=jh(n.year(),t,e),s=Math.floor((n.dayOfYear()-i-1)/7)+1,r,a;return s<1?(a=n.year()-1,r=s+Mo(a,t,e)):s>Mo(n.year(),t,e)?(r=s-Mo(n.year(),t,e),a=n.year()+1):(a=n.year(),r=s),{week:r,year:a}}function Mo(n,t,e){var i=jh(n,t,e),s=jh(n+1,t,e);return(Cc(n)-i+s)/7}ie("w",["ww",2],"wo","week");ie("W",["WW",2],"Wo","isoWeek");$t("w",En,Kl);$t("ww",En,Bs);$t("W",En,Kl);$t("WW",En,Bs);du(["w","ww","W","WW"],function(n,t,e,i){t[i.substr(0,1)]=Le(n)});function BE(n){return jc(n,this._week.dow,this._week.doy).week}var WE={dow:0,doy:6};function UE(){return this._week.dow}function HE(){return this._week.doy}function jE(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function YE(n){var t=jc(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}ie("d",0,"do","day");ie("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});ie("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});ie("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});ie("e",0,0,"weekday");ie("E",0,0,"isoWeekday");$t("d",En);$t("e",En);$t("E",En);$t("dd",function(n,t){return t.weekdaysMinRegex(n)});$t("ddd",function(n,t){return t.weekdaysShortRegex(n)});$t("dddd",function(n,t){return t.weekdaysRegex(n)});du(["dd","ddd","dddd"],function(n,t,e,i){var s=e._locale.weekdaysParse(n,i,e._strict);s!=null?t.d=s:Ie(e).invalidWeekday=n});du(["d","e","E"],function(n,t,e,i){t[i]=Le(n)});function $E(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function qE(n,t){return typeof n=="string"?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function _m(n,t){return n.slice(t,7).concat(n.slice(0,t))}var GE="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),V0="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZE="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KE=hu,XE=hu,QE=hu;function JE(n,t){var e=wr(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return n===!0?_m(e,this._week.dow):n?e[n.day()]:e}function tk(n){return n===!0?_m(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function ek(n){return n===!0?_m(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function nk(n,t,e){var i,s,r,a=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=qr([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return e?t==="dddd"?(s=Zn.call(this._weekdaysParse,a),s!==-1?s:null):t==="ddd"?(s=Zn.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Zn.call(this._minWeekdaysParse,a),s!==-1?s:null):t==="dddd"?(s=Zn.call(this._weekdaysParse,a),s!==-1||(s=Zn.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Zn.call(this._minWeekdaysParse,a),s!==-1?s:null)):t==="ddd"?(s=Zn.call(this._shortWeekdaysParse,a),s!==-1||(s=Zn.call(this._weekdaysParse,a),s!==-1)?s:(s=Zn.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Zn.call(this._minWeekdaysParse,a),s!==-1||(s=Zn.call(this._weekdaysParse,a),s!==-1)?s:(s=Zn.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function ik(n,t,e){var i,s,r;if(this._weekdaysParseExact)return nk.call(this,n,t,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=qr([2e3,1]).day(i),e&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),e&&t==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(e&&t==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(e&&t==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!e&&this._weekdaysParse[i].test(n))return i}}function sk(n){if(!this.isValid())return n!=null?this:NaN;var t=Uc(this,"Day");return n!=null?(n=$E(n,this.localeData()),this.add(n-t,"d")):t}function rk(n){if(!this.isValid())return n!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function ok(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var t=qE(n,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function ak(n){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||ym.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Je(this,"_weekdaysRegex")||(this._weekdaysRegex=KE),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function lk(n){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||ym.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Je(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=XE),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ck(n){return this._weekdaysParseExact?(Je(this,"_weekdaysRegex")||ym.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Je(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=QE),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ym(){function n(g,w){return w.length-g.length}var t=[],e=[],i=[],s=[],r,a,l,c,h;for(r=0;r<7;r++)a=qr([2e3,1]).day(r),l=Co(this.weekdaysMin(a,"")),c=Co(this.weekdaysShort(a,"")),h=Co(this.weekdays(a,"")),t.push(l),e.push(c),i.push(h),s.push(l),s.push(c),s.push(h);t.sort(n),e.sort(n),i.sort(n),s.sort(n),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vm(){return this.hours()%12||12}function uk(){return this.hours()||24}ie("H",["HH",2],0,"hour");ie("h",["hh",2],0,vm);ie("k",["kk",2],0,uk);ie("hmm",0,0,function(){return""+vm.apply(this)+Yr(this.minutes(),2)});ie("hmmss",0,0,function(){return""+vm.apply(this)+Yr(this.minutes(),2)+Yr(this.seconds(),2)});ie("Hmm",0,0,function(){return""+this.hours()+Yr(this.minutes(),2)});ie("Hmmss",0,0,function(){return""+this.hours()+Yr(this.minutes(),2)+Yr(this.seconds(),2)});function F0(n,t){ie(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}F0("a",!0);F0("A",!1);function z0(n,t){return t._meridiemParse}$t("a",z0);$t("A",z0);$t("H",En,mm);$t("h",En,Kl);$t("k",En,Kl);$t("HH",En,Bs);$t("hh",En,Bs);$t("kk",En,Bs);$t("hmm",P0);$t("hmmss",I0);$t("Hmm",P0);$t("Hmmss",I0);mn(["H","HH"],fi);mn(["k","kk"],function(n,t,e){var i=Le(n);t[fi]=i===24?0:i});mn(["a","A"],function(n,t,e){e._isPm=e._locale.isPM(n),e._meridiem=n});mn(["h","hh"],function(n,t,e){t[fi]=Le(n),Ie(e).bigHour=!0});mn("hmm",function(n,t,e){var i=n.length-2;t[fi]=Le(n.substr(0,i)),t[mr]=Le(n.substr(i)),Ie(e).bigHour=!0});mn("hmmss",function(n,t,e){var i=n.length-4,s=n.length-2;t[fi]=Le(n.substr(0,i)),t[mr]=Le(n.substr(i,2)),t[To]=Le(n.substr(s)),Ie(e).bigHour=!0});mn("Hmm",function(n,t,e){var i=n.length-2;t[fi]=Le(n.substr(0,i)),t[mr]=Le(n.substr(i))});mn("Hmmss",function(n,t,e){var i=n.length-4,s=n.length-2;t[fi]=Le(n.substr(0,i)),t[mr]=Le(n.substr(i,2)),t[To]=Le(n.substr(s))});function hk(n){return(n+"").toLowerCase().charAt(0)==="p"}var dk=/[ap]\.?m?\.?/i,fk=Xl("Hours",!0);function pk(n,t,e){return n>11?e?"pm":"PM":e?"am":"AM"}var B0={calendar:nE,longDateFormat:oE,invalidDate:lE,ordinal:uE,dayOfMonthOrdinalParse:hE,relativeTime:fE,months:CE,monthsShort:A0,week:WE,weekdays:GE,weekdaysMin:ZE,weekdaysShort:V0,meridiemParse:dk},An={},ac={},Yc;function mk(n,t){var e,i=Math.min(n.length,t.length);for(e=0;e<i;e+=1)if(n[e]!==t[e])return e;return i}function e_(n){return n&&n.toLowerCase().replace("_","-")}function gk(n){for(var t=0,e,i,s,r;t<n.length;){for(r=e_(n[t]).split("-"),e=r.length,i=e_(n[t+1]),i=i?i.split("-"):null;e>0;){if(s=Md(r.slice(0,e).join("-")),s)return s;if(i&&i.length>=e&&mk(r,i)>=e-1)break;e--}t++}return Yc}function _k(n){return!!(n&&n.match("^[^/\\\\]*$"))}function Md(n){var t=null,e;if(An[n]===void 0&&typeof Uh<"u"&&Uh&&Uh.exports&&_k(n))try{t=Yc._abbr,e=require,e("./locale/"+n),ha(t)}catch{An[n]=null}return An[n]}function ha(n,t){var e;return n&&(Ps(t)?e=zo(n):e=wm(n,t),e?Yc=e:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),Yc._abbr}function wm(n,t){if(t!==null){var e,i=B0;if(t.abbr=n,An[n]!=null)x0("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=An[n]._config;else if(t.parentLocale!=null)if(An[t.parentLocale]!=null)i=An[t.parentLocale]._config;else if(e=Md(t.parentLocale),e!=null)i=e._config;else return ac[t.parentLocale]||(ac[t.parentLocale]=[]),ac[t.parentLocale].push({name:n,config:t}),null;return An[n]=new um(cp(i,t)),ac[n]&&ac[n].forEach(function(s){wm(s.name,s.config)}),ha(n),An[n]}else return delete An[n],null}function yk(n,t){if(t!=null){var e,i,s=B0;An[n]!=null&&An[n].parentLocale!=null?An[n].set(cp(An[n]._config,t)):(i=Md(n),i!=null&&(s=i._config),t=cp(s,t),i==null&&(t.abbr=n),e=new um(t),e.parentLocale=An[n],An[n]=e),ha(n)}else An[n]!=null&&(An[n].parentLocale!=null?(An[n]=An[n].parentLocale,n===ha()&&ha(n)):An[n]!=null&&delete An[n]);return An[n]}function zo(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return Yc;if(!wr(n)){if(t=Md(n),t)return t;n=[n]}return gk(n)}function vk(){return up(An)}function bm(n){var t,e=n._a;return e&&Ie(n).overflow===-2&&(t=e[bo]<0||e[bo]>11?bo:e[zr]<1||e[zr]>gm(e[es],e[bo])?zr:e[fi]<0||e[fi]>24||e[fi]===24&&(e[mr]!==0||e[To]!==0||e[Wa]!==0)?fi:e[mr]<0||e[mr]>59?mr:e[To]<0||e[To]>59?To:e[Wa]<0||e[Wa]>999?Wa:-1,Ie(n)._overflowDayOfYear&&(t<es||t>zr)&&(t=zr),Ie(n)._overflowWeeks&&t===-1&&(t=xE),Ie(n)._overflowWeekday&&t===-1&&(t=SE),Ie(n).overflow=t),n}var wk=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bk=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tk=/Z|[+-]\d\d(?::?\d\d)?/,Yu=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pf=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xk=/^\/?Date\((-?\d+)/i,Sk=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ek={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function W0(n){var t,e,i=n._i,s=wk.exec(i)||bk.exec(i),r,a,l,c,h=Yu.length,g=Pf.length;if(s){for(Ie(n).iso=!0,t=0,e=h;t<e;t++)if(Yu[t][1].exec(s[1])){a=Yu[t][0],r=Yu[t][2]!==!1;break}if(a==null){n._isValid=!1;return}if(s[3]){for(t=0,e=g;t<e;t++)if(Pf[t][1].exec(s[3])){l=(s[2]||" ")+Pf[t][0];break}if(l==null){n._isValid=!1;return}}if(!r&&l!=null){n._isValid=!1;return}if(s[4])if(Tk.exec(s[4]))c="Z";else{n._isValid=!1;return}n._f=a+(l||"")+(c||""),xm(n)}else n._isValid=!1}function kk(n,t,e,i,s,r){var a=[Pk(n),A0.indexOf(t),parseInt(e,10),parseInt(i,10),parseInt(s,10)];return r&&a.push(parseInt(r,10)),a}function Pk(n){var t=parseInt(n,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ik(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ck(n,t,e){if(n){var i=V0.indexOf(n),s=new Date(t[0],t[1],t[2]).getDay();if(i!==s)return Ie(e).weekdayMismatch=!0,e._isValid=!1,!1}return!0}function Mk(n,t,e){if(n)return Ek[n];if(t)return 0;var i=parseInt(e,10),s=i%100,r=(i-s)/100;return r*60+s}function U0(n){var t=Sk.exec(Ik(n._i)),e;if(t){if(e=kk(t[4],t[3],t[2],t[5],t[6],t[7]),!Ck(t[1],e,n))return;n._a=e,n._tzm=Mk(t[8],t[9],t[10]),n._d=Hc.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),Ie(n).rfc2822=!0}else n._isValid=!1}function Ak(n){var t=xk.exec(n._i);if(t!==null){n._d=new Date(+t[1]);return}if(W0(n),n._isValid===!1)delete n._isValid;else return;if(U0(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:zt.createFromInputFallback(n)}zt.createFromInputFallback=nr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function bl(n,t,e){return n??t??e}function Dk(n){var t=new Date(zt.now());return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Tm(n){var t,e,i=[],s,r,a;if(!n._d){for(s=Dk(n),n._w&&n._a[zr]==null&&n._a[bo]==null&&Rk(n),n._dayOfYear!=null&&(a=bl(n._a[es],s[es]),(n._dayOfYear>Cc(a)||n._dayOfYear===0)&&(Ie(n)._overflowDayOfYear=!0),e=Hc(a,0,n._dayOfYear),n._a[bo]=e.getUTCMonth(),n._a[zr]=e.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=i[t]=s[t];for(;t<7;t++)n._a[t]=i[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[fi]===24&&n._a[mr]===0&&n._a[To]===0&&n._a[Wa]===0&&(n._nextDay=!0,n._a[fi]=0),n._d=(n._useUTC?Hc:zE).apply(null,i),r=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[fi]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==r&&(Ie(n).weekdayMismatch=!0)}}function Rk(n){var t,e,i,s,r,a,l,c,h;t=n._w,t.GG!=null||t.W!=null||t.E!=null?(r=1,a=4,e=bl(t.GG,n._a[es],jc(Sn(),1,4).year),i=bl(t.W,1),s=bl(t.E,1),(s<1||s>7)&&(c=!0)):(r=n._locale._week.dow,a=n._locale._week.doy,h=jc(Sn(),r,a),e=bl(t.gg,n._a[es],h.year),i=bl(t.w,h.week),t.d!=null?(s=t.d,(s<0||s>6)&&(c=!0)):t.e!=null?(s=t.e+r,(t.e<0||t.e>6)&&(c=!0)):s=r),i<1||i>Mo(e,r,a)?Ie(n)._overflowWeeks=!0:c!=null?Ie(n)._overflowWeekday=!0:(l=N0(e,i,s,r,a),n._a[es]=l.year,n._dayOfYear=l.dayOfYear)}zt.ISO_8601=function(){};zt.RFC_2822=function(){};function xm(n){if(n._f===zt.ISO_8601){W0(n);return}if(n._f===zt.RFC_2822){U0(n);return}n._a=[],Ie(n).empty=!0;var t=""+n._i,e,i,s,r,a,l=t.length,c=0,h,g;for(s=S0(n._f,n._locale).match(hm)||[],g=s.length,e=0;e<g;e++)r=s[e],i=(t.match(wE(r,n))||[])[0],i&&(a=t.substr(0,t.indexOf(i)),a.length>0&&Ie(n).unusedInput.push(a),t=t.slice(t.indexOf(i)+i.length),c+=i.length),Cl[r]?(i?Ie(n).empty=!1:Ie(n).unusedTokens.push(r),TE(r,i,n)):n._strict&&!i&&Ie(n).unusedTokens.push(r);Ie(n).charsLeftOver=l-c,t.length>0&&Ie(n).unusedInput.push(t),n._a[fi]<=12&&Ie(n).bigHour===!0&&n._a[fi]>0&&(Ie(n).bigHour=void 0),Ie(n).parsedDateParts=n._a.slice(0),Ie(n).meridiem=n._meridiem,n._a[fi]=Ok(n._locale,n._a[fi],n._meridiem),h=Ie(n).era,h!==null&&(n._a[es]=n._locale.erasConvertYear(h,n._a[es])),Tm(n),bm(n)}function Ok(n,t,e){var i;return e==null?t:n.meridiemHour!=null?n.meridiemHour(t,e):(n.isPM!=null&&(i=n.isPM(e),i&&t<12&&(t+=12),!i&&t===12&&(t=0)),t)}function Lk(n){var t,e,i,s,r,a,l=!1,c=n._f.length;if(c===0){Ie(n).invalidFormat=!0,n._d=new Date(NaN);return}for(s=0;s<c;s++)r=0,a=!1,t=cm({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[s],xm(t),lm(t)&&(a=!0),r+=Ie(t).charsLeftOver,r+=Ie(t).unusedTokens.length*10,Ie(t).score=r,l?r<i&&(i=r,e=t):(i==null||r<i||a)&&(i=r,e=t,a&&(l=!0));ia(n,e||t)}function Nk(n){if(!n._d){var t=dm(n._i),e=t.day===void 0?t.date:t.day;n._a=b0([t.year,t.month,e,t.hour,t.minute,t.second,t.millisecond],function(i){return i&&parseInt(i,10)}),Tm(n)}}function Vk(n){var t=new uu(bm(H0(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function H0(n){var t=n._i,e=n._f;return n._locale=n._locale||zo(n._l),t===null||e===void 0&&t===""?xd({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),br(t)?new uu(bm(t)):(cu(t)?n._d=t:wr(e)?Lk(n):e?xm(n):Fk(n),lm(n)||(n._d=null),n))}function Fk(n){var t=n._i;Ps(t)?n._d=new Date(zt.now()):cu(t)?n._d=new Date(t.valueOf()):typeof t=="string"?Ak(n):wr(t)?(n._a=b0(t.slice(0),function(e){return parseInt(e,10)}),Tm(n)):ja(t)?Nk(n):Oo(t)?n._d=new Date(t):zt.createFromInputFallback(n)}function j0(n,t,e,i,s){var r={};return(t===!0||t===!1)&&(i=t,t=void 0),(e===!0||e===!1)&&(i=e,e=void 0),(ja(n)&&am(n)||wr(n)&&n.length===0)&&(n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=e,r._i=n,r._f=t,r._strict=i,Vk(r)}function Sn(n,t,e,i){return j0(n,t,e,i,!1)}var zk=nr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Sn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:xd()}),Bk=nr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Sn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:xd()});function Y0(n,t){var e,i;if(t.length===1&&wr(t[0])&&(t=t[0]),!t.length)return Sn();for(e=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][n](e))&&(e=t[i]);return e}function Wk(){var n=[].slice.call(arguments,0);return Y0("isBefore",n)}function Uk(){var n=[].slice.call(arguments,0);return Y0("isAfter",n)}var Hk=function(){return Date.now?Date.now():+new Date},lc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jk(n){var t,e=!1,i,s=lc.length;for(t in n)if(Je(n,t)&&!(Zn.call(lc,t)!==-1&&(n[t]==null||!isNaN(n[t]))))return!1;for(i=0;i<s;++i)if(n[lc[i]]){if(e)return!1;parseFloat(n[lc[i]])!==Le(n[lc[i]])&&(e=!0)}return!0}function Yk(){return this._isValid}function $k(){return Sr(NaN)}function Ad(n){var t=dm(n),e=t.year||0,i=t.quarter||0,s=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,c=t.minute||0,h=t.second||0,g=t.millisecond||0;this._isValid=jk(t),this._milliseconds=+g+h*1e3+c*6e4+l*1e3*60*60,this._days=+a+r*7,this._months=+s+i*3+e*12,this._data={},this._locale=zo(),this._bubble()}function _h(n){return n instanceof Ad}function dp(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function qk(n,t,e){var i=Math.min(n.length,t.length),s=Math.abs(n.length-t.length),r=0,a;for(a=0;a<i;a++)Le(n[a])!==Le(t[a])&&r++;return r+s}function $0(n,t){ie(n,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+Yr(~~(e/60),2)+t+Yr(~~e%60,2)})}$0("Z",":");$0("ZZ","");$t("Z",Id);$t("ZZ",Id);mn(["Z","ZZ"],function(n,t,e){e._useUTC=!0,e._tzm=Sm(Id,n)});var Gk=/([\+\-]|\d\d)/gi;function Sm(n,t){var e=(t||"").match(n),i,s,r;return e===null?null:(i=e[e.length-1]||[],s=(i+"").match(Gk)||["-",0,0],r=+(s[1]*60)+Le(s[2]),r===0?0:s[0]==="+"?r:-r)}function Em(n,t){var e,i;return t._isUTC?(e=t.clone(),i=(br(n)||cu(n)?n.valueOf():Sn(n).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+i),zt.updateOffset(e,!1),e):Sn(n).local()}function fp(n){return-Math.round(n._d.getTimezoneOffset())}zt.updateOffset=function(){};function Zk(n,t,e){var i=this._offset||0,s;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Sm(Id,n),n===null)return this}else Math.abs(n)<16&&!e&&(n=n*60);return!this._isUTC&&t&&(s=fp(this)),this._offset=n,this._isUTC=!0,s!=null&&this.add(s,"m"),i!==n&&(!t||this._changeInProgress?Z0(this,Sr(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,zt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:fp(this)}function Kk(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function Xk(n){return this.utcOffset(0,n)}function Qk(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(fp(this),"m")),this}function Jk(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Sm(yE,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function tP(n){return this.isValid()?(n=n?Sn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function eP(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nP(){if(!Ps(this._isDSTShifted))return this._isDSTShifted;var n={},t;return cm(n,this),n=H0(n),n._a?(t=n._isUTC?qr(n._a):Sn(n._a),this._isDSTShifted=this.isValid()&&qk(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iP(){return this.isValid()?!this._isUTC:!1}function sP(){return this.isValid()?this._isUTC:!1}function q0(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rP=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,oP=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Sr(n,t){var e=n,i=null,s,r,a;return _h(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:Oo(n)||!isNaN(+n)?(e={},t?e[t]=+n:e.milliseconds=+n):(i=rP.exec(n))?(s=i[1]==="-"?-1:1,e={y:0,d:Le(i[zr])*s,h:Le(i[fi])*s,m:Le(i[mr])*s,s:Le(i[To])*s,ms:Le(dp(i[Wa]*1e3))*s}):(i=oP.exec(n))?(s=i[1]==="-"?-1:1,e={y:Da(i[2],s),M:Da(i[3],s),w:Da(i[4],s),d:Da(i[5],s),h:Da(i[6],s),m:Da(i[7],s),s:Da(i[8],s)}):e==null?e={}:typeof e=="object"&&("from"in e||"to"in e)&&(a=aP(Sn(e.from),Sn(e.to)),e={},e.ms=a.milliseconds,e.M=a.months),r=new Ad(e),_h(n)&&Je(n,"_locale")&&(r._locale=n._locale),_h(n)&&Je(n,"_isValid")&&(r._isValid=n._isValid),r}Sr.fn=Ad.prototype;Sr.invalid=$k;function Da(n,t){var e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function n_(n,t){var e={};return e.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(e.months,"M").isAfter(t)&&--e.months,e.milliseconds=+t-+n.clone().add(e.months,"M"),e}function aP(n,t){var e;return n.isValid()&&t.isValid()?(t=Em(t,n),n.isBefore(t)?e=n_(n,t):(e=n_(t,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e):{milliseconds:0,months:0}}function G0(n,t){return function(e,i){var s,r;return i!==null&&!isNaN(+i)&&(x0(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=e,e=i,i=r),s=Sr(e,i),Z0(this,s,n),this}}function Z0(n,t,e,i){var s=t._milliseconds,r=dp(t._days),a=dp(t._months);n.isValid()&&(i=i??!0,a&&R0(n,Uc(n,"Month")+a*e),r&&M0(n,"Date",Uc(n,"Date")+r*e),s&&n._d.setTime(n._d.valueOf()+s*e),i&&zt.updateOffset(n,r||a))}var lP=G0(1,"add"),cP=G0(-1,"subtract");function K0(n){return typeof n=="string"||n instanceof String}function uP(n){return br(n)||cu(n)||K0(n)||Oo(n)||dP(n)||hP(n)||n===null||n===void 0}function hP(n){var t=ja(n)&&!am(n),e=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,r,a=i.length;for(s=0;s<a;s+=1)r=i[s],e=e||Je(n,r);return t&&e}function dP(n){var t=wr(n),e=!1;return t&&(e=n.filter(function(i){return!Oo(i)&&K0(n)}).length===0),t&&e}function fP(n){var t=ja(n)&&!am(n),e=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,r;for(s=0;s<i.length;s+=1)r=i[s],e=e||Je(n,r);return t&&e}function pP(n,t){var e=n.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"}function mP(n,t){arguments.length===1&&(arguments[0]?uP(arguments[0])?(n=arguments[0],t=void 0):fP(arguments[0])&&(t=arguments[0],n=void 0):(n=void 0,t=void 0));var e=n||Sn(),i=Em(e,this).startOf("day"),s=zt.calendarFormat(this,i)||"sameElse",r=t&&(Gr(t[s])?t[s].call(this,e):t[s]);return this.format(r||this.localeData().calendar(s,this,Sn(e)))}function gP(){return new uu(this)}function _P(n,t){var e=br(n)?n:Sn(n);return this.isValid()&&e.isValid()?(t=ir(t)||"millisecond",t==="millisecond"?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf()):!1}function yP(n,t){var e=br(n)?n:Sn(n);return this.isValid()&&e.isValid()?(t=ir(t)||"millisecond",t==="millisecond"?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf()):!1}function vP(n,t,e,i){var s=br(n)?n:Sn(n),r=br(t)?t:Sn(t);return this.isValid()&&s.isValid()&&r.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(s,e):!this.isBefore(s,e))&&(i[1]===")"?this.isBefore(r,e):!this.isAfter(r,e))):!1}function wP(n,t){var e=br(n)?n:Sn(n),i;return this.isValid()&&e.isValid()?(t=ir(t)||"millisecond",t==="millisecond"?this.valueOf()===e.valueOf():(i=e.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function bP(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function TP(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function xP(n,t,e){var i,s,r;if(!this.isValid())return NaN;if(i=Em(n,this),!i.isValid())return NaN;switch(s=(i.utcOffset()-this.utcOffset())*6e4,t=ir(t),t){case"year":r=yh(this,i)/12;break;case"month":r=yh(this,i);break;case"quarter":r=yh(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-s)/864e5;break;case"week":r=(this-i-s)/6048e5;break;default:r=this-i}return e?r:Js(r)}function yh(n,t){if(n.date()<t.date())return-yh(t,n);var e=(t.year()-n.year())*12+(t.month()-n.month()),i=n.clone().add(e,"months"),s,r;return t-i<0?(s=n.clone().add(e-1,"months"),r=(t-i)/(i-s)):(s=n.clone().add(e+1,"months"),r=(t-i)/(s-i)),-(e+r)||0}zt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";zt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function SP(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function EP(n){if(!this.isValid())return null;var t=n!==!0,e=t?this.clone().utc():this;return e.year()<0||e.year()>9999?gh(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Gr(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gh(e,"Z")):gh(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function kP(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",t="",e,i,s,r;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),e="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]',this.format(e+i+s+r)}function PP(n){n||(n=this.isUtc()?zt.defaultFormatUtc:zt.defaultFormat);var t=gh(this,n);return this.localeData().postformat(t)}function IP(n,t){return this.isValid()&&(br(n)&&n.isValid()||Sn(n).isValid())?Sr({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function CP(n){return this.from(Sn(),n)}function MP(n,t){return this.isValid()&&(br(n)&&n.isValid()||Sn(n).isValid())?Sr({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function AP(n){return this.to(Sn(),n)}function X0(n){var t;return n===void 0?this._locale._abbr:(t=zo(n),t!=null&&(this._locale=t),this)}var Q0=nr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function J0(){return this._locale}var Yh=1e3,Ml=60*Yh,$h=60*Ml,tw=(365*400+97)*24*$h;function Al(n,t){return(n%t+t)%t}function ew(n,t,e){return n<100&&n>=0?new Date(n+400,t,e)-tw:new Date(n,t,e).valueOf()}function nw(n,t,e){return n<100&&n>=0?Date.UTC(n+400,t,e)-tw:Date.UTC(n,t,e)}function DP(n){var t,e;if(n=ir(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?nw:ew,n){case"year":t=e(this.year(),0,1);break;case"quarter":t=e(this.year(),this.month()-this.month()%3,1);break;case"month":t=e(this.year(),this.month(),1);break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=e(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Al(t+(this._isUTC?0:this.utcOffset()*Ml),$h);break;case"minute":t=this._d.valueOf(),t-=Al(t,Ml);break;case"second":t=this._d.valueOf(),t-=Al(t,Yh);break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function RP(n){var t,e;if(n=ir(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?nw:ew,n){case"year":t=e(this.year()+1,0,1)-1;break;case"quarter":t=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=e(this.year(),this.month()+1,1)-1;break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=$h-Al(t+(this._isUTC?0:this.utcOffset()*Ml),$h)-1;break;case"minute":t=this._d.valueOf(),t+=Ml-Al(t,Ml)-1;break;case"second":t=this._d.valueOf(),t+=Yh-Al(t,Yh)-1;break}return this._d.setTime(t),zt.updateOffset(this,!0),this}function OP(){return this._d.valueOf()-(this._offset||0)*6e4}function LP(){return Math.floor(this.valueOf()/1e3)}function NP(){return new Date(this.valueOf())}function VP(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function FP(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function zP(){return this.isValid()?this.toISOString():null}function BP(){return lm(this)}function WP(){return ia({},Ie(this))}function UP(){return Ie(this).overflow}function HP(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ie("N",0,0,"eraAbbr");ie("NN",0,0,"eraAbbr");ie("NNN",0,0,"eraAbbr");ie("NNNN",0,0,"eraName");ie("NNNNN",0,0,"eraNarrow");ie("y",["y",1],"yo","eraYear");ie("y",["yy",2],0,"eraYear");ie("y",["yyy",3],0,"eraYear");ie("y",["yyyy",4],0,"eraYear");$t("N",km);$t("NN",km);$t("NNN",km);$t("NNNN",t1);$t("NNNNN",e1);mn(["N","NN","NNN","NNNN","NNNNN"],function(n,t,e,i){var s=e._locale.erasParse(n,i,e._strict);s?Ie(e).era=s:Ie(e).invalidEra=n});$t("y",Zl);$t("yy",Zl);$t("yyy",Zl);$t("yyyy",Zl);$t("yo",n1);mn(["y","yy","yyy","yyyy"],es);mn(["yo"],function(n,t,e,i){var s;e._locale._eraYearOrdinalRegex&&(s=n.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?t[es]=e._locale.eraYearOrdinalParse(n,s):t[es]=parseInt(n,10)});function jP(n,t){var e,i,s,r=this._eras||zo("en")._eras;for(e=0,i=r.length;e<i;++e){switch(typeof r[e].since){case"string":s=zt(r[e].since).startOf("day"),r[e].since=s.valueOf();break}switch(typeof r[e].until){case"undefined":r[e].until=1/0;break;case"string":s=zt(r[e].until).startOf("day").valueOf(),r[e].until=s.valueOf();break}}return r}function YP(n,t,e){var i,s,r=this.eras(),a,l,c;for(n=n.toUpperCase(),i=0,s=r.length;i<s;++i)if(a=r[i].name.toUpperCase(),l=r[i].abbr.toUpperCase(),c=r[i].narrow.toUpperCase(),e)switch(t){case"N":case"NN":case"NNN":if(l===n)return r[i];break;case"NNNN":if(a===n)return r[i];break;case"NNNNN":if(c===n)return r[i];break}else if([a,l,c].indexOf(n)>=0)return r[i]}function $P(n,t){var e=n.since<=n.until?1:-1;return t===void 0?zt(n.since).year():zt(n.since).year()+(t-n.offset)*e}function qP(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].name;return""}function GP(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].narrow;return""}function ZP(){var n,t,e,i=this.localeData().eras();for(n=0,t=i.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return i[n].abbr;return""}function KP(){var n,t,e,i,s=this.localeData().eras();for(n=0,t=s.length;n<t;++n)if(e=s[n].since<=s[n].until?1:-1,i=this.clone().startOf("day").valueOf(),s[n].since<=i&&i<=s[n].until||s[n].until<=i&&i<=s[n].since)return(this.year()-zt(s[n].since).year())*e+s[n].offset;return this.year()}function XP(n){return Je(this,"_erasNameRegex")||Pm.call(this),n?this._erasNameRegex:this._erasRegex}function QP(n){return Je(this,"_erasAbbrRegex")||Pm.call(this),n?this._erasAbbrRegex:this._erasRegex}function JP(n){return Je(this,"_erasNarrowRegex")||Pm.call(this),n?this._erasNarrowRegex:this._erasRegex}function km(n,t){return t.erasAbbrRegex(n)}function t1(n,t){return t.erasNameRegex(n)}function e1(n,t){return t.erasNarrowRegex(n)}function n1(n,t){return t._eraYearOrdinalRegex||Zl}function Pm(){var n=[],t=[],e=[],i=[],s,r,a,l,c,h=this.eras();for(s=0,r=h.length;s<r;++s)a=Co(h[s].name),l=Co(h[s].abbr),c=Co(h[s].narrow),t.push(a),n.push(l),e.push(c),i.push(a),i.push(l),i.push(c);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+e.join("|")+")","i")}ie(0,["gg",2],0,function(){return this.weekYear()%100});ie(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Dd(n,t){ie(0,[n,n.length],0,t)}Dd("gggg","weekYear");Dd("ggggg","weekYear");Dd("GGGG","isoWeekYear");Dd("GGGGG","isoWeekYear");$t("G",Pd);$t("g",Pd);$t("GG",En,Bs);$t("gg",En,Bs);$t("GGGG",pm,fm);$t("gggg",pm,fm);$t("GGGGG",kd,Sd);$t("ggggg",kd,Sd);du(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,i){t[i.substr(0,2)]=Le(n)});du(["gg","GG"],function(n,t,e,i){t[i]=zt.parseTwoDigitYear(n)});function i1(n){return iw.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function s1(n){return iw.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function r1(){return Mo(this.year(),1,4)}function o1(){return Mo(this.isoWeekYear(),1,4)}function a1(){var n=this.localeData()._week;return Mo(this.year(),n.dow,n.doy)}function l1(){var n=this.localeData()._week;return Mo(this.weekYear(),n.dow,n.doy)}function iw(n,t,e,i,s){var r;return n==null?jc(this,i,s).year:(r=Mo(n,i,s),t>r&&(t=r),c1.call(this,n,t,e,i,s))}function c1(n,t,e,i,s){var r=N0(n,t,e,i,s),a=Hc(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}ie("Q",0,"Qo","quarter");$t("Q",E0);mn("Q",function(n,t){t[bo]=(Le(n)-1)*3});function u1(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}ie("D",["DD",2],"Do","date");$t("D",En,Kl);$t("DD",En,Bs);$t("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});mn(["D","DD"],zr);mn("Do",function(n,t){t[zr]=Le(n.match(En)[0])});var sw=Xl("Date",!0);ie("DDD",["DDDD",3],"DDDo","dayOfYear");$t("DDD",Ed);$t("DDDD",k0);mn(["DDD","DDDD"],function(n,t,e){e._dayOfYear=Le(n)});function h1(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}ie("m",["mm",2],0,"minute");$t("m",En,mm);$t("mm",En,Bs);mn(["m","mm"],mr);var d1=Xl("Minutes",!1);ie("s",["ss",2],0,"second");$t("s",En,mm);$t("ss",En,Bs);mn(["s","ss"],To);var f1=Xl("Seconds",!1);ie("S",0,0,function(){return~~(this.millisecond()/100)});ie(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ie(0,["SSS",3],0,"millisecond");ie(0,["SSSS",4],0,function(){return this.millisecond()*10});ie(0,["SSSSS",5],0,function(){return this.millisecond()*100});ie(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ie(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ie(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ie(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$t("S",Ed,E0);$t("SS",Ed,Bs);$t("SSS",Ed,k0);var sa,rw;for(sa="SSSS";sa.length<=9;sa+="S")$t(sa,Zl);function p1(n,t){t[Wa]=Le(("0."+n)*1e3)}for(sa="S";sa.length<=9;sa+="S")mn(sa,p1);rw=Xl("Milliseconds",!1);ie("z",0,0,"zoneAbbr");ie("zz",0,0,"zoneName");function m1(){return this._isUTC?"UTC":""}function g1(){return this._isUTC?"Coordinated Universal Time":""}var kt=uu.prototype;kt.add=lP;kt.calendar=mP;kt.clone=gP;kt.diff=xP;kt.endOf=RP;kt.format=PP;kt.from=IP;kt.fromNow=CP;kt.to=MP;kt.toNow=AP;kt.get=kE;kt.invalidAt=UP;kt.isAfter=_P;kt.isBefore=yP;kt.isBetween=vP;kt.isSame=wP;kt.isSameOrAfter=bP;kt.isSameOrBefore=TP;kt.isValid=BP;kt.lang=Q0;kt.locale=X0;kt.localeData=J0;kt.max=Bk;kt.min=zk;kt.parsingFlags=WP;kt.set=PE;kt.startOf=DP;kt.subtract=cP;kt.toArray=VP;kt.toObject=FP;kt.toDate=NP;kt.toISOString=EP;kt.inspect=kP;typeof Symbol<"u"&&Symbol.for!=null&&(kt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});kt.toJSON=zP;kt.toString=SP;kt.unix=LP;kt.valueOf=OP;kt.creationData=HP;kt.eraName=qP;kt.eraNarrow=GP;kt.eraAbbr=ZP;kt.eraYear=KP;kt.year=C0;kt.isLeapYear=EE;kt.weekYear=i1;kt.isoWeekYear=s1;kt.quarter=kt.quarters=u1;kt.month=O0;kt.daysInMonth=NE;kt.week=kt.weeks=jE;kt.isoWeek=kt.isoWeeks=YE;kt.weeksInYear=a1;kt.weeksInWeekYear=l1;kt.isoWeeksInYear=r1;kt.isoWeeksInISOWeekYear=o1;kt.date=sw;kt.day=kt.days=sk;kt.weekday=rk;kt.isoWeekday=ok;kt.dayOfYear=h1;kt.hour=kt.hours=fk;kt.minute=kt.minutes=d1;kt.second=kt.seconds=f1;kt.millisecond=kt.milliseconds=rw;kt.utcOffset=Zk;kt.utc=Xk;kt.local=Qk;kt.parseZone=Jk;kt.hasAlignedHourOffset=tP;kt.isDST=eP;kt.isLocal=iP;kt.isUtcOffset=sP;kt.isUtc=q0;kt.isUTC=q0;kt.zoneAbbr=m1;kt.zoneName=g1;kt.dates=nr("dates accessor is deprecated. Use date instead.",sw);kt.months=nr("months accessor is deprecated. Use month instead",O0);kt.years=nr("years accessor is deprecated. Use year instead",C0);kt.zone=nr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Kk);kt.isDSTShifted=nr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nP);function _1(n){return Sn(n*1e3)}function y1(){return Sn.apply(null,arguments).parseZone()}function ow(n){return n}var tn=um.prototype;tn.calendar=iE;tn.longDateFormat=aE;tn.invalidDate=cE;tn.ordinal=dE;tn.preparse=ow;tn.postformat=ow;tn.relativeTime=pE;tn.pastFuture=mE;tn.set=eE;tn.eras=jP;tn.erasParse=YP;tn.erasConvertYear=$P;tn.erasAbbrRegex=QP;tn.erasNameRegex=XP;tn.erasNarrowRegex=JP;tn.months=DE;tn.monthsShort=RE;tn.monthsParse=LE;tn.monthsRegex=FE;tn.monthsShortRegex=VE;tn.week=BE;tn.firstDayOfYear=HE;tn.firstDayOfWeek=UE;tn.weekdays=JE;tn.weekdaysMin=ek;tn.weekdaysShort=tk;tn.weekdaysParse=ik;tn.weekdaysRegex=ak;tn.weekdaysShortRegex=lk;tn.weekdaysMinRegex=ck;tn.isPM=hk;tn.meridiem=pk;function qh(n,t,e,i){var s=zo(),r=qr().set(i,t);return s[e](r,n)}function aw(n,t,e){if(Oo(n)&&(t=n,n=void 0),n=n||"",t!=null)return qh(n,t,e,"month");var i,s=[];for(i=0;i<12;i++)s[i]=qh(n,i,e,"month");return s}function Im(n,t,e,i){typeof n=="boolean"?(Oo(t)&&(e=t,t=void 0),t=t||""):(t=n,e=t,n=!1,Oo(t)&&(e=t,t=void 0),t=t||"");var s=zo(),r=n?s._week.dow:0,a,l=[];if(e!=null)return qh(t,(e+r)%7,i,"day");for(a=0;a<7;a++)l[a]=qh(t,(a+r)%7,i,"day");return l}function v1(n,t){return aw(n,t,"months")}function w1(n,t){return aw(n,t,"monthsShort")}function b1(n,t,e){return Im(n,t,e,"weekdays")}function T1(n,t,e){return Im(n,t,e,"weekdaysShort")}function x1(n,t,e){return Im(n,t,e,"weekdaysMin")}ha("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,e=Le(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+e}});zt.lang=nr("moment.lang is deprecated. Use moment.locale instead.",ha);zt.langData=nr("moment.langData is deprecated. Use moment.localeData instead.",zo);var mo=Math.abs;function S1(){var n=this._data;return this._milliseconds=mo(this._milliseconds),this._days=mo(this._days),this._months=mo(this._months),n.milliseconds=mo(n.milliseconds),n.seconds=mo(n.seconds),n.minutes=mo(n.minutes),n.hours=mo(n.hours),n.months=mo(n.months),n.years=mo(n.years),this}function lw(n,t,e,i){var s=Sr(t,e);return n._milliseconds+=i*s._milliseconds,n._days+=i*s._days,n._months+=i*s._months,n._bubble()}function E1(n,t){return lw(this,n,t,1)}function k1(n,t){return lw(this,n,t,-1)}function i_(n){return n<0?Math.floor(n):Math.ceil(n)}function P1(){var n=this._milliseconds,t=this._days,e=this._months,i=this._data,s,r,a,l,c;return n>=0&&t>=0&&e>=0||n<=0&&t<=0&&e<=0||(n+=i_(pp(e)+t)*864e5,t=0,e=0),i.milliseconds=n%1e3,s=Js(n/1e3),i.seconds=s%60,r=Js(s/60),i.minutes=r%60,a=Js(r/60),i.hours=a%24,t+=Js(a/24),c=Js(cw(t)),e+=c,t-=i_(pp(c)),l=Js(e/12),e%=12,i.days=t,i.months=e,i.years=l,this}function cw(n){return n*4800/146097}function pp(n){return n*146097/4800}function I1(n){if(!this.isValid())return NaN;var t,e,i=this._milliseconds;if(n=ir(n),n==="month"||n==="quarter"||n==="year")switch(t=this._days+i/864e5,e=this._months+cw(t),n){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(t=this._days+Math.round(pp(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return t*24+i/36e5;case"minute":return t*1440+i/6e4;case"second":return t*86400+i/1e3;case"millisecond":return Math.floor(t*864e5)+i;default:throw new Error("Unknown unit "+n)}}function Bo(n){return function(){return this.as(n)}}var uw=Bo("ms"),C1=Bo("s"),M1=Bo("m"),A1=Bo("h"),D1=Bo("d"),R1=Bo("w"),O1=Bo("M"),L1=Bo("Q"),N1=Bo("y"),V1=uw;function F1(){return Sr(this)}function z1(n){return n=ir(n),this.isValid()?this[n+"s"]():NaN}function nl(n){return function(){return this.isValid()?this._data[n]:NaN}}var B1=nl("milliseconds"),W1=nl("seconds"),U1=nl("minutes"),H1=nl("hours"),j1=nl("days"),Y1=nl("months"),$1=nl("years");function q1(){return Js(this.days()/7)}var vo=Math.round,kl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function G1(n,t,e,i,s){return s.relativeTime(t||1,!!e,n,i)}function Z1(n,t,e,i){var s=Sr(n).abs(),r=vo(s.as("s")),a=vo(s.as("m")),l=vo(s.as("h")),c=vo(s.as("d")),h=vo(s.as("M")),g=vo(s.as("w")),w=vo(s.as("y")),x=r<=e.ss&&["s",r]||r<e.s&&["ss",r]||a<=1&&["m"]||a<e.m&&["mm",a]||l<=1&&["h"]||l<e.h&&["hh",l]||c<=1&&["d"]||c<e.d&&["dd",c];return e.w!=null&&(x=x||g<=1&&["w"]||g<e.w&&["ww",g]),x=x||h<=1&&["M"]||h<e.M&&["MM",h]||w<=1&&["y"]||["yy",w],x[2]=t,x[3]=+n>0,x[4]=i,G1.apply(null,x)}function K1(n){return n===void 0?vo:typeof n=="function"?(vo=n,!0):!1}function X1(n,t){return kl[n]===void 0?!1:t===void 0?kl[n]:(kl[n]=t,n==="s"&&(kl.ss=t-1),!0)}function Q1(n,t){if(!this.isValid())return this.localeData().invalidDate();var e=!1,i=kl,s,r;return typeof n=="object"&&(t=n,n=!1),typeof n=="boolean"&&(e=n),typeof t=="object"&&(i=Object.assign({},kl,t),t.s!=null&&t.ss==null&&(i.ss=t.s-1)),s=this.localeData(),r=Z1(this,!e,i,s),e&&(r=s.pastFuture(+this,r)),s.postformat(r)}var If=Math.abs;function _l(n){return(n>0)-(n<0)||+n}function Rd(){if(!this.isValid())return this.localeData().invalidDate();var n=If(this._milliseconds)/1e3,t=If(this._days),e=If(this._months),i,s,r,a,l=this.asSeconds(),c,h,g,w;return l?(i=Js(n/60),s=Js(i/60),n%=60,i%=60,r=Js(e/12),e%=12,a=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",h=_l(this._months)!==_l(l)?"-":"",g=_l(this._days)!==_l(l)?"-":"",w=_l(this._milliseconds)!==_l(l)?"-":"",c+"P"+(r?h+r+"Y":"")+(e?h+e+"M":"")+(t?g+t+"D":"")+(s||i||n?"T":"")+(s?w+s+"H":"")+(i?w+i+"M":"")+(n?w+a+"S":"")):"P0D"}var je=Ad.prototype;je.isValid=Yk;je.abs=S1;je.add=E1;je.subtract=k1;je.as=I1;je.asMilliseconds=uw;je.asSeconds=C1;je.asMinutes=M1;je.asHours=A1;je.asDays=D1;je.asWeeks=R1;je.asMonths=O1;je.asQuarters=L1;je.asYears=N1;je.valueOf=V1;je._bubble=P1;je.clone=F1;je.get=z1;je.milliseconds=B1;je.seconds=W1;je.minutes=U1;je.hours=H1;je.days=j1;je.weeks=q1;je.months=Y1;je.years=$1;je.humanize=Q1;je.toISOString=Rd;je.toString=Rd;je.toJSON=Rd;je.locale=X0;je.localeData=J0;je.toIsoString=nr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rd);je.lang=Q0;ie("X",0,0,"unix");ie("x",0,0,"valueOf");$t("x",Pd);$t("X",vE);mn("X",function(n,t,e){e._d=new Date(parseFloat(n)*1e3)});mn("x",function(n,t,e){e._d=new Date(Le(n))});//! moment.js
zt.version="2.30.1";JS(Sn);zt.fn=kt;zt.min=Wk;zt.max=Uk;zt.now=Hk;zt.utc=qr;zt.unix=_1;zt.months=v1;zt.isDate=cu;zt.locale=ha;zt.invalid=xd;zt.duration=Sr;zt.isMoment=br;zt.weekdays=b1;zt.parseZone=y1;zt.localeData=zo;zt.isDuration=_h;zt.monthsShort=w1;zt.weekdaysMin=x1;zt.defineLocale=wm;zt.updateLocale=yk;zt.locales=vk;zt.weekdaysShort=T1;zt.normalizeUnits=ir;zt.relativeTimeRounding=K1;zt.relativeTimeThreshold=X1;zt.calendarFormat=pP;zt.prototype=kt;zt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function hw(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mp={exports:{}},vh={exports:{}},J1=vh.exports,s_;function tI(){return s_||(s_=1,function(n,t){(function(e,i){n.exports=i()})(J1,function(){var e;function i(){return e.apply(null,arguments)}function s(f){e=f}function r(f){return f instanceof Array||Object.prototype.toString.call(f)==="[object Array]"}function a(f){return f!=null&&Object.prototype.toString.call(f)==="[object Object]"}function l(f,v){return Object.prototype.hasOwnProperty.call(f,v)}function c(f){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(f).length===0;var v;for(v in f)if(l(f,v))return!1;return!0}function h(f){return f===void 0}function g(f){return typeof f=="number"||Object.prototype.toString.call(f)==="[object Number]"}function w(f){return f instanceof Date||Object.prototype.toString.call(f)==="[object Date]"}function x(f,v){var k=[],M,U=f.length;for(M=0;M<U;++M)k.push(v(f[M],M));return k}function C(f,v){for(var k in v)l(v,k)&&(f[k]=v[k]);return l(v,"toString")&&(f.toString=v.toString),l(v,"valueOf")&&(f.valueOf=v.valueOf),f}function P(f,v,k,M){return Ls(f,v,k,M,!0).utc()}function A(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function V(f){return f._pf==null&&(f._pf=A()),f._pf}var j;Array.prototype.some?j=Array.prototype.some:j=function(f){var v=Object(this),k=v.length>>>0,M;for(M=0;M<k;M++)if(M in v&&f.call(this,v[M],M,v))return!0;return!1};function K(f){var v=null,k=!1,M=f._d&&!isNaN(f._d.getTime());if(M&&(v=V(f),k=j.call(v.parsedDateParts,function(U){return U!=null}),M=v.overflow<0&&!v.empty&&!v.invalidEra&&!v.invalidMonth&&!v.invalidWeekday&&!v.weekdayMismatch&&!v.nullInput&&!v.invalidFormat&&!v.userInvalidated&&(!v.meridiem||v.meridiem&&k),f._strict&&(M=M&&v.charsLeftOver===0&&v.unusedTokens.length===0&&v.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(f))f._isValid=M;else return M;return f._isValid}function Q(f){var v=P(NaN);return f!=null?C(V(v),f):V(v).userInvalidated=!0,v}var it=i.momentProperties=[],rt=!1;function ft(f,v){var k,M,U,et=it.length;if(h(v._isAMomentObject)||(f._isAMomentObject=v._isAMomentObject),h(v._i)||(f._i=v._i),h(v._f)||(f._f=v._f),h(v._l)||(f._l=v._l),h(v._strict)||(f._strict=v._strict),h(v._tzm)||(f._tzm=v._tzm),h(v._isUTC)||(f._isUTC=v._isUTC),h(v._offset)||(f._offset=v._offset),h(v._pf)||(f._pf=V(v)),h(v._locale)||(f._locale=v._locale),et>0)for(k=0;k<et;k++)M=it[k],U=v[M],h(U)||(f[M]=U);return f}function y(f){ft(this,f),this._d=new Date(f._d!=null?f._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),rt===!1&&(rt=!0,i.updateOffset(this),rt=!1)}function N(f){return f instanceof y||f!=null&&f._isAMomentObject!=null}function z(f){i.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+f)}function H(f,v){var k=!0;return C(function(){if(i.deprecationHandler!=null&&i.deprecationHandler(null,f),k){var M=[],U,et,mt,Ht=arguments.length;for(et=0;et<Ht;et++){if(U="",typeof arguments[et]=="object"){U+=`
[`+et+"] ";for(mt in arguments[0])l(arguments[0],mt)&&(U+=mt+": "+arguments[0][mt]+", ");U=U.slice(0,-2)}else U=arguments[et];M.push(U)}z(f+`
Arguments: `+Array.prototype.slice.call(M).join("")+`
`+new Error().stack),k=!1}return v.apply(this,arguments)},v)}var q={};function Z(f,v){i.deprecationHandler!=null&&i.deprecationHandler(f,v),q[f]||(z(v),q[f]=!0)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null;function $(f){return typeof Function<"u"&&f instanceof Function||Object.prototype.toString.call(f)==="[object Function]"}function Bt(f){var v,k;for(k in f)l(f,k)&&(v=f[k],$(v)?this[k]=v:this["_"+k]=v);this._config=f,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Xt(f,v){var k=C({},f),M;for(M in v)l(v,M)&&(a(f[M])&&a(v[M])?(k[M]={},C(k[M],f[M]),C(k[M],v[M])):v[M]!=null?k[M]=v[M]:delete k[M]);for(M in f)l(f,M)&&!l(v,M)&&a(f[M])&&(k[M]=C({},k[M]));return k}function Pt(f){f!=null&&this.set(f)}var Wt;Object.keys?Wt=Object.keys:Wt=function(f){var v,k=[];for(v in f)l(f,v)&&k.push(v);return k};var At={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function de(f,v,k){var M=this._calendar[f]||this._calendar.sameElse;return $(M)?M.call(v,k):M}function Rt(f,v,k){var M=""+Math.abs(f),U=v-M.length,et=f>=0;return(et?k?"+":"":"-")+Math.pow(10,Math.max(0,U)).toString().substr(1)+M}var xt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,It={},Qt={};function yt(f,v,k,M){var U=M;typeof M=="string"&&(U=function(){return this[M]()}),f&&(Qt[f]=U),v&&(Qt[v[0]]=function(){return Rt(U.apply(this,arguments),v[1],v[2])}),k&&(Qt[k]=function(){return this.localeData().ordinal(U.apply(this,arguments),f)})}function Ut(f){return f.match(/\[[\s\S]/)?f.replace(/^\[|\]$/g,""):f.replace(/\\/g,"")}function Te(f){var v=f.match(xt),k,M;for(k=0,M=v.length;k<M;k++)Qt[v[k]]?v[k]=Qt[v[k]]:v[k]=Ut(v[k]);return function(U){var et="",mt;for(mt=0;mt<M;mt++)et+=$(v[mt])?v[mt].call(U,f):v[mt];return et}}function Ae(f,v){return f.isValid()?(v=vn(v,f.localeData()),It[v]=It[v]||Te(v),It[v](f)):f.localeData().invalidDate()}function vn(f,v){var k=5;function M(U){return v.longDateFormat(U)||U}for(Mt.lastIndex=0;k>=0&&Mt.test(f);)f=f.replace(Mt,M),Mt.lastIndex=0,k-=1;return f}var Ye={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function On(f){var v=this._longDateFormat[f],k=this._longDateFormat[f.toUpperCase()];return v||!k?v:(this._longDateFormat[f]=k.match(xt).map(function(M){return M==="MMMM"||M==="MM"||M==="DD"||M==="dddd"?M.slice(1):M}).join(""),this._longDateFormat[f])}var cn="Invalid date";function Bn(){return this._invalidDate}var Yn="%d",Qn=/\d{1,2}/;function _i(f){return this._ordinal.replace("%d",f)}var Ln={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function nn(f,v,k,M){var U=this._relativeTime[k];return $(U)?U(f,v,k,M):U.replace(/%d/i,f)}function yi(f,v){var k=this._relativeTime[f>0?"future":"past"];return $(k)?k(v):k.replace(/%s/i,v)}var vi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ze(f){return typeof f=="string"?vi[f]||vi[f.toLowerCase()]:void 0}function kn(f){var v={},k,M;for(M in f)l(f,M)&&(k=ze(M),k&&(v[k]=f[M]));return v}var _s={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function As(f){var v=[],k;for(k in f)l(f,k)&&v.push({unit:k,priority:_s[k]});return v.sort(function(M,U){return M.priority-U.priority}),v}var Gt=/\d/,ce=/\d\d/,Nn=/\d{3}/,Ds=/\d{4}/,sr=/[+-]?\d{6}/,Be=/\d\d?/,Er=/\d\d\d\d?/,Wi=/\d\d\d\d\d\d?/,Jn=/\d{1,3}/,wi=/\d{1,4}/,bi=/[+-]?\d{1,6}/,Ws=/\d+/,Ai=/[+-]?\d+/,kr=/Z|[+-]\d\d:?\d\d/gi,Us=/Z|[+-]\d\d(?::?\d\d)?/gi,Kr=/[+-]?\d+(\.\d{1,3})?/,$n=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oi=/^[1-9]\d?/,Hs=/^([1-9]\d|\d)/,Di;Di={};function Dt(f,v,k){Di[f]=$(v)?v:function(M,U){return M&&k?k:v}}function Vn(f,v){return l(Di,f)?Di[f](v._strict,v._locale):new RegExp(Pr(f))}function Pr(f){return ai(f.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(v,k,M,U,et){return k||M||U||et}))}function ai(f){return f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wn(f){return f<0?Math.ceil(f)||0:Math.floor(f)}function te(f){var v=+f,k=0;return v!==0&&isFinite(v)&&(k=Wn(v)),k}var rs={};function xe(f,v){var k,M=v,U;for(typeof f=="string"&&(f=[f]),g(v)&&(M=function(et,mt){mt[v]=te(et)}),U=f.length,k=0;k<U;k++)rs[f[k]]=M}function Ri(f,v){xe(f,function(k,M,U,et){U._w=U._w||{},v(k,U._w,U,et)})}function li(f,v,k){v!=null&&l(rs,f)&&rs[f](v,k._a,k,f)}function Zt(f){return f%4===0&&f%100!==0||f%400===0}var un=0,Ui=1,Ti=2,on=3,ti=4,ci=5,qn=6,ei=7,Xr=8;yt("Y",0,0,function(){var f=this.year();return f<=9999?Rt(f,4):"+"+f}),yt(0,["YY",2],0,function(){return this.year()%100}),yt(0,["YYYY",4],0,"year"),yt(0,["YYYYY",5],0,"year"),yt(0,["YYYYYY",6,!0],0,"year"),Dt("Y",Ai),Dt("YY",Be,ce),Dt("YYYY",wi,Ds),Dt("YYYYY",bi,sr),Dt("YYYYYY",bi,sr),xe(["YYYYY","YYYYYY"],un),xe("YYYY",function(f,v){v[un]=f.length===2?i.parseTwoDigitYear(f):te(f)}),xe("YY",function(f,v){v[un]=i.parseTwoDigitYear(f)}),xe("Y",function(f,v){v[un]=parseInt(f,10)});function ys(f){return Zt(f)?366:365}i.parseTwoDigitYear=function(f){return te(f)+(te(f)>68?1900:2e3)};var js=os("FullYear",!0);function Ys(){return Zt(this.year())}function os(f,v){return function(k){return k!=null?(as(this,f,k),i.updateOffset(this,v),this):$s(this,f)}}function $s(f,v){if(!f.isValid())return NaN;var k=f._d,M=f._isUTC;switch(v){case"Milliseconds":return M?k.getUTCMilliseconds():k.getMilliseconds();case"Seconds":return M?k.getUTCSeconds():k.getSeconds();case"Minutes":return M?k.getUTCMinutes():k.getMinutes();case"Hours":return M?k.getUTCHours():k.getHours();case"Date":return M?k.getUTCDate():k.getDate();case"Day":return M?k.getUTCDay():k.getDay();case"Month":return M?k.getUTCMonth():k.getMonth();case"FullYear":return M?k.getUTCFullYear():k.getFullYear();default:return NaN}}function as(f,v,k){var M,U,et,mt,Ht;if(!(!f.isValid()||isNaN(k))){switch(M=f._d,U=f._isUTC,v){case"Milliseconds":return void(U?M.setUTCMilliseconds(k):M.setMilliseconds(k));case"Seconds":return void(U?M.setUTCSeconds(k):M.setSeconds(k));case"Minutes":return void(U?M.setUTCMinutes(k):M.setMinutes(k));case"Hours":return void(U?M.setUTCHours(k):M.setHours(k));case"Date":return void(U?M.setUTCDate(k):M.setDate(k));case"FullYear":break;default:return}et=k,mt=f.month(),Ht=f.date(),Ht=Ht===29&&mt===1&&!Zt(et)?28:Ht,U?M.setUTCFullYear(et,mt,Ht):M.setFullYear(et,mt,Ht)}}function rr(f){return f=ze(f),$(this[f])?this[f]():this}function Qr(f,v){if(typeof f=="object"){f=kn(f);var k=As(f),M,U=k.length;for(M=0;M<U;M++)this[k[M].unit](f[k[M].unit])}else if(f=ze(f),$(this[f]))return this[f](v);return this}function Ir(f,v){return(f%v+v)%v}var Ge;Array.prototype.indexOf?Ge=Array.prototype.indexOf:Ge=function(f){var v;for(v=0;v<this.length;++v)if(this[v]===f)return v;return-1};function ls(f,v){if(isNaN(f)||isNaN(v))return NaN;var k=Ir(v,12);return f+=(v-k)/12,k===1?Zt(f)?29:28:31-k%7%2}yt("M",["MM",2],"Mo",function(){return this.month()+1}),yt("MMM",0,0,function(f){return this.localeData().monthsShort(this,f)}),yt("MMMM",0,0,function(f){return this.localeData().months(this,f)}),Dt("M",Be,oi),Dt("MM",Be,ce),Dt("MMM",function(f,v){return v.monthsShortRegex(f)}),Dt("MMMM",function(f,v){return v.monthsRegex(f)}),xe(["M","MM"],function(f,v){v[Ui]=te(f)-1}),xe(["MMM","MMMM"],function(f,v,k,M){var U=k._locale.monthsParse(f,M,k._strict);U!=null?v[Ui]=U:V(k).invalidMonth=f});var Rs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Cr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mr=$n,Os=$n;function Se(f,v){return f?r(this._months)?this._months[f.month()]:this._months[(this._months.isFormat||Cr).test(v)?"format":"standalone"][f.month()]:r(this._months)?this._months:this._months.standalone}function Ze(f,v){return f?r(this._monthsShort)?this._monthsShort[f.month()]:this._monthsShort[Cr.test(v)?"format":"standalone"][f.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Pn(f,v,k){var M,U,et,mt=f.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;M<12;++M)et=P([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(et,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(et,"").toLocaleLowerCase();return k?v==="MMM"?(U=Ge.call(this._shortMonthsParse,mt),U!==-1?U:null):(U=Ge.call(this._longMonthsParse,mt),U!==-1?U:null):v==="MMM"?(U=Ge.call(this._shortMonthsParse,mt),U!==-1?U:(U=Ge.call(this._longMonthsParse,mt),U!==-1?U:null)):(U=Ge.call(this._longMonthsParse,mt),U!==-1?U:(U=Ge.call(this._shortMonthsParse,mt),U!==-1?U:null))}function xi(f,v,k){var M,U,et;if(this._monthsParseExact)return Pn.call(this,f,v,k);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),M=0;M<12;M++){if(U=P([2e3,M]),k&&!this._longMonthsParse[M]&&(this._longMonthsParse[M]=new RegExp("^"+this.months(U,"").replace(".","")+"$","i"),this._shortMonthsParse[M]=new RegExp("^"+this.monthsShort(U,"").replace(".","")+"$","i")),!k&&!this._monthsParse[M]&&(et="^"+this.months(U,"")+"|^"+this.monthsShort(U,""),this._monthsParse[M]=new RegExp(et.replace(".",""),"i")),k&&v==="MMMM"&&this._longMonthsParse[M].test(f))return M;if(k&&v==="MMM"&&this._shortMonthsParse[M].test(f))return M;if(!k&&this._monthsParse[M].test(f))return M}}function Hi(f,v){if(!f.isValid())return f;if(typeof v=="string"){if(/^\d+$/.test(v))v=te(v);else if(v=f.localeData().monthsParse(v),!g(v))return f}var k=v,M=f.date();return M=M<29?M:Math.min(M,ls(f.year(),k)),f._isUTC?f._d.setUTCMonth(k,M):f._d.setMonth(k,M),f}function Ar(f){return f!=null?(Hi(this,f),i.updateOffset(this,!0),this):$s(this,"Month")}function fe(){return ls(this.year(),this.month())}function sn(f){return this._monthsParseExact?(l(this,"_monthsRegex")||ni.call(this),f?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Mr),this._monthsShortStrictRegex&&f?this._monthsShortStrictRegex:this._monthsShortRegex)}function Dr(f){return this._monthsParseExact?(l(this,"_monthsRegex")||ni.call(this),f?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Os),this._monthsStrictRegex&&f?this._monthsStrictRegex:this._monthsRegex)}function ni(){function f(ye,Fe){return Fe.length-ye.length}var v=[],k=[],M=[],U,et,mt,Ht;for(U=0;U<12;U++)et=P([2e3,U]),mt=ai(this.monthsShort(et,"")),Ht=ai(this.months(et,"")),v.push(mt),k.push(Ht),M.push(Ht),M.push(mt);v.sort(f),k.sort(f),M.sort(f),this._monthsRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+v.join("|")+")","i")}function gn(f,v,k,M,U,et,mt){var Ht;return f<100&&f>=0?(Ht=new Date(f+400,v,k,M,U,et,mt),isFinite(Ht.getFullYear())&&Ht.setFullYear(f)):Ht=new Date(f,v,k,M,U,et,mt),Ht}function vs(f){var v,k;return f<100&&f>=0?(k=Array.prototype.slice.call(arguments),k[0]=f+400,v=new Date(Date.UTC.apply(null,k)),isFinite(v.getUTCFullYear())&&v.setUTCFullYear(f)):v=new Date(Date.UTC.apply(null,arguments)),v}function ji(f,v,k){var M=7+v-k,U=(7+vs(f,0,M).getUTCDay()-v)%7;return-U+M-1}function wn(f,v,k,M,U){var et=(7+k-M)%7,mt=ji(f,M,U),Ht=1+7*(v-1)+et+mt,ye,Fe;return Ht<=0?(ye=f-1,Fe=ys(ye)+Ht):Ht>ys(f)?(ye=f+1,Fe=Ht-ys(f)):(ye=f,Fe=Ht),{year:ye,dayOfYear:Fe}}function ne(f,v,k){var M=ji(f.year(),v,k),U=Math.floor((f.dayOfYear()-M-1)/7)+1,et,mt;return U<1?(mt=f.year()-1,et=U+hn(mt,v,k)):U>hn(f.year(),v,k)?(et=U-hn(f.year(),v,k),mt=f.year()+1):(mt=f.year(),et=U),{week:et,year:mt}}function hn(f,v,k){var M=ji(f,v,k),U=ji(f+1,v,k);return(ys(f)-M+U)/7}yt("w",["ww",2],"wo","week"),yt("W",["WW",2],"Wo","isoWeek"),Dt("w",Be,oi),Dt("ww",Be,ce),Dt("W",Be,oi),Dt("WW",Be,ce),Ri(["w","ww","W","WW"],function(f,v,k,M){v[M.substr(0,1)]=te(f)});function cs(f){return ne(f,this._week.dow,this._week.doy).week}var us={dow:0,doy:6};function hs(){return this._week.dow}function Si(){return this._week.doy}function or(f){var v=this.localeData().week(this);return f==null?v:this.add((f-v)*7,"d")}function Jr(f){var v=ne(this,1,4).week;return f==null?v:this.add((f-v)*7,"d")}yt("d",0,"do","day"),yt("dd",0,0,function(f){return this.localeData().weekdaysMin(this,f)}),yt("ddd",0,0,function(f){return this.localeData().weekdaysShort(this,f)}),yt("dddd",0,0,function(f){return this.localeData().weekdays(this,f)}),yt("e",0,0,"weekday"),yt("E",0,0,"isoWeekday"),Dt("d",Be),Dt("e",Be),Dt("E",Be),Dt("dd",function(f,v){return v.weekdaysMinRegex(f)}),Dt("ddd",function(f,v){return v.weekdaysShortRegex(f)}),Dt("dddd",function(f,v){return v.weekdaysRegex(f)}),Ri(["dd","ddd","dddd"],function(f,v,k,M){var U=k._locale.weekdaysParse(f,M,k._strict);U!=null?v.d=U:V(k).invalidWeekday=f}),Ri(["d","e","E"],function(f,v,k,M){v[M]=te(f)});function ws(f,v){return typeof f!="string"?f:isNaN(f)?(f=v.weekdaysParse(f),typeof f=="number"?f:null):parseInt(f,10)}function Rr(f,v){return typeof f=="string"?v.weekdaysParse(f)%7||7:isNaN(f)?null:f}function Oi(f,v){return f.slice(v,7).concat(f.slice(0,v))}var Ei="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ar="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Or="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),to=$n,re=$n,Yi=$n;function We(f,v){var k=r(this._weekdays)?this._weekdays:this._weekdays[f&&f!==!0&&this._weekdays.isFormat.test(v)?"format":"standalone"];return f===!0?Oi(k,this._week.dow):f?k[f.day()]:k}function jo(f){return f===!0?Oi(this._weekdaysShort,this._week.dow):f?this._weekdaysShort[f.day()]:this._weekdaysShort}function $i(f){return f===!0?Oi(this._weekdaysMin,this._week.dow):f?this._weekdaysMin[f.day()]:this._weekdaysMin}function eo(f,v,k){var M,U,et,mt=f.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;M<7;++M)et=P([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(et,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(et,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(et,"").toLocaleLowerCase();return k?v==="dddd"?(U=Ge.call(this._weekdaysParse,mt),U!==-1?U:null):v==="ddd"?(U=Ge.call(this._shortWeekdaysParse,mt),U!==-1?U:null):(U=Ge.call(this._minWeekdaysParse,mt),U!==-1?U:null):v==="dddd"?(U=Ge.call(this._weekdaysParse,mt),U!==-1||(U=Ge.call(this._shortWeekdaysParse,mt),U!==-1)?U:(U=Ge.call(this._minWeekdaysParse,mt),U!==-1?U:null)):v==="ddd"?(U=Ge.call(this._shortWeekdaysParse,mt),U!==-1||(U=Ge.call(this._weekdaysParse,mt),U!==-1)?U:(U=Ge.call(this._minWeekdaysParse,mt),U!==-1?U:null)):(U=Ge.call(this._minWeekdaysParse,mt),U!==-1||(U=Ge.call(this._weekdaysParse,mt),U!==-1)?U:(U=Ge.call(this._shortWeekdaysParse,mt),U!==-1?U:null))}function no(f,v,k){var M,U,et;if(this._weekdaysParseExact)return eo.call(this,f,v,k);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),M=0;M<7;M++){if(U=P([2e3,1]).day(M),k&&!this._fullWeekdaysParse[M]&&(this._fullWeekdaysParse[M]=new RegExp("^"+this.weekdays(U,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[M]=new RegExp("^"+this.weekdaysShort(U,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[M]=new RegExp("^"+this.weekdaysMin(U,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[M]||(et="^"+this.weekdays(U,"")+"|^"+this.weekdaysShort(U,"")+"|^"+this.weekdaysMin(U,""),this._weekdaysParse[M]=new RegExp(et.replace(".",""),"i")),k&&v==="dddd"&&this._fullWeekdaysParse[M].test(f))return M;if(k&&v==="ddd"&&this._shortWeekdaysParse[M].test(f))return M;if(k&&v==="dd"&&this._minWeekdaysParse[M].test(f))return M;if(!k&&this._weekdaysParse[M].test(f))return M}}function qi(f){if(!this.isValid())return f!=null?this:NaN;var v=$s(this,"Day");return f!=null?(f=ws(f,this.localeData()),this.add(f-v,"d")):v}function Gs(f){if(!this.isValid())return f!=null?this:NaN;var v=(this.day()+7-this.localeData()._week.dow)%7;return f==null?v:this.add(f-v,"d")}function Zs(f){if(!this.isValid())return f!=null?this:NaN;if(f!=null){var v=Rr(f,this.localeData());return this.day(this.day()%7?v:v-7)}else return this.day()||7}function dn(f){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||bs.call(this),f?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=to),this._weekdaysStrictRegex&&f?this._weekdaysStrictRegex:this._weekdaysRegex)}function ui(f){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||bs.call(this),f?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=re),this._weekdaysShortStrictRegex&&f?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Lr(f){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||bs.call(this),f?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yi),this._weekdaysMinStrictRegex&&f?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function bs(){function f(ms,po){return po.length-ms.length}var v=[],k=[],M=[],U=[],et,mt,Ht,ye,Fe;for(et=0;et<7;et++)mt=P([2e3,1]).day(et),Ht=ai(this.weekdaysMin(mt,"")),ye=ai(this.weekdaysShort(mt,"")),Fe=ai(this.weekdays(mt,"")),v.push(Ht),k.push(ye),M.push(Fe),U.push(Ht),U.push(ye),U.push(Fe);v.sort(f),k.sort(f),M.sort(f),U.sort(f),this._weekdaysRegex=new RegExp("^("+U.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+v.join("|")+")","i")}function en(){return this.hours()%12||12}function io(){return this.hours()||24}yt("H",["HH",2],0,"hour"),yt("h",["hh",2],0,en),yt("k",["kk",2],0,io),yt("hmm",0,0,function(){return""+en.apply(this)+Rt(this.minutes(),2)}),yt("hmmss",0,0,function(){return""+en.apply(this)+Rt(this.minutes(),2)+Rt(this.seconds(),2)}),yt("Hmm",0,0,function(){return""+this.hours()+Rt(this.minutes(),2)}),yt("Hmmss",0,0,function(){return""+this.hours()+Rt(this.minutes(),2)+Rt(this.seconds(),2)});function Ks(f,v){yt(f,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),v)})}Ks("a",!0),Ks("A",!1);function so(f,v){return v._meridiemParse}Dt("a",so),Dt("A",so),Dt("H",Be,Hs),Dt("h",Be,oi),Dt("k",Be,oi),Dt("HH",Be,ce),Dt("hh",Be,ce),Dt("kk",Be,ce),Dt("hmm",Er),Dt("hmmss",Wi),Dt("Hmm",Er),Dt("Hmmss",Wi),xe(["H","HH"],on),xe(["k","kk"],function(f,v,k){var M=te(f);v[on]=M===24?0:M}),xe(["a","A"],function(f,v,k){k._isPm=k._locale.isPM(f),k._meridiem=f}),xe(["h","hh"],function(f,v,k){v[on]=te(f),V(k).bigHour=!0}),xe("hmm",function(f,v,k){var M=f.length-2;v[on]=te(f.substr(0,M)),v[ti]=te(f.substr(M)),V(k).bigHour=!0}),xe("hmmss",function(f,v,k){var M=f.length-4,U=f.length-2;v[on]=te(f.substr(0,M)),v[ti]=te(f.substr(M,2)),v[ci]=te(f.substr(U)),V(k).bigHour=!0}),xe("Hmm",function(f,v,k){var M=f.length-2;v[on]=te(f.substr(0,M)),v[ti]=te(f.substr(M))}),xe("Hmmss",function(f,v,k){var M=f.length-4,U=f.length-2;v[on]=te(f.substr(0,M)),v[ti]=te(f.substr(M,2)),v[ci]=te(f.substr(U))});function ro(f){return(f+"").toLowerCase().charAt(0)==="p"}var Pe=/[ap]\.?m?\.?/i,Ts=os("Hours",!0);function hi(f,v,k){return f>11?k?"pm":"PM":k?"am":"AM"}var Un={calendar:At,longDateFormat:Ye,invalidDate:cn,ordinal:Yn,dayOfMonthOrdinalParse:Qn,relativeTime:Ln,months:Rs,monthsShort:qs,week:us,weekdays:Ei,weekdaysMin:Or,weekdaysShort:ar,meridiemParse:Pe},Ke={},lr={},Li;function d(f,v){var k,M=Math.min(f.length,v.length);for(k=0;k<M;k+=1)if(f[k]!==v[k])return k;return M}function _(f){return f&&f.toLowerCase().replace("_","-")}function T(f){for(var v=0,k,M,U,et;v<f.length;){for(et=_(f[v]).split("-"),k=et.length,M=_(f[v+1]),M=M?M.split("-"):null;k>0;){if(U=R(et.slice(0,k).join("-")),U)return U;if(M&&M.length>=k&&d(et,M)>=k-1)break;k--}v++}return Li}function E(f){return!!(f&&f.match("^[^/\\\\]*$"))}function R(f){var v=null,k;if(Ke[f]===void 0&&n&&n.exports&&E(f))try{v=Li._abbr,k=hw,k("./locale/"+f),O(v)}catch{Ke[f]=null}return Ke[f]}function O(f,v){var k;return f&&(h(v)?k=X(f):k=F(f,v),k?Li=k:typeof console<"u"&&console.warn&&console.warn("Locale "+f+" not found. Did you forget to load it?")),Li._abbr}function F(f,v){if(v!==null){var k,M=Un;if(v.abbr=f,Ke[f]!=null)Z("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),M=Ke[f]._config;else if(v.parentLocale!=null)if(Ke[v.parentLocale]!=null)M=Ke[v.parentLocale]._config;else if(k=R(v.parentLocale),k!=null)M=k._config;else return lr[v.parentLocale]||(lr[v.parentLocale]=[]),lr[v.parentLocale].push({name:f,config:v}),null;return Ke[f]=new Pt(Xt(M,v)),lr[f]&&lr[f].forEach(function(U){F(U.name,U.config)}),O(f),Ke[f]}else return delete Ke[f],null}function J(f,v){if(v!=null){var k,M,U=Un;Ke[f]!=null&&Ke[f].parentLocale!=null?Ke[f].set(Xt(Ke[f]._config,v)):(M=R(f),M!=null&&(U=M._config),v=Xt(U,v),M==null&&(v.abbr=f),k=new Pt(v),k.parentLocale=Ke[f],Ke[f]=k),O(f)}else Ke[f]!=null&&(Ke[f].parentLocale!=null?(Ke[f]=Ke[f].parentLocale,f===O()&&O(f)):Ke[f]!=null&&delete Ke[f]);return Ke[f]}function X(f){var v;if(f&&f._locale&&f._locale._abbr&&(f=f._locale._abbr),!f)return Li;if(!r(f)){if(v=R(f),v)return v;f=[f]}return T(f)}function st(){return Wt(Ke)}function dt(f){var v,k=f._a;return k&&V(f).overflow===-2&&(v=k[Ui]<0||k[Ui]>11?Ui:k[Ti]<1||k[Ti]>ls(k[un],k[Ui])?Ti:k[on]<0||k[on]>24||k[on]===24&&(k[ti]!==0||k[ci]!==0||k[qn]!==0)?on:k[ti]<0||k[ti]>59?ti:k[ci]<0||k[ci]>59?ci:k[qn]<0||k[qn]>999?qn:-1,V(f)._overflowDayOfYear&&(v<un||v>Ti)&&(v=Ti),V(f)._overflowWeeks&&v===-1&&(v=ei),V(f)._overflowWeekday&&v===-1&&(v=Xr),V(f).overflow=v),f}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tt=/Z|[+-]\d\d(?::?\d\d)?/,ee=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oe=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ki(f){var v,k,M=f._i,U=gt.exec(M)||ct.exec(M),et,mt,Ht,ye,Fe=ee.length,ms=we.length;if(U){for(V(f).iso=!0,v=0,k=Fe;v<k;v++)if(ee[v][1].exec(U[1])){mt=ee[v][0],et=ee[v][2]!==!1;break}if(mt==null){f._isValid=!1;return}if(U[3]){for(v=0,k=ms;v<k;v++)if(we[v][1].exec(U[3])){Ht=(U[2]||" ")+we[v][0];break}if(Ht==null){f._isValid=!1;return}}if(!et&&Ht!=null){f._isValid=!1;return}if(U[4])if(Tt.exec(U[4]))ye="Z";else{f._isValid=!1;return}f._f=mt+(Ht||"")+(ye||""),ut(f)}else f._isValid=!1}function Pi(f,v,k,M,U,et){var mt=[me(f),qs.indexOf(v),parseInt(k,10),parseInt(M,10),parseInt(U,10)];return et&&mt.push(parseInt(et,10)),mt}function me(f){var v=parseInt(f,10);return v<=49?2e3+v:v<=999?1900+v:v}function pn(f){return f.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ge(f,v,k){if(f){var M=ar.indexOf(f),U=new Date(v[0],v[1],v[2]).getDay();if(M!==U)return V(k).weekdayMismatch=!0,k._isValid=!1,!1}return!0}function an(f,v,k){if(f)return fn[f];if(v)return 0;var M=parseInt(k,10),U=M%100,et=(M-U)/100;return et*60+U}function Gn(f){var v=In.exec(pn(f._i)),k;if(v){if(k=Pi(v[4],v[3],v[2],v[5],v[6],v[7]),!ge(v[1],k,f))return;f._a=k,f._tzm=an(v[8],v[9],v[10]),f._d=vs.apply(null,f._a),f._d.setUTCMinutes(f._d.getUTCMinutes()-f._tzm),V(f).rfc2822=!0}else f._isValid=!1}function p(f){var v=oe.exec(f._i);if(v!==null){f._d=new Date(+v[1]);return}if(ki(f),f._isValid===!1)delete f._isValid;else return;if(Gn(f),f._isValid===!1)delete f._isValid;else return;f._strict?f._isValid=!1:i.createFromInputFallback(f)}i.createFromInputFallback=H("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(f){f._d=new Date(f._i+(f._useUTC?" UTC":""))});function S(f,v,k){return f??v??k}function D(f){var v=new Date(i.now());return f._useUTC?[v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()]:[v.getFullYear(),v.getMonth(),v.getDate()]}function Y(f){var v,k,M=[],U,et,mt;if(!f._d){for(U=D(f),f._w&&f._a[Ti]==null&&f._a[Ui]==null&&ot(f),f._dayOfYear!=null&&(mt=S(f._a[un],U[un]),(f._dayOfYear>ys(mt)||f._dayOfYear===0)&&(V(f)._overflowDayOfYear=!0),k=vs(mt,0,f._dayOfYear),f._a[Ui]=k.getUTCMonth(),f._a[Ti]=k.getUTCDate()),v=0;v<3&&f._a[v]==null;++v)f._a[v]=M[v]=U[v];for(;v<7;v++)f._a[v]=M[v]=f._a[v]==null?v===2?1:0:f._a[v];f._a[on]===24&&f._a[ti]===0&&f._a[ci]===0&&f._a[qn]===0&&(f._nextDay=!0,f._a[on]=0),f._d=(f._useUTC?vs:gn).apply(null,M),et=f._useUTC?f._d.getUTCDay():f._d.getDay(),f._tzm!=null&&f._d.setUTCMinutes(f._d.getUTCMinutes()-f._tzm),f._nextDay&&(f._a[on]=24),f._w&&typeof f._w.d<"u"&&f._w.d!==et&&(V(f).weekdayMismatch=!0)}}function ot(f){var v,k,M,U,et,mt,Ht,ye,Fe;v=f._w,v.GG!=null||v.W!=null||v.E!=null?(et=1,mt=4,k=S(v.GG,f._a[un],ne(Lt(),1,4).year),M=S(v.W,1),U=S(v.E,1),(U<1||U>7)&&(ye=!0)):(et=f._locale._week.dow,mt=f._locale._week.doy,Fe=ne(Lt(),et,mt),k=S(v.gg,f._a[un],Fe.year),M=S(v.w,Fe.week),v.d!=null?(U=v.d,(U<0||U>6)&&(ye=!0)):v.e!=null?(U=v.e+et,(v.e<0||v.e>6)&&(ye=!0)):U=et),M<1||M>hn(k,et,mt)?V(f)._overflowWeeks=!0:ye!=null?V(f)._overflowWeekday=!0:(Ht=wn(k,M,U,et,mt),f._a[un]=Ht.year,f._dayOfYear=Ht.dayOfYear)}i.ISO_8601=function(){},i.RFC_2822=function(){};function ut(f){if(f._f===i.ISO_8601){ki(f);return}if(f._f===i.RFC_2822){Gn(f);return}f._a=[],V(f).empty=!0;var v=""+f._i,k,M,U,et,mt,Ht=v.length,ye=0,Fe,ms;for(U=vn(f._f,f._locale).match(xt)||[],ms=U.length,k=0;k<ms;k++)et=U[k],M=(v.match(Vn(et,f))||[])[0],M&&(mt=v.substr(0,v.indexOf(M)),mt.length>0&&V(f).unusedInput.push(mt),v=v.slice(v.indexOf(M)+M.length),ye+=M.length),Qt[et]?(M?V(f).empty=!1:V(f).unusedTokens.push(et),li(et,M,f)):f._strict&&!M&&V(f).unusedTokens.push(et);V(f).charsLeftOver=Ht-ye,v.length>0&&V(f).unusedInput.push(v),f._a[on]<=12&&V(f).bigHour===!0&&f._a[on]>0&&(V(f).bigHour=void 0),V(f).parsedDateParts=f._a.slice(0),V(f).meridiem=f._meridiem,f._a[on]=St(f._locale,f._a[on],f._meridiem),Fe=V(f).era,Fe!==null&&(f._a[un]=f._locale.erasConvertYear(Fe,f._a[un])),Y(f),dt(f)}function St(f,v,k){var M;return k==null?v:f.meridiemHour!=null?f.meridiemHour(v,k):(f.isPM!=null&&(M=f.isPM(k),M&&v<12&&(v+=12),!M&&v===12&&(v=0)),v)}function Ve(f){var v,k,M,U,et,mt,Ht=!1,ye=f._f.length;if(ye===0){V(f).invalidFormat=!0,f._d=new Date(NaN);return}for(U=0;U<ye;U++)et=0,mt=!1,v=ft({},f),f._useUTC!=null&&(v._useUTC=f._useUTC),v._f=f._f[U],ut(v),K(v)&&(mt=!0),et+=V(v).charsLeftOver,et+=V(v).unusedTokens.length*10,V(v).score=et,Ht?et<M&&(M=et,k=v):(M==null||et<M||mt)&&(M=et,k=v,mt&&(Ht=!0));C(f,k||v)}function Xe(f){if(!f._d){var v=kn(f._i),k=v.day===void 0?v.date:v.day;f._a=x([v.year,v.month,k,v.hour,v.minute,v.second,v.millisecond],function(M){return M&&parseInt(M,10)}),Y(f)}}function _e(f){var v=new y(dt($e(f)));return v._nextDay&&(v.add(1,"d"),v._nextDay=void 0),v}function $e(f){var v=f._i,k=f._f;return f._locale=f._locale||X(f._l),v===null||k===void 0&&v===""?Q({nullInput:!0}):(typeof v=="string"&&(f._i=v=f._locale.preparse(v)),N(v)?new y(dt(v)):(w(v)?f._d=v:r(k)?Ve(f):k?ut(f):_n(f),K(f)||(f._d=null),f))}function _n(f){var v=f._i;h(v)?f._d=new Date(i.now()):w(v)?f._d=new Date(v.valueOf()):typeof v=="string"?p(f):r(v)?(f._a=x(v.slice(0),function(k){return parseInt(k,10)}),Y(f)):a(v)?Xe(f):g(v)?f._d=new Date(v):i.createFromInputFallback(f)}function Ls(f,v,k,M,U){var et={};return(v===!0||v===!1)&&(M=v,v=void 0),(k===!0||k===!1)&&(M=k,k=void 0),(a(f)&&c(f)||r(f)&&f.length===0)&&(f=void 0),et._isAMomentObject=!0,et._useUTC=et._isUTC=U,et._l=k,et._i=f,et._f=v,et._strict=M,_e(et)}function Lt(f,v,k,M){return Ls(f,v,k,M,!1)}var Ns=H("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var f=Lt.apply(null,arguments);return this.isValid()&&f.isValid()?f<this?this:f:Q()}),Cn=H("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var f=Lt.apply(null,arguments);return this.isValid()&&f.isValid()?f>this?this:f:Q()});function cr(f,v){var k,M;if(v.length===1&&r(v[0])&&(v=v[0]),!v.length)return Lt();for(k=v[0],M=1;M<v.length;++M)(!v[M].isValid()||v[M][f](k))&&(k=v[M]);return k}function oo(){var f=[].slice.call(arguments,0);return cr("isBefore",f)}function ul(){var f=[].slice.call(arguments,0);return cr("isAfter",f)}var ao=function(){return Date.now?Date.now():+new Date},ds=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xs(f){var v,k=!1,M,U=ds.length;for(v in f)if(l(f,v)&&!(Ge.call(ds,v)!==-1&&(f[v]==null||!isNaN(f[v]))))return!1;for(M=0;M<U;++M)if(f[ds[M]]){if(k)return!1;parseFloat(f[ds[M]])!==te(f[ds[M]])&&(k=!0)}return!0}function fs(){return this._isValid}function hl(){return Jt(NaN)}function Ss(f){var v=kn(f),k=v.year||0,M=v.quarter||0,U=v.month||0,et=v.week||v.isoWeek||0,mt=v.day||0,Ht=v.hour||0,ye=v.minute||0,Fe=v.second||0,ms=v.millisecond||0;this._isValid=xs(v),this._milliseconds=+ms+Fe*1e3+ye*6e4+Ht*1e3*60*60,this._days=+mt+et*7,this._months=+U+M*3+k*12,this._data={},this._locale=X(),this._bubble()}function ur(f){return f instanceof Ss}function Ii(f){return f<0?Math.round(-1*f)*-1:Math.round(f)}function Pa(f,v,k){var M=Math.min(f.length,v.length),U=Math.abs(f.length-v.length),et=0,mt;for(mt=0;mt<M;mt++)te(f[mt])!==te(v[mt])&&et++;return et+U}function hr(f,v){yt(f,0,0,function(){var k=this.utcOffset(),M="+";return k<0&&(k=-k,M="-"),M+Rt(~~(k/60),2)+v+Rt(~~k%60,2)})}hr("Z",":"),hr("ZZ",""),Dt("Z",Us),Dt("ZZ",Us),xe(["Z","ZZ"],function(f,v,k){k._useUTC=!0,k._tzm=Ni(Us,f)});var Yo=/([\+\-]|\d\d)/gi;function Ni(f,v){var k=(v||"").match(f),M,U,et;return k===null?null:(M=k[k.length-1]||[],U=(M+"").match(Yo)||["-",0,0],et=+(U[1]*60)+te(U[2]),et===0?0:U[0]==="+"?et:-et)}function Xs(f,v){var k,M;return v._isUTC?(k=v.clone(),M=(N(f)||w(f)?f.valueOf():Lt(f).valueOf())-k.valueOf(),k._d.setTime(k._d.valueOf()+M),i.updateOffset(k,!1),k):Lt(f).local()}function $o(f){return-Math.round(f._d.getTimezoneOffset())}i.updateOffset=function(){};function lo(f,v,k){var M=this._offset||0,U;if(!this.isValid())return f!=null?this:NaN;if(f!=null){if(typeof f=="string"){if(f=Ni(Us,f),f===null)return this}else Math.abs(f)<16&&!k&&(f=f*60);return!this._isUTC&&v&&(U=$o(this)),this._offset=f,this._isUTC=!0,U!=null&&this.add(U,"m"),M!==f&&(!v||this._changeInProgress?Mn(this,Jt(f-M,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?M:$o(this)}function co(f,v){return f!=null?(typeof f!="string"&&(f=-f),this.utcOffset(f,v),this):-this.utcOffset()}function G(f){return this.utcOffset(0,f)}function nt(f){return this._isUTC&&(this.utcOffset(0,f),this._isUTC=!1,f&&this.subtract($o(this),"m")),this}function lt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var f=Ni(kr,this._i);f!=null?this.utcOffset(f):this.utcOffset(0,!0)}return this}function ht(f){return this.isValid()?(f=f?Lt(f).utcOffset():0,(this.utcOffset()-f)%60===0):!1}function _t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ct(){if(!h(this._isDSTShifted))return this._isDSTShifted;var f={},v;return ft(f,this),f=$e(f),f._a?(v=f._isUTC?P(f._a):Lt(f._a),this._isDSTShifted=this.isValid()&&Pa(f._a,v.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Vt(){return this.isValid()?!this._isUTC:!1}function Yt(){return this.isValid()?this._isUTC:!1}function Nt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ee=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ae=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Jt(f,v){var k=f,M=null,U,et,mt;return ur(f)?k={ms:f._milliseconds,d:f._days,M:f._months}:g(f)||!isNaN(+f)?(k={},v?k[v]=+f:k.milliseconds=+f):(M=Ee.exec(f))?(U=M[1]==="-"?-1:1,k={y:0,d:te(M[Ti])*U,h:te(M[on])*U,m:te(M[ti])*U,s:te(M[ci])*U,ms:te(Ii(M[qn]*1e3))*U}):(M=ae.exec(f))?(U=M[1]==="-"?-1:1,k={y:pe(M[2],U),M:pe(M[3],U),w:pe(M[4],U),d:pe(M[5],U),h:pe(M[6],U),m:pe(M[7],U),s:pe(M[8],U)}):k==null?k={}:typeof k=="object"&&("from"in k||"to"in k)&&(mt=qe(Lt(k.from),Lt(k.to)),k={},k.ms=mt.milliseconds,k.M=mt.months),et=new Ss(k),ur(f)&&l(f,"_locale")&&(et._locale=f._locale),ur(f)&&l(f,"_isValid")&&(et._isValid=f._isValid),et}Jt.fn=Ss.prototype,Jt.invalid=hl;function pe(f,v){var k=f&&parseFloat(f.replace(",","."));return(isNaN(k)?0:k)*v}function qt(f,v){var k={};return k.months=v.month()-f.month()+(v.year()-f.year())*12,f.clone().add(k.months,"M").isAfter(v)&&--k.months,k.milliseconds=+v-+f.clone().add(k.months,"M"),k}function qe(f,v){var k;return f.isValid()&&v.isValid()?(v=Xs(v,f),f.isBefore(v)?k=qt(f,v):(k=qt(v,f),k.milliseconds=-k.milliseconds,k.months=-k.months),k):{milliseconds:0,months:0}}function di(f,v){return function(k,M){var U,et;return M!==null&&!isNaN(+M)&&(Z(v,"moment()."+v+"(period, number) is deprecated. Please use moment()."+v+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),et=k,k=M,M=et),U=Jt(k,M),Mn(this,U,f),this}}function Mn(f,v,k,M){var U=v._milliseconds,et=Ii(v._days),mt=Ii(v._months);f.isValid()&&(M=M??!0,mt&&Hi(f,$s(f,"Month")+mt*k),et&&as(f,"Date",$s(f,"Date")+et*k),U&&f._d.setTime(f._d.valueOf()+U*k),M&&i.updateOffset(f,et||mt))}var Gi=di(1,"add"),ps=di(-1,"subtract");function dr(f){return typeof f=="string"||f instanceof String}function Fn(f){return N(f)||w(f)||dr(f)||g(f)||qo(f)||lf(f)||f===null||f===void 0}function lf(f){var v=a(f)&&!c(f),k=!1,M=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],U,et,mt=M.length;for(U=0;U<mt;U+=1)et=M[U],k=k||l(f,et);return v&&k}function qo(f){var v=r(f),k=!1;return v&&(k=f.filter(function(M){return!g(M)&&dr(f)}).length===0),v&&k}function Pu(f){var v=a(f)&&!c(f),k=!1,M=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],U,et;for(U=0;U<M.length;U+=1)et=M[U],k=k||l(f,et);return v&&k}function Iu(f,v){var k=f.diff(v,"days",!0);return k<-6?"sameElse":k<-1?"lastWeek":k<0?"lastDay":k<1?"sameDay":k<2?"nextDay":k<7?"nextWeek":"sameElse"}function cf(f,v){arguments.length===1&&(arguments[0]?Fn(arguments[0])?(f=arguments[0],v=void 0):Pu(arguments[0])&&(v=arguments[0],f=void 0):(f=void 0,v=void 0));var k=f||Lt(),M=Xs(k,this).startOf("day"),U=i.calendarFormat(this,M)||"sameElse",et=v&&($(v[U])?v[U].call(this,k):v[U]);return this.format(et||this.localeData().calendar(U,this,Lt(k)))}function fr(){return new y(this)}function Cu(f,v){var k=N(f)?f:Lt(f);return this.isValid()&&k.isValid()?(v=ze(v)||"millisecond",v==="millisecond"?this.valueOf()>k.valueOf():k.valueOf()<this.clone().startOf(v).valueOf()):!1}function Mu(f,v){var k=N(f)?f:Lt(f);return this.isValid()&&k.isValid()?(v=ze(v)||"millisecond",v==="millisecond"?this.valueOf()<k.valueOf():this.clone().endOf(v).valueOf()<k.valueOf()):!1}function Ia(f,v,k,M){var U=N(f)?f:Lt(f),et=N(v)?v:Lt(v);return this.isValid()&&U.isValid()&&et.isValid()?(M=M||"()",(M[0]==="("?this.isAfter(U,k):!this.isBefore(U,k))&&(M[1]===")"?this.isBefore(et,k):!this.isAfter(et,k))):!1}function uf(f,v){var k=N(f)?f:Lt(f),M;return this.isValid()&&k.isValid()?(v=ze(v)||"millisecond",v==="millisecond"?this.valueOf()===k.valueOf():(M=k.valueOf(),this.clone().startOf(v).valueOf()<=M&&M<=this.clone().endOf(v).valueOf())):!1}function dl(f,v){return this.isSame(f,v)||this.isAfter(f,v)}function Ca(f,v){return this.isSame(f,v)||this.isBefore(f,v)}function Au(f,v,k){var M,U,et;if(!this.isValid())return NaN;if(M=Xs(f,this),!M.isValid())return NaN;switch(U=(M.utcOffset()-this.utcOffset())*6e4,v=ze(v),v){case"year":et=Ma(this,M)/12;break;case"month":et=Ma(this,M);break;case"quarter":et=Ma(this,M)/3;break;case"second":et=(this-M)/1e3;break;case"minute":et=(this-M)/6e4;break;case"hour":et=(this-M)/36e5;break;case"day":et=(this-M-U)/864e5;break;case"week":et=(this-M-U)/6048e5;break;default:et=this-M}return k?et:Wn(et)}function Ma(f,v){if(f.date()<v.date())return-Ma(v,f);var k=(v.year()-f.year())*12+(v.month()-f.month()),M=f.clone().add(k,"months"),U,et;return v-M<0?(U=f.clone().add(k-1,"months"),et=(v-M)/(M-U)):(U=f.clone().add(k+1,"months"),et=(v-M)/(U-M)),-(k+et)||0}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function hf(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Du(f){if(!this.isValid())return null;var v=f!==!0,k=v?this.clone().utc():this;return k.year()<0||k.year()>9999?Ae(k,v?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?v?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ae(k,"Z")):Ae(k,v?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ru(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var f="moment",v="",k,M,U,et;return this.isLocal()||(f=this.utcOffset()===0?"moment.utc":"moment.parseZone",v="Z"),k="["+f+'("]',M=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",U="-MM-DD[T]HH:mm:ss.SSS",et=v+'[")]',this.format(k+M+U+et)}function Ou(f){f||(f=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var v=Ae(this,f);return this.localeData().postformat(v)}function Lu(f,v){return this.isValid()&&(N(f)&&f.isValid()||Lt(f).isValid())?Jt({to:this,from:f}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function Nu(f){return this.from(Lt(),f)}function df(f,v){return this.isValid()&&(N(f)&&f.isValid()||Lt(f).isValid())?Jt({from:this,to:f}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function Vu(f){return this.to(Lt(),f)}function rc(f){var v;return f===void 0?this._locale._abbr:(v=X(f),v!=null&&(this._locale=v),this)}var Fu=H("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(f){return f===void 0?this.localeData():this.locale(f)});function o(){return this._locale}var u=1e3,m=60*u,b=60*m,I=(365*400+97)*24*b;function B(f,v){return(f%v+v)%v}function tt(f,v,k){return f<100&&f>=0?new Date(f+400,v,k)-I:new Date(f,v,k).valueOf()}function at(f,v,k){return f<100&&f>=0?Date.UTC(f+400,v,k)-I:Date.UTC(f,v,k)}function pt(f){var v,k;if(f=ze(f),f===void 0||f==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?at:tt,f){case"year":v=k(this.year(),0,1);break;case"quarter":v=k(this.year(),this.month()-this.month()%3,1);break;case"month":v=k(this.year(),this.month(),1);break;case"week":v=k(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":v=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":v=k(this.year(),this.month(),this.date());break;case"hour":v=this._d.valueOf(),v-=B(v+(this._isUTC?0:this.utcOffset()*m),b);break;case"minute":v=this._d.valueOf(),v-=B(v,m);break;case"second":v=this._d.valueOf(),v-=B(v,u);break}return this._d.setTime(v),i.updateOffset(this,!0),this}function bt(f){var v,k;if(f=ze(f),f===void 0||f==="millisecond"||!this.isValid())return this;switch(k=this._isUTC?at:tt,f){case"year":v=k(this.year()+1,0,1)-1;break;case"quarter":v=k(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":v=k(this.year(),this.month()+1,1)-1;break;case"week":v=k(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":v=k(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":v=k(this.year(),this.month(),this.date()+1)-1;break;case"hour":v=this._d.valueOf(),v+=b-B(v+(this._isUTC?0:this.utcOffset()*m),b)-1;break;case"minute":v=this._d.valueOf(),v+=m-B(v,m)-1;break;case"second":v=this._d.valueOf(),v+=u-B(v,u)-1;break}return this._d.setTime(v),i.updateOffset(this,!0),this}function Ft(){return this._d.valueOf()-(this._offset||0)*6e4}function le(){return Math.floor(this.valueOf()/1e3)}function Ce(){return new Date(this.valueOf())}function Vi(){var f=this;return[f.year(),f.month(),f.date(),f.hour(),f.minute(),f.second(),f.millisecond()]}function ii(){var f=this;return{years:f.year(),months:f.month(),date:f.date(),hours:f.hours(),minutes:f.minutes(),seconds:f.seconds(),milliseconds:f.milliseconds()}}function Es(){return this.isValid()?this.toISOString():null}function Zi(){return K(this)}function Go(){return C({},V(this))}function ff(){return V(this).overflow}function pf(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}yt("N",0,0,"eraAbbr"),yt("NN",0,0,"eraAbbr"),yt("NNN",0,0,"eraAbbr"),yt("NNNN",0,0,"eraName"),yt("NNNNN",0,0,"eraNarrow"),yt("y",["y",1],"yo","eraYear"),yt("y",["yy",2],0,"eraYear"),yt("y",["yyy",3],0,"eraYear"),yt("y",["yyyy",4],0,"eraYear"),Dt("N",pl),Dt("NN",pl),Dt("NNN",pl),Dt("NNNN",wf),Dt("NNNNN",Gx),xe(["N","NN","NNN","NNNN","NNNNN"],function(f,v,k,M){var U=k._locale.erasParse(f,M,k._strict);U?V(k).era=U:V(k).invalidEra=f}),Dt("y",Ws),Dt("yy",Ws),Dt("yyy",Ws),Dt("yyyy",Ws),Dt("yo",Zx),xe(["y","yy","yyy","yyyy"],un),xe(["yo"],function(f,v,k,M){var U;k._locale._eraYearOrdinalRegex&&(U=f.match(k._locale._eraYearOrdinalRegex)),k._locale.eraYearOrdinalParse?v[un]=k._locale.eraYearOrdinalParse(f,U):v[un]=parseInt(f,10)});function mf(f,v){var k,M,U,et=this._eras||X("en")._eras;for(k=0,M=et.length;k<M;++k){switch(typeof et[k].since){case"string":U=i(et[k].since).startOf("day"),et[k].since=U.valueOf();break}switch(typeof et[k].until){case"undefined":et[k].until=1/0;break;case"string":U=i(et[k].until).startOf("day").valueOf(),et[k].until=U.valueOf();break}}return et}function zu(f,v,k){var M,U,et=this.eras(),mt,Ht,ye;for(f=f.toUpperCase(),M=0,U=et.length;M<U;++M)if(mt=et[M].name.toUpperCase(),Ht=et[M].abbr.toUpperCase(),ye=et[M].narrow.toUpperCase(),k)switch(v){case"N":case"NN":case"NNN":if(Ht===f)return et[M];break;case"NNNN":if(mt===f)return et[M];break;case"NNNNN":if(ye===f)return et[M];break}else if([mt,Ht,ye].indexOf(f)>=0)return et[M]}function gf(f,v){var k=f.since<=f.until?1:-1;return v===void 0?i(f.since).year():i(f.since).year()+(v-f.offset)*k}function Bu(){var f,v,k,M=this.localeData().eras();for(f=0,v=M.length;f<v;++f)if(k=this.clone().startOf("day").valueOf(),M[f].since<=k&&k<=M[f].until||M[f].until<=k&&k<=M[f].since)return M[f].name;return""}function Hn(){var f,v,k,M=this.localeData().eras();for(f=0,v=M.length;f<v;++f)if(k=this.clone().startOf("day").valueOf(),M[f].since<=k&&k<=M[f].until||M[f].until<=k&&k<=M[f].since)return M[f].narrow;return""}function fl(){var f,v,k,M=this.localeData().eras();for(f=0,v=M.length;f<v;++f)if(k=this.clone().startOf("day").valueOf(),M[f].since<=k&&k<=M[f].until||M[f].until<=k&&k<=M[f].since)return M[f].abbr;return""}function _f(){var f,v,k,M,U=this.localeData().eras();for(f=0,v=U.length;f<v;++f)if(k=U[f].since<=U[f].until?1:-1,M=this.clone().startOf("day").valueOf(),U[f].since<=M&&M<=U[f].until||U[f].until<=M&&M<=U[f].since)return(this.year()-i(U[f].since).year())*k+U[f].offset;return this.year()}function yf(f){return l(this,"_erasNameRegex")||bf.call(this),f?this._erasNameRegex:this._erasRegex}function vf(f){return l(this,"_erasAbbrRegex")||bf.call(this),f?this._erasAbbrRegex:this._erasRegex}function oc(f){return l(this,"_erasNarrowRegex")||bf.call(this),f?this._erasNarrowRegex:this._erasRegex}function pl(f,v){return v.erasAbbrRegex(f)}function wf(f,v){return v.erasNameRegex(f)}function Gx(f,v){return v.erasNarrowRegex(f)}function Zx(f,v){return v._eraYearOrdinalRegex||Ws}function bf(){var f=[],v=[],k=[],M=[],U,et,mt,Ht,ye,Fe=this.eras();for(U=0,et=Fe.length;U<et;++U)mt=ai(Fe[U].name),Ht=ai(Fe[U].abbr),ye=ai(Fe[U].narrow),v.push(mt),f.push(Ht),k.push(ye),M.push(mt),M.push(Ht),M.push(ye);this._erasRegex=new RegExp("^("+M.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+v.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+k.join("|")+")","i")}yt(0,["gg",2],0,function(){return this.weekYear()%100}),yt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wu(f,v){yt(0,[f,f.length],0,v)}Wu("gggg","weekYear"),Wu("ggggg","weekYear"),Wu("GGGG","isoWeekYear"),Wu("GGGGG","isoWeekYear"),Dt("G",Ai),Dt("g",Ai),Dt("GG",Be,ce),Dt("gg",Be,ce),Dt("GGGG",wi,Ds),Dt("gggg",wi,Ds),Dt("GGGGG",bi,sr),Dt("ggggg",bi,sr),Ri(["gggg","ggggg","GGGG","GGGGG"],function(f,v,k,M){v[M.substr(0,2)]=te(f)}),Ri(["gg","GG"],function(f,v,k,M){v[M]=i.parseTwoDigitYear(f)});function Kx(f){return Ug.call(this,f,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Xx(f){return Ug.call(this,f,this.isoWeek(),this.isoWeekday(),1,4)}function Qx(){return hn(this.year(),1,4)}function Jx(){return hn(this.isoWeekYear(),1,4)}function tS(){var f=this.localeData()._week;return hn(this.year(),f.dow,f.doy)}function eS(){var f=this.localeData()._week;return hn(this.weekYear(),f.dow,f.doy)}function Ug(f,v,k,M,U){var et;return f==null?ne(this,M,U).year:(et=hn(f,M,U),v>et&&(v=et),nS.call(this,f,v,k,M,U))}function nS(f,v,k,M,U){var et=wn(f,v,k,M,U),mt=vs(et.year,0,et.dayOfYear);return this.year(mt.getUTCFullYear()),this.month(mt.getUTCMonth()),this.date(mt.getUTCDate()),this}yt("Q",0,"Qo","quarter"),Dt("Q",Gt),xe("Q",function(f,v){v[Ui]=(te(f)-1)*3});function iS(f){return f==null?Math.ceil((this.month()+1)/3):this.month((f-1)*3+this.month()%3)}yt("D",["DD",2],"Do","date"),Dt("D",Be,oi),Dt("DD",Be,ce),Dt("Do",function(f,v){return f?v._dayOfMonthOrdinalParse||v._ordinalParse:v._dayOfMonthOrdinalParseLenient}),xe(["D","DD"],Ti),xe("Do",function(f,v){v[Ti]=te(f.match(Be)[0])});var Hg=os("Date",!0);yt("DDD",["DDDD",3],"DDDo","dayOfYear"),Dt("DDD",Jn),Dt("DDDD",Nn),xe(["DDD","DDDD"],function(f,v,k){k._dayOfYear=te(f)});function sS(f){var v=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return f==null?v:this.add(f-v,"d")}yt("m",["mm",2],0,"minute"),Dt("m",Be,Hs),Dt("mm",Be,ce),xe(["m","mm"],ti);var rS=os("Minutes",!1);yt("s",["ss",2],0,"second"),Dt("s",Be,Hs),Dt("ss",Be,ce),xe(["s","ss"],ci);var oS=os("Seconds",!1);yt("S",0,0,function(){return~~(this.millisecond()/100)}),yt(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),yt(0,["SSS",3],0,"millisecond"),yt(0,["SSSS",4],0,function(){return this.millisecond()*10}),yt(0,["SSSSS",5],0,function(){return this.millisecond()*100}),yt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),yt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),yt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),yt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Dt("S",Jn,Gt),Dt("SS",Jn,ce),Dt("SSS",Jn,Nn);var Zo,jg;for(Zo="SSSS";Zo.length<=9;Zo+="S")Dt(Zo,Ws);function aS(f,v){v[qn]=te(("0."+f)*1e3)}for(Zo="S";Zo.length<=9;Zo+="S")xe(Zo,aS);jg=os("Milliseconds",!1),yt("z",0,0,"zoneAbbr"),yt("zz",0,0,"zoneName");function lS(){return this._isUTC?"UTC":""}function cS(){return this._isUTC?"Coordinated Universal Time":""}var Et=y.prototype;Et.add=Gi,Et.calendar=cf,Et.clone=fr,Et.diff=Au,Et.endOf=bt,Et.format=Ou,Et.from=Lu,Et.fromNow=Nu,Et.to=df,Et.toNow=Vu,Et.get=rr,Et.invalidAt=ff,Et.isAfter=Cu,Et.isBefore=Mu,Et.isBetween=Ia,Et.isSame=uf,Et.isSameOrAfter=dl,Et.isSameOrBefore=Ca,Et.isValid=Zi,Et.lang=Fu,Et.locale=rc,Et.localeData=o,Et.max=Cn,Et.min=Ns,Et.parsingFlags=Go,Et.set=Qr,Et.startOf=pt,Et.subtract=ps,Et.toArray=Vi,Et.toObject=ii,Et.toDate=Ce,Et.toISOString=Du,Et.inspect=Ru,typeof Symbol<"u"&&Symbol.for!=null&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=Es,Et.toString=hf,Et.unix=le,Et.valueOf=Ft,Et.creationData=pf,Et.eraName=Bu,Et.eraNarrow=Hn,Et.eraAbbr=fl,Et.eraYear=_f,Et.year=js,Et.isLeapYear=Ys,Et.weekYear=Kx,Et.isoWeekYear=Xx,Et.quarter=Et.quarters=iS,Et.month=Ar,Et.daysInMonth=fe,Et.week=Et.weeks=or,Et.isoWeek=Et.isoWeeks=Jr,Et.weeksInYear=tS,Et.weeksInWeekYear=eS,Et.isoWeeksInYear=Qx,Et.isoWeeksInISOWeekYear=Jx,Et.date=Hg,Et.day=Et.days=qi,Et.weekday=Gs,Et.isoWeekday=Zs,Et.dayOfYear=sS,Et.hour=Et.hours=Ts,Et.minute=Et.minutes=rS,Et.second=Et.seconds=oS,Et.millisecond=Et.milliseconds=jg,Et.utcOffset=lo,Et.utc=G,Et.local=nt,Et.parseZone=lt,Et.hasAlignedHourOffset=ht,Et.isDST=_t,Et.isLocal=Vt,Et.isUtcOffset=Yt,Et.isUtc=Nt,Et.isUTC=Nt,Et.zoneAbbr=lS,Et.zoneName=cS,Et.dates=H("dates accessor is deprecated. Use date instead.",Hg),Et.months=H("months accessor is deprecated. Use month instead",Ar),Et.years=H("years accessor is deprecated. Use year instead",js),Et.zone=H("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",co),Et.isDSTShifted=H("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ct);function uS(f){return Lt(f*1e3)}function hS(){return Lt.apply(null,arguments).parseZone()}function Yg(f){return f}var Qe=Pt.prototype;Qe.calendar=de,Qe.longDateFormat=On,Qe.invalidDate=Bn,Qe.ordinal=_i,Qe.preparse=Yg,Qe.postformat=Yg,Qe.relativeTime=nn,Qe.pastFuture=yi,Qe.set=Bt,Qe.eras=mf,Qe.erasParse=zu,Qe.erasConvertYear=gf,Qe.erasAbbrRegex=vf,Qe.erasNameRegex=yf,Qe.erasNarrowRegex=oc,Qe.months=Se,Qe.monthsShort=Ze,Qe.monthsParse=xi,Qe.monthsRegex=Dr,Qe.monthsShortRegex=sn,Qe.week=cs,Qe.firstDayOfYear=Si,Qe.firstDayOfWeek=hs,Qe.weekdays=We,Qe.weekdaysMin=$i,Qe.weekdaysShort=jo,Qe.weekdaysParse=no,Qe.weekdaysRegex=dn,Qe.weekdaysShortRegex=ui,Qe.weekdaysMinRegex=Lr,Qe.isPM=ro,Qe.meridiem=hi;function Uu(f,v,k,M){var U=X(),et=P().set(M,v);return U[k](et,f)}function $g(f,v,k){if(g(f)&&(v=f,f=void 0),f=f||"",v!=null)return Uu(f,v,k,"month");var M,U=[];for(M=0;M<12;M++)U[M]=Uu(f,M,k,"month");return U}function Tf(f,v,k,M){typeof f=="boolean"?(g(v)&&(k=v,v=void 0),v=v||""):(v=f,k=v,f=!1,g(v)&&(k=v,v=void 0),v=v||"");var U=X(),et=f?U._week.dow:0,mt,Ht=[];if(k!=null)return Uu(v,(k+et)%7,M,"day");for(mt=0;mt<7;mt++)Ht[mt]=Uu(v,(mt+et)%7,M,"day");return Ht}function dS(f,v){return $g(f,v,"months")}function fS(f,v){return $g(f,v,"monthsShort")}function pS(f,v,k){return Tf(f,v,k,"weekdays")}function mS(f,v,k){return Tf(f,v,k,"weekdaysShort")}function gS(f,v,k){return Tf(f,v,k,"weekdaysMin")}O("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(f){var v=f%10,k=te(f%100/10)===1?"th":v===1?"st":v===2?"nd":v===3?"rd":"th";return f+k}}),i.lang=H("moment.lang is deprecated. Use moment.locale instead.",O),i.langData=H("moment.langData is deprecated. Use moment.localeData instead.",X);var uo=Math.abs;function _S(){var f=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),f.milliseconds=uo(f.milliseconds),f.seconds=uo(f.seconds),f.minutes=uo(f.minutes),f.hours=uo(f.hours),f.months=uo(f.months),f.years=uo(f.years),this}function qg(f,v,k,M){var U=Jt(v,k);return f._milliseconds+=M*U._milliseconds,f._days+=M*U._days,f._months+=M*U._months,f._bubble()}function yS(f,v){return qg(this,f,v,1)}function vS(f,v){return qg(this,f,v,-1)}function Gg(f){return f<0?Math.floor(f):Math.ceil(f)}function wS(){var f=this._milliseconds,v=this._days,k=this._months,M=this._data,U,et,mt,Ht,ye;return f>=0&&v>=0&&k>=0||f<=0&&v<=0&&k<=0||(f+=Gg(xf(k)+v)*864e5,v=0,k=0),M.milliseconds=f%1e3,U=Wn(f/1e3),M.seconds=U%60,et=Wn(U/60),M.minutes=et%60,mt=Wn(et/60),M.hours=mt%24,v+=Wn(mt/24),ye=Wn(Zg(v)),k+=ye,v-=Gg(xf(ye)),Ht=Wn(k/12),k%=12,M.days=v,M.months=k,M.years=Ht,this}function Zg(f){return f*4800/146097}function xf(f){return f*146097/4800}function bS(f){if(!this.isValid())return NaN;var v,k,M=this._milliseconds;if(f=ze(f),f==="month"||f==="quarter"||f==="year")switch(v=this._days+M/864e5,k=this._months+Zg(v),f){case"month":return k;case"quarter":return k/3;case"year":return k/12}else switch(v=this._days+Math.round(xf(this._months)),f){case"week":return v/7+M/6048e5;case"day":return v+M/864e5;case"hour":return v*24+M/36e5;case"minute":return v*1440+M/6e4;case"second":return v*86400+M/1e3;case"millisecond":return Math.floor(v*864e5)+M;default:throw new Error("Unknown unit "+f)}}function ho(f){return function(){return this.as(f)}}var Kg=ho("ms"),TS=ho("s"),xS=ho("m"),SS=ho("h"),ES=ho("d"),kS=ho("w"),PS=ho("M"),IS=ho("Q"),CS=ho("y"),MS=Kg;function AS(){return Jt(this)}function DS(f){return f=ze(f),this.isValid()?this[f+"s"]():NaN}function Aa(f){return function(){return this.isValid()?this._data[f]:NaN}}var RS=Aa("milliseconds"),OS=Aa("seconds"),LS=Aa("minutes"),NS=Aa("hours"),VS=Aa("days"),FS=Aa("months"),zS=Aa("years");function BS(){return Wn(this.days()/7)}var fo=Math.round,ml={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function WS(f,v,k,M,U){return U.relativeTime(v||1,!!k,f,M)}function US(f,v,k,M){var U=Jt(f).abs(),et=fo(U.as("s")),mt=fo(U.as("m")),Ht=fo(U.as("h")),ye=fo(U.as("d")),Fe=fo(U.as("M")),ms=fo(U.as("w")),po=fo(U.as("y")),Ko=et<=k.ss&&["s",et]||et<k.s&&["ss",et]||mt<=1&&["m"]||mt<k.m&&["mm",mt]||Ht<=1&&["h"]||Ht<k.h&&["hh",Ht]||ye<=1&&["d"]||ye<k.d&&["dd",ye];return k.w!=null&&(Ko=Ko||ms<=1&&["w"]||ms<k.w&&["ww",ms]),Ko=Ko||Fe<=1&&["M"]||Fe<k.M&&["MM",Fe]||po<=1&&["y"]||["yy",po],Ko[2]=v,Ko[3]=+f>0,Ko[4]=M,WS.apply(null,Ko)}function HS(f){return f===void 0?fo:typeof f=="function"?(fo=f,!0):!1}function jS(f,v){return ml[f]===void 0?!1:v===void 0?ml[f]:(ml[f]=v,f==="s"&&(ml.ss=v-1),!0)}function YS(f,v){if(!this.isValid())return this.localeData().invalidDate();var k=!1,M=ml,U,et;return typeof f=="object"&&(v=f,f=!1),typeof f=="boolean"&&(k=f),typeof v=="object"&&(M=Object.assign({},ml,v),v.s!=null&&v.ss==null&&(M.ss=v.s-1)),U=this.localeData(),et=US(this,!k,M,U),k&&(et=U.pastFuture(+this,et)),U.postformat(et)}var Sf=Math.abs;function gl(f){return(f>0)-(f<0)||+f}function Hu(){if(!this.isValid())return this.localeData().invalidDate();var f=Sf(this._milliseconds)/1e3,v=Sf(this._days),k=Sf(this._months),M,U,et,mt,Ht=this.asSeconds(),ye,Fe,ms,po;return Ht?(M=Wn(f/60),U=Wn(M/60),f%=60,M%=60,et=Wn(k/12),k%=12,mt=f?f.toFixed(3).replace(/\.?0+$/,""):"",ye=Ht<0?"-":"",Fe=gl(this._months)!==gl(Ht)?"-":"",ms=gl(this._days)!==gl(Ht)?"-":"",po=gl(this._milliseconds)!==gl(Ht)?"-":"",ye+"P"+(et?Fe+et+"Y":"")+(k?Fe+k+"M":"")+(v?ms+v+"D":"")+(U||M||f?"T":"")+(U?po+U+"H":"")+(M?po+M+"M":"")+(f?po+mt+"S":"")):"P0D"}var Ue=Ss.prototype;Ue.isValid=fs,Ue.abs=_S,Ue.add=yS,Ue.subtract=vS,Ue.as=bS,Ue.asMilliseconds=Kg,Ue.asSeconds=TS,Ue.asMinutes=xS,Ue.asHours=SS,Ue.asDays=ES,Ue.asWeeks=kS,Ue.asMonths=PS,Ue.asQuarters=IS,Ue.asYears=CS,Ue.valueOf=MS,Ue._bubble=wS,Ue.clone=AS,Ue.get=DS,Ue.milliseconds=RS,Ue.seconds=OS,Ue.minutes=LS,Ue.hours=NS,Ue.days=VS,Ue.weeks=BS,Ue.months=FS,Ue.years=zS,Ue.humanize=YS,Ue.toISOString=Hu,Ue.toString=Hu,Ue.toJSON=Hu,Ue.locale=rc,Ue.localeData=o,Ue.toIsoString=H("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Hu),Ue.lang=Fu,yt("X",0,0,"unix"),yt("x",0,0,"valueOf"),Dt("x",Ai),Dt("X",Kr),xe("X",function(f,v,k){k._d=new Date(parseFloat(f)*1e3)}),xe("x",function(f,v,k){k._d=new Date(te(f))});//! moment.js
return i.version="2.30.1",s(Lt),i.fn=Et,i.min=oo,i.max=ul,i.now=ao,i.utc=P,i.unix=uS,i.months=dS,i.isDate=w,i.locale=O,i.invalid=Q,i.duration=Jt,i.isMoment=N,i.weekdays=pS,i.parseZone=hS,i.localeData=X,i.isDuration=ur,i.monthsShort=fS,i.weekdaysMin=gS,i.defineLocale=F,i.updateLocale=J,i.locales=st,i.weekdaysShort=mS,i.normalizeUnits=ze,i.relativeTimeRounding=HS,i.relativeTimeThreshold=jS,i.calendarFormat=Iu,i.prototype=Et,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})}(vh)),vh.exports}var eI=mp.exports,r_;function nI(){return r_||(r_=1,function(n,t){(function(e,i){i(typeof hw=="function"?tI():e.moment)})(eI,function(e){//! moment.js locale configuration
var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),s="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,l=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(c,h){return c?/-MMM-/.test(h)?s[c.month()]:i[c.month()]:i},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miÃ©rcoles_jueves_viernes_sÃ¡bado".split("_"),weekdaysShort:"dom._lun._mar._miÃ©._jue._vie._sÃ¡b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sÃ¡".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maÃ±ana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un dÃ­a",dd:"%d dÃ­as",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un aÃ±o",yy:"%d aÃ±os"},dayOfMonthOrdinalParse:/\d{1,2}Âº/,ordinal:"%dÂº",week:{dow:1,doy:4},invalidDate:"Fecha invÃ¡lida"});return l})}()),mp.exports}nI();var Cf={exports:{}},o_;function iI(){return o_||(o_=1,function(n,t){(function(){var e=Math.PI,i=Math.sin,s=Math.cos,r=Math.tan,a=Math.asin,l=Math.atan2,c=Math.acos,h=e/180,g=1e3*60*60*24,w=2440588,x=2451545;function C(xt){return xt.valueOf()/g-.5+w}function P(xt){return new Date((xt+.5-w)*g)}function A(xt){return C(xt)-x}var V=h*23.4397;function j(xt,Mt){return l(i(xt)*s(V)-r(Mt)*i(V),s(xt))}function K(xt,Mt){return a(i(Mt)*s(V)+s(Mt)*i(V)*i(xt))}function Q(xt,Mt,It){return l(i(xt),s(xt)*i(Mt)-r(It)*s(Mt))}function it(xt,Mt,It){return a(i(Mt)*i(It)+s(Mt)*s(It)*s(xt))}function rt(xt,Mt){return h*(280.16+360.9856235*xt)-Mt}function ft(xt){return xt<0&&(xt=0),2967e-7/Math.tan(xt+.00312536/(xt+.08901179))}function y(xt){return h*(357.5291+.98560028*xt)}function N(xt){var Mt=h*(1.9148*i(xt)+.02*i(2*xt)+3e-4*i(3*xt)),It=h*102.9372;return xt+Mt+It+e}function z(xt){var Mt=y(xt),It=N(Mt);return{dec:K(It,0),ra:j(It,0)}}var H={};H.getPosition=function(xt,Mt,It){var Qt=h*-It,yt=h*Mt,Ut=A(xt),Te=z(Ut),Ae=rt(Ut,Qt)-Te.ra;return{azimuth:Q(Ae,yt,Te.dec),altitude:it(Ae,yt,Te.dec)}};var q=H.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];H.addTime=function(xt,Mt,It){q.push([xt,Mt,It])};var Z=9e-4;function $(xt,Mt){return Math.round(xt-Z-Mt/(2*e))}function Bt(xt,Mt,It){return Z+(xt+Mt)/(2*e)+It}function Xt(xt,Mt,It){return x+xt+.0053*i(Mt)-.0069*i(2*It)}function Pt(xt,Mt,It){return c((i(xt)-i(Mt)*i(It))/(s(Mt)*s(It)))}function Wt(xt){return-2.076*Math.sqrt(xt)/60}function At(xt,Mt,It,Qt,yt,Ut,Te){var Ae=Pt(xt,It,Qt),vn=Bt(Ae,Mt,yt);return Xt(vn,Ut,Te)}H.getTimes=function(xt,Mt,It,Qt){Qt=Qt||0;var yt=h*-It,Ut=h*Mt,Te=Wt(Qt),Ae=A(xt),vn=$(Ae,yt),Ye=Bt(0,yt,vn),On=y(Ye),cn=N(On),Bn=K(cn,0),Yn=Xt(Ye,On,cn),Qn,_i,Ln,nn,yi,vi,ze={solarNoon:P(Yn),nadir:P(Yn-.5)};for(Qn=0,_i=q.length;Qn<_i;Qn+=1)Ln=q[Qn],nn=(Ln[0]+Te)*h,yi=At(nn,yt,Ut,Bn,vn,On,cn),vi=Yn-(yi-Yn),ze[Ln[1]]=P(vi),ze[Ln[2]]=P(yi);return ze};function de(xt){var Mt=h*(218.316+13.176396*xt),It=h*(134.963+13.064993*xt),Qt=h*(93.272+13.22935*xt),yt=Mt+h*6.289*i(It),Ut=h*5.128*i(Qt),Te=385001-20905*s(It);return{ra:j(yt,Ut),dec:K(yt,Ut),dist:Te}}H.getMoonPosition=function(xt,Mt,It){var Qt=h*-It,yt=h*Mt,Ut=A(xt),Te=de(Ut),Ae=rt(Ut,Qt)-Te.ra,vn=it(Ae,yt,Te.dec),Ye=l(i(Ae),r(yt)*s(Te.dec)-i(Te.dec)*s(Ae));return vn=vn+ft(vn),{azimuth:Q(Ae,yt,Te.dec),altitude:vn,distance:Te.dist,parallacticAngle:Ye}},H.getMoonIllumination=function(xt){var Mt=A(xt||new Date),It=z(Mt),Qt=de(Mt),yt=149598e3,Ut=c(i(It.dec)*i(Qt.dec)+s(It.dec)*s(Qt.dec)*s(It.ra-Qt.ra)),Te=l(yt*i(Ut),Qt.dist-yt*s(Ut)),Ae=l(s(It.dec)*i(It.ra-Qt.ra),i(It.dec)*s(Qt.dec)-s(It.dec)*i(Qt.dec)*s(It.ra-Qt.ra));return{fraction:(1+s(Te))/2,phase:.5+.5*Te*(Ae<0?-1:1)/Math.PI,angle:Ae}};function Rt(xt,Mt){return new Date(xt.valueOf()+Mt*g/24)}H.getMoonTimes=function(xt,Mt,It,Qt){var yt=new Date(xt);Qt?yt.setUTCHours(0,0,0,0):yt.setHours(0,0,0,0);for(var Ut=.133*h,Te=H.getMoonPosition(yt,Mt,It).altitude-Ut,Ae,vn,Ye,On,cn,Bn,Yn,Qn,_i,Ln,nn,yi,vi,ze=1;ze<=24&&(Ae=H.getMoonPosition(Rt(yt,ze),Mt,It).altitude-Ut,vn=H.getMoonPosition(Rt(yt,ze+1),Mt,It).altitude-Ut,cn=(Te+vn)/2-Ae,Bn=(vn-Te)/2,Yn=-Bn/(2*cn),Qn=(cn*Yn+Bn)*Yn+Ae,_i=Bn*Bn-4*cn*Ae,Ln=0,_i>=0&&(vi=Math.sqrt(_i)/(Math.abs(cn)*2),nn=Yn-vi,yi=Yn+vi,Math.abs(nn)<=1&&Ln++,Math.abs(yi)<=1&&Ln++,nn<-1&&(nn=yi)),Ln===1?Te<0?Ye=ze+nn:On=ze+nn:Ln===2&&(Ye=ze+(Qn<0?yi:nn),On=ze+(Qn<0?nn:yi)),!(Ye&&On));ze+=2)Te=vn;var kn={};return Ye&&(kn.rise=Rt(yt,Ye)),On&&(kn.set=Rt(yt,On)),!Ye&&!On&&(kn[Qn>0?"alwaysUp":"alwaysDown"]=!0),kn},n.exports=H})()}(Cf)),Cf.exports}iI();var dw=(n=>(n.NORTHERN="Northern",n.SOUTHERN="Southern",n))(dw||{});dw.NORTHERN;/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fu(n){return n+.5|0}const ra=(n,t,e)=>Math.max(Math.min(n,e),t);function pc(n){return ra(fu(n*2.55),0,255)}function da(n){return ra(fu(n*255),0,255)}function wo(n){return ra(fu(n/2.55)/100,0,1)}function a_(n){return ra(fu(n*100),0,100)}const Qs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},gp=[..."0123456789ABCDEF"],sI=n=>gp[n&15],rI=n=>gp[(n&240)>>4]+gp[n&15],$u=n=>(n&240)>>4===(n&15),oI=n=>$u(n.r)&&$u(n.g)&&$u(n.b)&&$u(n.a);function aI(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Qs[n[1]]*17,g:255&Qs[n[2]]*17,b:255&Qs[n[3]]*17,a:t===5?Qs[n[4]]*17:255}:(t===7||t===9)&&(e={r:Qs[n[1]]<<4|Qs[n[2]],g:Qs[n[3]]<<4|Qs[n[4]],b:Qs[n[5]]<<4|Qs[n[6]],a:t===9?Qs[n[7]]<<4|Qs[n[8]]:255})),e}const lI=(n,t)=>n<255?t(n):"";function cI(n){var t=oI(n)?sI:rI;return n?"#"+t(n.r)+t(n.g)+t(n.b)+lI(n.a,t):void 0}const uI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fw(n,t,e){const i=t*Math.min(e,1-e),s=(r,a=(r+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function hI(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function dI(n,t,e){const i=fw(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function fI(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Cm(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),a=Math.min(e,i,s),l=(r+a)/2;let c,h,g;return r!==a&&(g=r-a,h=l>.5?g/(2-r-a):g/(r+a),c=fI(e,i,s,g,r),c=c*60+.5),[c|0,h||0,l]}function Mm(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(da)}function Am(n,t,e){return Mm(fw,n,t,e)}function pI(n,t,e){return Mm(dI,n,t,e)}function mI(n,t,e){return Mm(hI,n,t,e)}function pw(n){return(n%360+360)%360}function gI(n){const t=uI.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?pc(+t[5]):da(+t[5]));const s=pw(+t[2]),r=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=pI(s,r,a):t[1]==="hsv"?i=mI(s,r,a):i=Am(s,r,a),{r:i[0],g:i[1],b:i[2],a:e}}function _I(n,t){var e=Cm(n);e[0]=pw(e[0]+t),e=Am(e),n.r=e[0],n.g=e[1],n.b=e[2]}function yI(n){if(!n)return;const t=Cm(n),e=t[0],i=a_(t[1]),s=a_(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${wo(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const l_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},c_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vI(){const n={},t=Object.keys(c_),e=Object.keys(l_);let i,s,r,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],s=0;s<e.length;s++)r=e[s],l=l.replace(r,l_[r]);r=parseInt(c_[a],16),n[l]=[r>>16&255,r>>8&255,r&255]}return n}let qu;function wI(n){qu||(qu=vI(),qu.transparent=[0,0,0,0]);const t=qu[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function TI(n){const t=bI.exec(n);let e=255,i,s,r;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?pc(a):ra(a*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?pc(i):ra(i,0,255)),s=255&(t[4]?pc(s):ra(s,0,255)),r=255&(t[6]?pc(r):ra(r,0,255)),{r:i,g:s,b:r,a:e}}}function xI(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${wo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Mf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,yl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function SI(n,t,e){const i=yl(wo(n.r)),s=yl(wo(n.g)),r=yl(wo(n.b));return{r:da(Mf(i+e*(yl(wo(t.r))-i))),g:da(Mf(s+e*(yl(wo(t.g))-s))),b:da(Mf(r+e*(yl(wo(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Gu(n,t,e){if(n){let i=Cm(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Am(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function mw(n,t){return n&&Object.assign(t||{},n)}function u_(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=da(n[3]))):(t=mw(n,{r:0,g:0,b:0,a:1}),t.a=da(t.a)),t}function EI(n){return n.charAt(0)==="r"?TI(n):gI(n)}class $c{constructor(t){if(t instanceof $c)return t;const e=typeof t;let i;e==="object"?i=u_(t):e==="string"&&(i=aI(t)||wI(t)||EI(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=mw(this._rgb);return t&&(t.a=wo(t.a)),t}set rgb(t){this._rgb=u_(t)}rgbString(){return this._valid?xI(this._rgb):void 0}hexString(){return this._valid?cI(this._rgb):void 0}hslString(){return this._valid?yI(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let r;const a=e===r?.5:e,l=2*a-1,c=i.a-s.a,h=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;r=1-h,i.r=255&h*i.r+r*s.r+.5,i.g=255&h*i.g+r*s.g+.5,i.b=255&h*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=SI(this._rgb,t._rgb,e)),this}clone(){return new $c(this.rgb)}alpha(t){return this._rgb.a=da(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gu(this._rgb,2,t),this}darken(t){return Gu(this._rgb,2,-t),this}saturate(t){return Gu(this._rgb,1,t),this}desaturate(t){return Gu(this._rgb,1,-t),this}rotate(t){return _I(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function go(){}const kI=(()=>{let n=0;return()=>n++})();function De(n){return n==null}function Dn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ne(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function jn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Vs(n,t){return jn(n)?n:t}function ke(n,t){return typeof n>"u"?t:n}const PI=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,gw=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function yn(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ln(n,t,e,i){let s,r,a;if(Dn(n))for(r=n.length,s=0;s<r;s++)t.call(e,n[s],s);else if(Ne(n))for(a=Object.keys(n),r=a.length,s=0;s<r;s++)t.call(e,n[a[s]],a[s])}function Gh(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Zh(n){if(Dn(n))return n.map(Zh);if(Ne(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Zh(n[e[s]]);return t}return n}function _w(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function II(n,t,e,i){if(!_w(n))return;const s=t[n],r=e[n];Ne(s)&&Ne(r)?qc(s,r,i):t[n]=Zh(r)}function qc(n,t,e){const i=Dn(t)?t:[t],s=i.length;if(!Ne(n))return n;e=e||{};const r=e.merger||II;let a;for(let l=0;l<s;++l){if(a=i[l],!Ne(a))continue;const c=Object.keys(a);for(let h=0,g=c.length;h<g;++h)r(c[h],n,a,e)}return n}function Mc(n,t){return qc(n,t,{merger:CI})}function CI(n,t,e){if(!_w(n))return;const i=t[n],s=e[n];Ne(i)&&Ne(s)?Mc(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Zh(s))}const h_={"":n=>n,x:n=>n.x,y:n=>n.y};function MI(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function AI(n){const t=MI(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ya(n,t){return(h_[t]||(h_[t]=AI(t)))(n)}function Dm(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Gc=n=>typeof n<"u",va=n=>typeof n=="function",d_=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function DI(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const xn=Math.PI,Tn=2*xn,RI=Tn+xn,Kh=Number.POSITIVE_INFINITY,OI=xn/180,Xn=xn/2,Ra=xn/4,f_=xn*2/3,oa=Math.log10,Br=Math.sign;function Ac(n,t,e){return Math.abs(n-t)<e}function p_(n){const t=Math.round(n);n=Ac(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(oa(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function LI(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}function NI(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Vl(n){return!NI(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function VI(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function yw(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function gr(n){return n*(xn/180)}function Rm(n){return n*(180/xn)}function m_(n){if(!jn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function vw(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*xn&&(r+=Tn),{angle:r,distance:s}}function _p(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function FI(n,t){return(n-t+RI)%Tn-xn}function Fs(n){return(n%Tn+Tn)%Tn}function Zc(n,t,e,i){const s=Fs(n),r=Fs(t),a=Fs(e),l=Fs(r-s),c=Fs(a-s),h=Fs(s-r),g=Fs(s-a);return s===r||s===a||i&&r===a||l>c&&h<g}function Mi(n,t,e){return Math.max(t,Math.min(e,n))}function zI(n){return Mi(n,-32768,32767)}function xo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Om(n,t,e){e=e||(a=>n[a]<t);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const So=(n,t,e,i)=>Om(n,e,i?s=>{const r=n[s][t];return r<e||r===e&&n[s+1][t]===e}:s=>n[s][t]<e),BI=(n,t,e)=>Om(n,e,i=>n[i][t]>=e);function WI(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const ww=["push","pop","shift","splice","unshift"];function UI(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ww.forEach(e=>{const i="_onData"+Dm(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return n._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...r)}),a}})})}function g_(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(ww.forEach(r=>{delete n[r]}),delete n._chartjs)}function bw(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Tw=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function xw(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,Tw.call(window,()=>{i=!1,n.apply(t,e)}))}}function HI(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Lm=n=>n==="start"?"left":n==="end"?"right":"center",Xi=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,jI=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Sw(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:a,vScale:l,_parsed:c}=n,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=a.axis,{min:w,max:x,minDefined:C,maxDefined:P}=a.getUserBounds();if(C){if(s=Math.min(So(c,g,w).lo,e?i:So(t,g,a.getPixelForValue(w)).lo),h){const A=c.slice(0,s+1).reverse().findIndex(V=>!De(V[l.axis]));s-=Math.max(0,A)}s=Mi(s,0,i-1)}if(P){let A=Math.max(So(c,a.axis,x,!0).hi+1,e?0:So(t,g,a.getPixelForValue(x),!0).hi+1);if(h){const V=c.slice(A-1).findIndex(j=>!De(j[l.axis]));A+=Math.max(0,V)}r=Mi(A,s,i)-s}else r=i-s}return{start:s,count:r}}function Ew(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}const Zu=n=>n===0||n===1,__=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Tn/e)),y_=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Tn/e)+1,Dc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Xn)+1,easeOutSine:n=>Math.sin(n*Xn),easeInOutSine:n=>-.5*(Math.cos(xn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zu(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zu(n)?n:__(n,.075,.3),easeOutElastic:n=>Zu(n)?n:y_(n,.075,.3),easeInOutElastic(n){return Zu(n)?n:n<.5?.5*__(n*2,.1125,.45):.5+.5*y_(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Dc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Dc.easeInBounce(n*2)*.5:Dc.easeOutBounce(n*2-1)*.5+.5};function Nm(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function v_(n){return Nm(n)?n:new $c(n)}function Af(n){return Nm(n)?n:new $c(n).saturate(.5).darken(.1).hexString()}const YI=["x","y","borderWidth","radius","tension"],$I=["color","borderColor","backgroundColor"];function qI(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:$I},numbers:{type:"number",properties:YI}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function GI(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const w_=new Map;function ZI(n,t){t=t||{};const e=n+JSON.stringify(t);let i=w_.get(e);return i||(i=new Intl.NumberFormat(n,t),w_.set(e,i)),i}function pu(n,t,e){return ZI(t,e).format(n)}const kw={values(n){return Dn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const h=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(h<1e-4||h>1e15)&&(s="scientific"),r=KI(n,e)}const a=oa(Math.abs(r)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:s,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),pu(n,i,c)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(oa(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?kw.numeric.call(this,n,t,e):""}};function KI(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Od={formatters:kw};function XI(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Od.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const qa=Object.create(null),yp=Object.create(null);function Rc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function Df(n,t,e){return typeof t=="string"?qc(Rc(n,t),e):qc(Rc(n,""),t)}class QI{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Af(s.backgroundColor),this.hoverBorderColor=(i,s)=>Af(s.borderColor),this.hoverColor=(i,s)=>Af(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Df(this,t,e)}get(t){return Rc(this,t)}describe(t,e){return Df(yp,t,e)}override(t,e){return Df(qa,t,e)}route(t,e,i,s){const r=Rc(this,t),a=Rc(this,i),l="_"+e;Object.defineProperties(r,{[l]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const c=this[l],h=a[s];return Ne(c)?Object.assign({},h,c):ke(c,h)},set(c){this[l]=c}}})}apply(t){t.forEach(e=>e(this))}}var Rn=new QI({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qI,GI,XI]);function JI(n){return!n||De(n.size)||De(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Xh(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function tC(n,t,e,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let c,h,g,w,x;for(c=0;c<l;c++)if(w=e[c],w!=null&&!Dn(w))a=Xh(n,s,r,a,w);else if(Dn(w))for(h=0,g=w.length;h<g;h++)x=w[h],x!=null&&!Dn(x)&&(a=Xh(n,s,r,a,x));n.restore();const C=r.length/2;if(C>e.length){for(c=0;c<C;c++)delete s[r[c]];r.splice(0,C)}return a}function Oa(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function b_(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function vp(n,t,e,i){Pw(n,t,e,i,null)}function Pw(n,t,e,i,s){let r,a,l,c,h,g,w,x;const C=t.pointStyle,P=t.rotation,A=t.radius;let V=(P||0)*OI;if(C&&typeof C=="object"&&(r=C.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(V),n.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),C){default:s?n.ellipse(e,i,s/2,A,0,0,Tn):n.arc(e,i,A,0,Tn),n.closePath();break;case"triangle":g=s?s/2:A,n.moveTo(e+Math.sin(V)*g,i-Math.cos(V)*A),V+=f_,n.lineTo(e+Math.sin(V)*g,i-Math.cos(V)*A),V+=f_,n.lineTo(e+Math.sin(V)*g,i-Math.cos(V)*A),n.closePath();break;case"rectRounded":h=A*.516,c=A-h,a=Math.cos(V+Ra)*c,w=Math.cos(V+Ra)*(s?s/2-h:c),l=Math.sin(V+Ra)*c,x=Math.sin(V+Ra)*(s?s/2-h:c),n.arc(e-w,i-l,h,V-xn,V-Xn),n.arc(e+x,i-a,h,V-Xn,V),n.arc(e+w,i+l,h,V,V+Xn),n.arc(e-x,i+a,h,V+Xn,V+xn),n.closePath();break;case"rect":if(!P){c=Math.SQRT1_2*A,g=s?s/2:c,n.rect(e-g,i-c,2*g,2*c);break}V+=Ra;case"rectRot":w=Math.cos(V)*(s?s/2:A),a=Math.cos(V)*A,l=Math.sin(V)*A,x=Math.sin(V)*(s?s/2:A),n.moveTo(e-w,i-l),n.lineTo(e+x,i-a),n.lineTo(e+w,i+l),n.lineTo(e-x,i+a),n.closePath();break;case"crossRot":V+=Ra;case"cross":w=Math.cos(V)*(s?s/2:A),a=Math.cos(V)*A,l=Math.sin(V)*A,x=Math.sin(V)*(s?s/2:A),n.moveTo(e-w,i-l),n.lineTo(e+w,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a);break;case"star":w=Math.cos(V)*(s?s/2:A),a=Math.cos(V)*A,l=Math.sin(V)*A,x=Math.sin(V)*(s?s/2:A),n.moveTo(e-w,i-l),n.lineTo(e+w,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a),V+=Ra,w=Math.cos(V)*(s?s/2:A),a=Math.cos(V)*A,l=Math.sin(V)*A,x=Math.sin(V)*(s?s/2:A),n.moveTo(e-w,i-l),n.lineTo(e+w,i+l),n.moveTo(e+x,i-a),n.lineTo(e-x,i+a);break;case"line":a=s?s/2:Math.cos(V)*A,l=Math.sin(V)*A,n.moveTo(e-a,i-l),n.lineTo(e+a,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(V)*(s?s/2:A),i+Math.sin(V)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Eo(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Ld(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Nd(n){n.restore()}function eC(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function nC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function iC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),De(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function sC(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),a=t-r.actualBoundingBoxLeft,l=t+r.actualBoundingBoxRight,c=e-r.actualBoundingBoxAscent,h=e+r.actualBoundingBoxDescent,g=s.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(a,g),n.lineTo(l,g),n.stroke()}}function rC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ga(n,t,e,i,s,r={}){const a=Dn(t)?t:[t],l=r.strokeWidth>0&&r.strokeColor!=="";let c,h;for(n.save(),n.font=s.string,iC(n,r),c=0;c<a.length;++c)h=a[c],r.backdrop&&rC(n,r.backdrop),l&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),De(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(h,e,i,r.maxWidth)),n.fillText(h,e,i,r.maxWidth),sC(n,e,i,h,r),i+=Number(s.lineHeight);n.restore()}function Kc(n,t){const{x:e,y:i,w:s,h:r,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*xn,xn,!0),n.lineTo(e,i+r-a.bottomLeft),n.arc(e+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,xn,Xn,!0),n.lineTo(e+s-a.bottomRight,i+r),n.arc(e+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,Xn,0,!0),n.lineTo(e+s,i+a.topRight),n.arc(e+s-a.topRight,i+a.topRight,a.topRight,0,-Xn,!0),n.lineTo(e+a.topLeft,i)}const oC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lC(n,t){const e=(""+n).match(oC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const cC=n=>+n||0;function Vm(n,t){const e={},i=Ne(t),s=i?Object.keys(t):t,r=Ne(n)?i?a=>ke(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of s)e[a]=cC(r(a));return e}function Iw(n){return Vm(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ya(n){return Vm(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ns(n){const t=Iw(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pi(n,t){n=n||{},t=t||Rn.font;let e=ke(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=ke(n.style,t.style);i&&!(""+i).match(aC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ke(n.family,t.family),lineHeight:lC(ke(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ke(n.weight,t.weight),string:""};return s.string=JI(s),s}function mc(n,t,e,i){let s,r,a;for(s=0,r=n.length;s<r;++s)if(a=n[s],a!==void 0&&a!==void 0)return a}function uC(n,t,e){const{min:i,max:s}=n,r=gw(t,(s-i)/2),a=(l,c)=>e&&l===0?0:l+c;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function ka(n,t){return Object.assign(Object.create(n),t)}function Fm(n,t=[""],e,i,s=()=>n[0]){const r=e||n;typeof i>"u"&&(i=Dw("_fallback",n));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:l=>Fm([l,...n],t,r,i)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete n[0][c],!0},get(l,c){return Mw(l,c,()=>yC(c,t,n,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(l,c){return x_(l).includes(c)},ownKeys(l){return x_(l)},set(l,c,h){const g=l._storage||(l._storage=s());return l[c]=g[c]=h,delete l._keys,!0}})}function Fl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Cw(n,i),setContext:r=>Fl(n,r,e,i),override:r=>Fl(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete n[a],!0},get(r,a,l){return Mw(r,a,()=>dC(r,a,l))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(r,a,l){return n[a]=l,delete r[a],!0}})}function Cw(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:va(e)?e:()=>e,isIndexable:va(i)?i:()=>i}}const hC=(n,t)=>n?n+Dm(t):t,zm=(n,t)=>Ne(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Mw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function dC(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=n;let l=i[t];return va(l)&&a.isScriptable(t)&&(l=fC(t,l,n,e)),Dn(l)&&l.length&&(l=pC(t,l,n,a.isIndexable)),zm(t,l)&&(l=Fl(l,s,r&&r[t],a)),l}function fC(n,t,e,i){const{_proxy:s,_context:r,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=t(r,a||i);return l.delete(n),zm(n,c)&&(c=Bm(s._scopes,s,n,c)),c}function pC(n,t,e,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:l}=e;if(typeof r.index<"u"&&i(n))return t[r.index%t.length];if(Ne(t[0])){const c=t,h=s._scopes.filter(g=>g!==c);t=[];for(const g of c){const w=Bm(h,s,n,g);t.push(Fl(w,r,a&&a[n],l))}}return t}function Aw(n,t,e){return va(n)?n(t,e):n}const mC=(n,t)=>n===!0?t:typeof n=="string"?ya(t,n):void 0;function gC(n,t,e,i,s){for(const r of t){const a=mC(e,r);if(a){n.add(a);const l=Aw(a._fallback,e,s);if(typeof l<"u"&&l!==e&&l!==i)return l}else if(a===!1&&typeof i<"u"&&e!==i)return null}return!1}function Bm(n,t,e,i){const s=t._rootScopes,r=Aw(t._fallback,e,i),a=[...n,...s],l=new Set;l.add(i);let c=T_(l,a,e,r||e,i);return c===null||typeof r<"u"&&r!==e&&(c=T_(l,a,r,c,i),c===null)?!1:Fm(Array.from(l),[""],s,r,()=>_C(t,e,i))}function T_(n,t,e,i,s){for(;e;)e=gC(n,t,e,i,s);return e}function _C(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Dn(s)&&Ne(e)?e:s||{}}function yC(n,t,e,i){let s;for(const r of t)if(s=Dw(hC(r,n),e),typeof s<"u")return zm(n,s)?Bm(e,i,n,s):s}function Dw(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function x_(n){let t=n._keys;return t||(t=n._keys=vC(n._scopes)),t}function vC(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Rw(n,t,e,i){const{iScale:s}=n,{key:r="r"}=this._parsing,a=new Array(i);let l,c,h,g;for(l=0,c=i;l<c;++l)h=l+e,g=t[h],a[l]={r:s.parse(ya(g,r),h)};return a}const wC=Number.EPSILON||1e-14,zl=(n,t)=>t<n.length&&!n[t].skip&&n[t],Ow=n=>n==="x"?"y":"x";function bC(n,t,e,i){const s=n.skip?t:n,r=t,a=e.skip?t:e,l=_p(r,s),c=_p(a,r);let h=l/(l+c),g=c/(l+c);h=isNaN(h)?0:h,g=isNaN(g)?0:g;const w=i*h,x=i*g;return{previous:{x:r.x-w*(a.x-s.x),y:r.y-w*(a.y-s.y)},next:{x:r.x+x*(a.x-s.x),y:r.y+x*(a.y-s.y)}}}function TC(n,t,e){const i=n.length;let s,r,a,l,c,h=zl(n,0);for(let g=0;g<i-1;++g)if(c=h,h=zl(n,g+1),!(!c||!h)){if(Ac(t[g],0,wC)){e[g]=e[g+1]=0;continue}s=e[g]/t[g],r=e[g+1]/t[g],l=Math.pow(s,2)+Math.pow(r,2),!(l<=9)&&(a=3/Math.sqrt(l),e[g]=s*a*t[g],e[g+1]=r*a*t[g])}}function xC(n,t,e="x"){const i=Ow(e),s=n.length;let r,a,l,c=zl(n,0);for(let h=0;h<s;++h){if(a=l,l=c,c=zl(n,h+1),!l)continue;const g=l[e],w=l[i];a&&(r=(g-a[e])/3,l[`cp1${e}`]=g-r,l[`cp1${i}`]=w-r*t[h]),c&&(r=(c[e]-g)/3,l[`cp2${e}`]=g+r,l[`cp2${i}`]=w+r*t[h])}}function SC(n,t="x"){const e=Ow(t),i=n.length,s=Array(i).fill(0),r=Array(i);let a,l,c,h=zl(n,0);for(a=0;a<i;++a)if(l=c,c=h,h=zl(n,a+1),!!c){if(h){const g=h[t]-c[t];s[a]=g!==0?(h[e]-c[e])/g:0}r[a]=l?h?Br(s[a-1])!==Br(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}TC(n,s,r),xC(n,r,t)}function Ku(n,t,e){return Math.max(Math.min(n,e),t)}function EC(n,t){let e,i,s,r,a,l=Eo(n[0],t);for(e=0,i=n.length;e<i;++e)a=r,r=l,l=e<i-1&&Eo(n[e+1],t),r&&(s=n[e],a&&(s.cp1x=Ku(s.cp1x,t.left,t.right),s.cp1y=Ku(s.cp1y,t.top,t.bottom)),l&&(s.cp2x=Ku(s.cp2x,t.left,t.right),s.cp2y=Ku(s.cp2y,t.top,t.bottom)))}function kC(n,t,e,i,s){let r,a,l,c;if(t.spanGaps&&(n=n.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")SC(n,s);else{let h=i?n[n.length-1]:n[0];for(r=0,a=n.length;r<a;++r)l=n[r],c=bC(h,l,n[Math.min(r+1,a-(i?0:1))%a],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,h=l}t.capBezierPoints&&EC(n,e)}function Wm(){return typeof window<"u"&&typeof document<"u"}function Um(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Qh(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Vd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function PC(n,t){return Vd(n).getPropertyValue(t)}const IC=["top","right","bottom","left"];function $a(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=IC[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const CC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function MC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:r}=i;let a=!1,l,c;if(CC(s,r,n.target))l=s,c=r;else{const h=t.getBoundingClientRect();l=i.clientX-h.left,c=i.clientY-h.top,a=!0}return{x:l,y:c,box:a}}function Va(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=Vd(e),r=s.boxSizing==="border-box",a=$a(s,"padding"),l=$a(s,"border","width"),{x:c,y:h,box:g}=MC(n,e),w=a.left+(g&&l.left),x=a.top+(g&&l.top);let{width:C,height:P}=t;return r&&(C-=a.width+l.width,P-=a.height+l.height),{x:Math.round((c-w)/C*e.width/i),y:Math.round((h-x)/P*e.height/i)}}function AC(n,t,e){let i,s;if(t===void 0||e===void 0){const r=n&&Um(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const a=r.getBoundingClientRect(),l=Vd(r),c=$a(l,"border","width"),h=$a(l,"padding");t=a.width-h.width-c.width,e=a.height-h.height-c.height,i=Qh(l.maxWidth,r,"clientWidth"),s=Qh(l.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Kh,maxHeight:s||Kh}}const Xu=n=>Math.round(n*10)/10;function DC(n,t,e,i){const s=Vd(n),r=$a(s,"margin"),a=Qh(s.maxWidth,n,"clientWidth")||Kh,l=Qh(s.maxHeight,n,"clientHeight")||Kh,c=AC(n,t,e);let{width:h,height:g}=c;if(s.boxSizing==="content-box"){const x=$a(s,"border","width"),C=$a(s,"padding");h-=C.width+x.width,g-=C.height+x.height}return h=Math.max(0,h-r.width),g=Math.max(0,i?h/i:g-r.height),h=Xu(Math.min(h,a,c.maxWidth)),g=Xu(Math.min(g,l,c.maxHeight)),h&&!g&&(g=Xu(h/2)),(t!==void 0||e!==void 0)&&i&&c.height&&g>c.height&&(g=c.height,h=Xu(Math.floor(g*i))),{width:h,height:g}}function S_(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(n.currentDevicePixelRatio=i,a.height=s,a.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const RC=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Wm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function E_(n,t){const e=PC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function OC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function LC(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},a=Fa(n,s,e),l=Fa(s,r,e),c=Fa(r,t,e),h=Fa(a,l,e),g=Fa(l,c,e);return Fa(h,g,e)}const NC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},VC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Dl(n,t,e){return n?NC(t,e):VC()}function Lw(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Nw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Vw(n){return n==="angle"?{between:Zc,compare:FI,normalize:Fs}:{between:xo,compare:(t,e)=>t-e,normalize:t=>t}}function k_({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function FC(n,t,e){const{property:i,start:s,end:r}=e,{between:a,normalize:l}=Vw(i),c=t.length;let{start:h,end:g,loop:w}=n,x,C;if(w){for(h+=c,g+=c,x=0,C=c;x<C&&a(l(t[h%c][i]),s,r);++x)h--,g--;h%=c,g%=c}return g<h&&(g+=c),{start:h,end:g,loop:w,style:n.style}}function Fw(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,a=t.length,{compare:l,between:c,normalize:h}=Vw(i),{start:g,end:w,loop:x,style:C}=FC(n,t,e),P=[];let A=!1,V=null,j,K,Q;const it=()=>c(s,Q,j)&&l(s,Q)!==0,rt=()=>l(r,j)===0||c(r,Q,j),ft=()=>A||it(),y=()=>!A||rt();for(let N=g,z=g;N<=w;++N)K=t[N%a],!K.skip&&(j=h(K[i]),j!==Q&&(A=c(j,s,r),V===null&&ft()&&(V=l(j,s)===0?N:z),V!==null&&y()&&(P.push(k_({start:V,end:N,loop:x,count:a,style:C})),V=null),z=N,Q=j));return V!==null&&P.push(k_({start:V,end:w,loop:x,count:a,style:C})),P}function zw(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=Fw(i[s],n.points,t);r.length&&e.push(...r)}return e}function zC(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}function BC(n,t,e,i){const s=n.length,r=[];let a=t,l=n[t],c;for(c=t+1;c<=e;++c){const h=n[c%s];h.skip||h.stop?l.skip||(i=!1,r.push({start:t%s,end:(c-1)%s,loop:i}),t=a=h.stop?c:null):(a=c,l.skip&&(t=c)),l=h}return a!==null&&r.push({start:t%s,end:a%s,loop:i}),r}function WC(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:a,end:l}=zC(e,s,r,i);if(i===!0)return P_(n,[{start:a,end:l,loop:r}],e,t);const c=l<a?l+s:l,h=!!n._fullLoop&&a===0&&l===s-1;return P_(n,BC(e,a,c,h),e,t)}function P_(n,t,e,i){return!i||!i.setContext||!e?t:UC(n,t,e,i)}function UC(n,t,e,i){const s=n._chart.getContext(),r=I_(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,c=e.length,h=[];let g=r,w=t[0].start,x=w;function C(P,A,V,j){const K=l?-1:1;if(P!==A){for(P+=c;e[P%c].skip;)P-=K;for(;e[A%c].skip;)A+=K;P%c!==A%c&&(h.push({start:P%c,end:A%c,loop:V,style:j}),g=j,w=A%c)}}for(const P of t){w=l?w:P.start;let A=e[w%c],V;for(x=w+1;x<=P.end;x++){const j=e[x%c];V=I_(i.setContext(ka(s,{type:"segment",p0:A,p1:j,p0DataIndex:(x-1)%c,p1DataIndex:x%c,datasetIndex:a}))),HC(V,g)&&C(w,x-1,P.loop,g),A=j,g=V}w<x-1&&C(w,x-1,P.loop,g)}return h}function I_(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function HC(n,t){if(!t)return!1;const e=[],i=function(s,r){return Nm(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Qu(n,t,e){return n.options.clip?n[e]:t[e]}function jC(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Qu(e,t,"left"),right:Qu(e,t,"right"),top:Qu(i,t,"top"),bottom:Qu(i,t,"bottom")}:t}function Bw(n,t){const e=t._clip;if(e.disabled)return!1;const i=jC(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const r=e.listeners[s],a=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Tw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,l=!1,c;for(;a>=0;--a)c=r[a],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(t),l=!0):(r[a]=r[r.length-1],r.pop());l&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var _o=new YC;const C_="transparent",$C={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=v_(n||C_),s=i.valid&&v_(t||C_);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class qC{constructor(t,e,i,s){const r=e[i];s=mc([t.to,s,r,t.from]);const a=mc([t.from,r,s]);this._active=!0,this._fn=t.fn||$C[t.type||typeof a],this._easing=Dc[t.easing]||Dc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=mc([t.to,e,s,t.from]),this._from=mc([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,l=this._to;let c;if(this._active=r!==l&&(a||e<i),!this._active){this._target[s]=l,this._notify(!0);return}if(e<0){this._target[s]=r;return}c=e/i%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[s]=this._fn(r,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class Ww{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ne(t))return;const e=Object.keys(Rn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!Ne(r))return;const a={};for(const l of e)a[l]=r[l];(Dn(r.properties)&&r.properties||[s]).forEach(l=>{(l===s||!i.has(l))&&i.set(l,a)})})}_animateOptions(t,e){const i=e.options,s=ZC(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&GC(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const h=a[c];if(h.charAt(0)==="$")continue;if(h==="options"){s.push(...this._animateOptions(t,e));continue}const g=e[h];let w=r[h];const x=i.get(h);if(w)if(x&&w.active()){w.update(x,g,l);continue}else w.cancel();if(!x||!x.duration){t[h]=g;continue}r[h]=w=new qC(x,t,h,g),s.push(w)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return _o.add(this._chart,i),!0}}function GC(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function ZC(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function M_(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function KC(n,t,e){if(e===!1)return!1;const i=M_(n,e),s=M_(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function XC(n){let t,e,i,s;return Ne(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function Uw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function A_(n,t,e,i={}){const s=n.keys,r=i.mode==="single";let a,l,c,h;if(t===null)return;let g=!1;for(a=0,l=s.length;a<l;++a){if(c=+s[a],c===e){if(g=!0,i.all)continue;break}h=n.values[c],jn(h)&&(r||t===0||Br(t)===Br(h))&&(t+=h)}return!g&&!i.all?0:t}function QC(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",a=Object.keys(n),l=new Array(a.length);let c,h,g;for(c=0,h=a.length;c<h;++c)g=a[c],l[c]={[s]:g,[r]:n[g]};return l}function Rf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function JC(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function tM(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function eM(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function D_(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function R_(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:a,index:l}=i,c=r.axis,h=a.axis,g=JC(r,a,i),w=t.length;let x;for(let C=0;C<w;++C){const P=t[C],{[c]:A,[h]:V}=P,j=P._stacks||(P._stacks={});x=j[h]=eM(s,g,A),x[l]=V,x._top=D_(x,a,!0,i.type),x._bottom=D_(x,a,!1,i.type);const K=x._visualValues||(x._visualValues={});K[l]=V}}function Of(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function nM(n,t){return ka(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function iM(n,t,e){return ka(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function cc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const Lf=n=>n==="reset"||n==="none",O_=(n,t)=>t?n:Object.assign({},n),sM=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Uw(e,!0),values:null};class vr{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Rf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&cc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(w,x,C,P)=>w==="x"?x:w==="r"?P:C,r=e.xAxisID=ke(i.xAxisID,Of(t,"x")),a=e.yAxisID=ke(i.yAxisID,Of(t,"y")),l=e.rAxisID=ke(i.rAxisID,Of(t,"r")),c=e.indexAxis,h=e.iAxisID=s(c,r,a,l),g=e.vAxisID=s(c,a,r,l);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&g_(this._data,this),t._stacked&&cc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ne(e)){const s=this._cachedMeta;this._data=QC(e,s)}else if(i!==e){if(i){g_(i,this);const s=this._cachedMeta;cc(s),s._parsed=[]}e&&Object.isExtensible(e)&&UI(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=e._stacked;e._stacked=Rf(e.vScale,e),e.stack!==i.stack&&(s=!0,cc(e),e.stack=i.stack),this._resyncElements(t),(s||r!==e._stacked)&&(R_(this,e._parsed),e._stacked=Rf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,l=r.axis;let c=t===0&&e===s.length?!0:i._sorted,h=t>0&&i._parsed[t-1],g,w,x;if(this._parsing===!1)i._parsed=s,i._sorted=!0,x=s;else{Dn(s[t])?x=this.parseArrayData(i,s,t,e):Ne(s[t])?x=this.parseObjectData(i,s,t,e):x=this.parsePrimitiveData(i,s,t,e);const C=()=>w[l]===null||h&&w[l]<h[l];for(g=0;g<e;++g)i._parsed[g+t]=w=x[g],c&&(C()&&(c=!1),h=w);i._sorted=c}a&&R_(this,x)}parsePrimitiveData(t,e,i,s){const{iScale:r,vScale:a}=t,l=r.axis,c=a.axis,h=r.getLabels(),g=r===a,w=new Array(s);let x,C,P;for(x=0,C=s;x<C;++x)P=x+i,w[x]={[l]:g||r.parse(h[P],P),[c]:a.parse(e[P],P)};return w}parseArrayData(t,e,i,s){const{xScale:r,yScale:a}=t,l=new Array(s);let c,h,g,w;for(c=0,h=s;c<h;++c)g=c+i,w=e[g],l[c]={x:r.parse(w[0],g),y:a.parse(w[1],g)};return l}parseObjectData(t,e,i,s){const{xScale:r,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=new Array(s);let g,w,x,C;for(g=0,w=s;g<w;++g)x=g+i,C=e[x],h[g]={x:r.parse(ya(C,l),x),y:a.parse(ya(C,c),x)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,r=this._cachedMeta,a=e[t.axis],l={keys:Uw(s,!0),values:e._stacks[t.axis]._visualValues};return A_(l,a,r.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const r=i[e.axis];let a=r===null?NaN:r;const l=s&&i._stacks[e.axis];s&&l&&(s.values=l,a=A_(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,a=s.length,l=this._getOtherScale(t),c=sM(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:w}=tM(l);let x,C;function P(){C=s[x];const A=C[l.axis];return!jn(C[t.axis])||g>A||w<A}for(x=0;x<a&&!(!P()&&(this.updateRangeFromParsed(h,t,C,c),r));++x);if(r){for(x=a-1;x>=0;--x)if(!P()){this.updateRangeFromParsed(h,t,C,c);break}}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=e.length;s<r;++s)a=e[s][t.axis],jn(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=XC(ke(this.options.clip,KC(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],r=e.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,h=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(t,r,l,c),g=l;g<l+c;++g){const w=s[g];w.hidden||(w.active&&h?a.push(w):w.draw(t,r))}for(g=0;g<a.length;++g)a[g].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];r=a.$context||(a.$context=iM(this.getContext(),t,a)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=nM(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",r=this._cachedDataOpts,a=t+"-"+e,l=r[a],c=this.enableOptionSharing&&Gc(i);if(l)return O_(l,c);const h=this.chart.config,g=h.datasetElementScopeKeys(this._type,t),w=s?[`${t}Hover`,"hover",t,""]:[t,""],x=h.getOptionScopes(this.getDataset(),g),C=Object.keys(Rn.elements[t]),P=()=>this.getContext(i,s,e),A=h.resolveNamedOptions(x,C,P,w);return A.$shared&&(A.$shared=c,r[a]=Object.freeze(O_(A,c))),A}_resolveAnimations(t,e,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${e}`,l=r[a];if(l)return l;let c;if(s.options.animation!==!1){const g=this.chart.config,w=g.datasetAnimationScopeKeys(this._type,e),x=g.getOptionScopes(this.getDataset(),w);c=g.createResolver(x,this.getContext(t,i,e))}const h=new Ww(s,c&&c.animations);return c&&c._cacheable&&(r[a]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Lf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(e,r)||r!==s;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:a}}updateElement(t,e,i,s){Lf(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Lf(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const r=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[l,c,h]of this._syncList)this[l](c,h);this._syncList=[];const s=i.length,r=e.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,e,i=!0){const s=this._cachedMeta,r=s.data,a=t+e;let l;const c=h=>{for(h.length+=e,l=h.length-1;l>=a;l--)h[l]=h[l-e]};for(c(r),l=t;l<a;++l)r[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&cc(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ot(vr,"defaults",{}),Ot(vr,"datasetElementType",null),Ot(vr,"dataElementType",null);function rM(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=bw(i.sort((s,r)=>s-r))}return n._cache.$bar}function oM(n){const t=n.iScale,e=rM(t,n.type);let i=t._length,s,r,a,l;const c=()=>{a===32767||a===-32768||(Gc(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(s=0,r=e.length;s<r;++s)a=t.getPixelForValue(e[s]),c();for(l=void 0,s=0,r=t.ticks.length;s<r;++s)a=t.getPixelForTick(s),c();return i}function aM(n,t,e,i){const s=e.barThickness;let r,a;return De(s)?(r=t.min*e.categoryPercentage,a=e.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:t.pixels[n]-r/2}}function lM(n,t,e,i){const s=t.pixels,r=s[n];let a=n>0?s[n-1]:null,l=n<s.length-1?s[n+1]:null;const c=e.categoryPercentage;a===null&&(a=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-a);const h=r-(r-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/i,ratio:e.barPercentage,start:h}}function cM(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),a=Math.min(s,r),l=Math.max(s,r);let c=a,h=l;Math.abs(a)>Math.abs(l)&&(c=l,h=a),t[e.axis]=h,t._custom={barStart:c,barEnd:h,start:s,end:r,min:a,max:l}}function Hw(n,t,e,i){return Dn(n)?cM(n,t,e,i):t[e.axis]=e.parse(n,i),t}function L_(n,t,e,i){const s=n.iScale,r=n.vScale,a=s.getLabels(),l=s===r,c=[];let h,g,w,x;for(h=e,g=e+i;h<g;++h)x=t[h],w={},w[s.axis]=l||s.parse(a[h],h),c.push(Hw(x,w,r,h));return c}function Nf(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function uM(n,t,e){return n!==0?Br(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function hM(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}function dM(n,t,e,i){let s=t.borderSkipped;const r={};if(!s){n.borderSkipped=r;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:h,bottom:g}=hM(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=h:(e._bottom||0)===i?s=g:(r[N_(g,a,l,c)]=!0,s=h)),r[N_(s,a,l,c)]=!0,n.borderSkipped=r}function N_(n,t,e,i){return i?(n=fM(n,t,e),n=V_(n,e,t)):n=V_(n,t,e),n}function fM(n,t,e){return n===t?e:n===e?t:n}function V_(n,t,e){return n==="start"?t:n==="end"?e:n}function pM(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class wh extends vr{parsePrimitiveData(t,e,i,s){return L_(t,e,i,s)}parseArrayData(t,e,i,s){return L_(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:r,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,h=r.axis==="x"?l:c,g=a.axis==="x"?l:c,w=[];let x,C,P,A;for(x=i,C=i+s;x<C;++x)A=e[x],P={},P[r.axis]=r.parse(ya(A,h),x),w.push(Hw(ya(A,g),P,a,x));return w}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,r=this.getParsed(t),a=r._custom,l=Nf(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),h=l.isHorizontal(),g=this._getRuler(),{sharedOptions:w,includeOptions:x}=this._getSharedOptions(e,s);for(let C=e;C<e+i;C++){const P=this.getParsed(C),A=r||De(P[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(C),V=this._calculateBarIndexPixels(C,g),j=(P._stacks||{})[l.axis],K={horizontal:h,base:A.base,enableBorderRadius:!j||Nf(P._custom)||a===j._top||a===j._bottom,x:h?A.head:V.center,y:h?V.center:A.head,height:h?V.size:Math.abs(A.size),width:h?Math.abs(A.size):V.size};x&&(K.options=w||this.resolveDataElementOptions(C,t[C].active?"active":s));const Q=K.options||t[C].options;dM(K,Q,j,a),pM(K,Q,g.ratio),this.updateElement(t[C],C,K,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(e),c=l&&l[i.axis],h=g=>{const w=g._parsed.find(C=>C[i.axis]===c),x=w&&w[g.vScale.axis];if(De(x)||isNaN(x))return!0};for(const g of s)if(!(e!==void 0&&h(g))&&((r===!1||a.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&a.push(g.stack),g.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),r=e!==void 0?s.indexOf(e):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let r,a;for(r=0,a=e.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const l=t.barThickness;return{min:l||oM(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,l=r||0,c=this.getParsed(t),h=c._custom,g=Nf(h);let w=c[e.axis],x=0,C=i?this.applyStack(e,c,i):w,P,A;C!==w&&(x=C-w,C=w),g&&(w=h.barStart,C=h.barEnd-h.barStart,w!==0&&Br(w)!==Br(h.barEnd)&&(x=0),x+=w);const V=!De(r)&&!g?r:x;let j=e.getPixelForValue(V);if(this.chart.getDataVisibility(t)?P=e.getPixelForValue(x+C):P=j,A=P-j,Math.abs(A)<a){A=uM(A,e,l)*a,w===l&&(j-=A/2);const K=e.getPixelForDecimal(0),Q=e.getPixelForDecimal(1),it=Math.min(K,Q),rt=Math.max(K,Q);j=Math.max(Math.min(j,rt),it),P=j+A,i&&!g&&(c._stacks[e.axis]._visualValues[s]=e.getValueForPixel(P)-e.getValueForPixel(j))}if(j===e.getPixelForValue(l)){const K=Br(A)*e.getLineWidthForValue(l)/2;j+=K,A-=K}return{size:A,base:j,head:P,center:P+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,r=s.skipNull,a=ke(s.maxBarThickness,1/0);let l,c;if(e.grouped){const h=r?this._getStackCount(t):e.stackCount,g=s.barThickness==="flex"?lM(t,e,s,h):aM(t,e,s,h),w=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=g.start+g.chunk*w+g.chunk/2,c=Math.min(a,g.chunk*g.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,e.min*e.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[e.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}Ot(wh,"id","bar"),Ot(wh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ot(wh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class bh extends vr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const r=super.parsePrimitiveData(t,e,i,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(t,e,i,s){const r=super.parseArrayData(t,e,i,s);for(let a=0;a<r.length;a++){const l=e[i+a];r[a]._custom=ke(l[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(t,e,i,s){const r=super.parseObjectData(t,e,i,s);for(let a=0;a<r.length;a++){const l=e[i+a];r[a]._custom=ke(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=r.getLabelForValue(a.y),h=a._custom;return{label:i[t]||"",value:"("+l+", "+c+(h?", "+h:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(e,s),g=a.axis,w=l.axis;for(let x=e;x<e+i;x++){const C=t[x],P=!r&&this.getParsed(x),A={},V=A[g]=r?a.getPixelForDecimal(.5):a.getPixelForValue(P[g]),j=A[w]=r?l.getBasePixel():l.getPixelForValue(P[w]);A.skip=isNaN(V)||isNaN(j),h&&(A.options=c||this.resolveDataElementOptions(x,C.active?"active":s),r&&(A.options.radius=0)),this.updateElement(C,x,A,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return e!=="active"&&(s.radius=0),s.radius+=ke(i&&i._custom,r),s}}Ot(bh,"id","bubble"),Ot(bh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ot(bh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function mM(n,t,e){let i=1,s=1,r=0,a=0;if(t<Tn){const l=n,c=l+t,h=Math.cos(l),g=Math.sin(l),w=Math.cos(c),x=Math.sin(c),C=(Q,it,rt)=>Zc(Q,l,c,!0)?1:Math.max(it,it*e,rt,rt*e),P=(Q,it,rt)=>Zc(Q,l,c,!0)?-1:Math.min(it,it*e,rt,rt*e),A=C(0,h,w),V=C(Xn,g,x),j=P(xn,h,w),K=P(xn+Xn,g,x);i=(A-j)/2,s=(V-K)/2,r=-(A+j)/2,a=-(V+K)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:a}}class Ua extends vr{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=c=>+i[c];if(Ne(i[t])){const{key:c="value"}=this._parsing;r=h=>+ya(i[h],c)}let a,l;for(a=t,l=t+e;a<l;++a)s._parsed[a]=r(a)}}_getRotation(){return gr(this.options.rotation-90)}_getCircumference(){return gr(this.options.circumference)}_getRotationExtents(){let t=Tn,e=-Tn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),a=s._getCircumference();t=Math.min(t,r),e=Math.max(e,r+a)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(PI(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:g,rotation:w}=this._getRotationExtents(),{ratioX:x,ratioY:C,offsetX:P,offsetY:A}=mM(w,g,c),V=(i.width-a)/x,j=(i.height-a)/C,K=Math.max(Math.min(V,j)/2,0),Q=gw(this.options.radius,K),it=Math.max(Q*c,0),rt=(Q-it)/this._getVisibleDatasetWeightTotal();this.offsetX=P*Q,this.offsetY=A*Q,s.total=this.calculateTotal(),this.outerRadius=Q-rt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-rt*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Tn)}updateElements(t,e,i,s){const r=s==="reset",a=this.chart,l=a.chartArea,h=a.options.animation,g=(l.left+l.right)/2,w=(l.top+l.bottom)/2,x=r&&h.animateScale,C=x?0:this.innerRadius,P=x?0:this.outerRadius,{sharedOptions:A,includeOptions:V}=this._getSharedOptions(e,s);let j=this._getRotation(),K;for(K=0;K<e;++K)j+=this._circumference(K,r);for(K=e;K<e+i;++K){const Q=this._circumference(K,r),it=t[K],rt={x:g+this.offsetX,y:w+this.offsetY,startAngle:j,endAngle:j+Q,circumference:Q,outerRadius:P,innerRadius:C};V&&(rt.options=A||this.resolveDataElementOptions(K,it.active?"active":s)),j+=Q,this.updateElement(it,K,rt,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Tn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=pu(e._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,r,a,l,c;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(e=Math.max(e,c.borderWidth||0,c.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(ke(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ot(Ua,"id","doughnut"),Ot(Ua,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ot(Ua,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ot(Ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Th extends vr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=e,a=this.chart._animationsDisabled;let{start:l,count:c}=Sw(e,s,a);this._drawStart=l,this._drawCount=c,Ew(e)&&(l=0,c=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},t),this.updateElements(s,l,c,t)}updateElements(t,e,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,{sharedOptions:g,includeOptions:w}=this._getSharedOptions(e,s),x=a.axis,C=l.axis,{spanGaps:P,segment:A}=this.options,V=Vl(P)?P:Number.POSITIVE_INFINITY,j=this.chart._animationsDisabled||r||s==="none",K=e+i,Q=t.length;let it=e>0&&this.getParsed(e-1);for(let rt=0;rt<Q;++rt){const ft=t[rt],y=j?ft:{};if(rt<e||rt>=K){y.skip=!0;continue}const N=this.getParsed(rt),z=De(N[C]),H=y[x]=a.getPixelForValue(N[x],rt),q=y[C]=r||z?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[C],rt);y.skip=isNaN(H)||isNaN(q)||z,y.stop=rt>0&&Math.abs(N[x]-it[x])>V,A&&(y.parsed=N,y.raw=h.data[rt]),w&&(y.options=g||this.resolveDataElementOptions(rt,ft.active?"active":s)),j||this.updateElement(ft,rt,y,s),it=N}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ot(Th,"id","line"),Ot(Th,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ot(Th,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Oc extends vr{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=pu(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,e,i,s){return Rw.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),l=(r-a)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,i,s){const r=s==="reset",a=this.chart,c=a.options.animation,h=this._cachedMeta.rScale,g=h.xCenter,w=h.yCenter,x=h.getIndexAngle(0)-.5*xn;let C=x,P;const A=360/this.countVisibleElements();for(P=0;P<e;++P)C+=this._computeAngle(P,s,A);for(P=e;P<e+i;P++){const V=t[P];let j=C,K=C+this._computeAngle(P,s,A),Q=a.getDataVisibility(P)?h.getDistanceFromCenterForValue(this.getParsed(P).r):0;C=K,r&&(c.animateScale&&(Q=0),c.animateRotate&&(j=K=x));const it={x:g,y:w,innerRadius:0,outerRadius:Q,startAngle:j,endAngle:K,options:this.resolveDataElementOptions(P,V.active?"active":s)};this.updateElement(V,P,it,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?gr(this.resolveDataElementOptions(t,e).angle||i):0}}Ot(Oc,"id","polarArea"),Ot(Oc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ot(Oc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((r,a)=>{const c=t.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class wp extends Ua{}Ot(wp,"id","pie"),Ot(wp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class xh extends vr{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return Rw.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],r=e.iScale.getLabels();if(i.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const r=this._cachedMeta.rScale,a=s==="reset";for(let l=e;l<e+i;l++){const c=t[l],h=this.resolveDataElementOptions(l,c.active?"active":s),g=r.getPointPositionForValue(l,this.getParsed(l).r),w=a?r.xCenter:g.x,x=a?r.yCenter:g.y,C={x:w,y:x,angle:g.angle,skip:isNaN(w)||isNaN(x),options:h};this.updateElement(c,l,C,s)}}}Ot(xh,"id","radar"),Ot(xh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ot(xh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Sh extends vr{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=e,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=r.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+c+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:r,count:a}=Sw(e,i,s);if(this._drawStart=r,this._drawCount=a,Ew(e)&&(r=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const h=this.resolveDatasetElementOptions(t);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:h},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const r=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:h}=this._cachedMeta,g=this.resolveDataElementOptions(e,s),w=this.getSharedOptions(g),x=this.includeOptions(s,w),C=a.axis,P=l.axis,{spanGaps:A,segment:V}=this.options,j=Vl(A)?A:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||r||s==="none";let Q=e>0&&this.getParsed(e-1);for(let it=e;it<e+i;++it){const rt=t[it],ft=this.getParsed(it),y=K?rt:{},N=De(ft[P]),z=y[C]=a.getPixelForValue(ft[C],it),H=y[P]=r||N?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,ft,c):ft[P],it);y.skip=isNaN(z)||isNaN(H)||N,y.stop=it>0&&Math.abs(ft[C]-Q[C])>j,V&&(y.parsed=ft,y.raw=h.data[it]),x&&(y.options=w||this.resolveDataElementOptions(it,rt.active?"active":s)),K||this.updateElement(rt,it,y,s),Q=ft}this.updateSharedOptions(w,s,g)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let c=e.length-1;c>=0;--c)l=Math.max(l,e[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const r=e[0].size(this.resolveDataElementOptions(0)),a=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,r,a)/2}}Ot(Sh,"id","scatter"),Ot(Sh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ot(Sh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gM=Object.freeze({__proto__:null,BarController:wh,BubbleController:bh,DoughnutController:Ua,LineController:Th,PieController:wp,PolarAreaController:Oc,RadarController:xh,ScatterController:Sh});function La(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hm{constructor(t){Ot(this,"options");this.options=t||{}}static override(t){Object.assign(Hm.prototype,t)}init(){}formats(){return La()}parse(){return La()}format(){return La()}add(){return La()}diff(){return La()}startOf(){return La()}endOf(){return La()}}var _M={_date:Hm};function yM(n,t,e,i){const{controller:s,data:r,_sorted:a}=n,l=s._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&a&&r.length){const h=l._reversePixels?BI:So;if(i){if(s._sharedOptions){const g=r[0],w=typeof g.getRange=="function"&&g.getRange(t);if(w){const x=h(r,t,e-w),C=h(r,t,e+w);return{lo:x.lo,hi:C.hi}}}}else{const g=h(r,t,e);if(c){const{vScale:w}=s._cachedMeta,{_parsed:x}=n,C=x.slice(0,g.lo+1).reverse().findIndex(A=>!De(A[w.axis]));g.lo-=Math.max(0,C);const P=x.slice(g.hi).findIndex(A=>!De(A[w.axis]));g.hi+=Math.max(0,P)}return g}}return{lo:0,hi:r.length-1}}function Fd(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,c=r.length;l<c;++l){const{index:h,data:g}=r[l],{lo:w,hi:x}=yM(r[l],t,a,s);for(let C=w;C<=x;++C){const P=g[C];P.skip||i(P,h,C)}}}function vM(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,a=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Vf(n,t,e,i,s){const r=[];return!s&&!n.isPointInArea(t)||Fd(n,e,t,function(l,c,h){!s&&!Eo(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&r.push({element:l,datasetIndex:c,index:h})},!0),r}function wM(n,t,e,i){let s=[];function r(a,l,c){const{startAngle:h,endAngle:g}=a.getProps(["startAngle","endAngle"],i),{angle:w}=vw(a,{x:t.x,y:t.y});Zc(w,h,g)&&s.push({element:a,datasetIndex:l,index:c})}return Fd(n,e,t,r),s}function bM(n,t,e,i,s,r){let a=[];const l=vM(e);let c=Number.POSITIVE_INFINITY;function h(g,w,x){const C=g.inRange(t.x,t.y,s);if(i&&!C)return;const P=g.getCenterPoint(s);if(!(!!r||n.isPointInArea(P))&&!C)return;const V=l(t,P);V<c?(a=[{element:g,datasetIndex:w,index:x}],c=V):V===c&&a.push({element:g,datasetIndex:w,index:x})}return Fd(n,e,t,h),a}function Ff(n,t,e,i,s,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!i?wM(n,t,e,s):bM(n,t,e,i,s,r)}function F_(n,t,e,i,s){const r=[],a=e==="x"?"inXRange":"inYRange";let l=!1;return Fd(n,e,t,(c,h,g)=>{c[a]&&c[a](t[e],s)&&(r.push({element:c,datasetIndex:h,index:g}),l=l||c.inRange(t.x,t.y,s))}),i&&!l?[]:r}var TM={modes:{index(n,t,e,i){const s=Va(t,n),r=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?Vf(n,s,r,i,a):Ff(n,s,r,!1,i,a),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{const g=l[0].index,w=h.data[g];w&&!w.skip&&c.push({element:w,datasetIndex:h.index,index:g})}),c):[]},dataset(n,t,e,i){const s=Va(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?Vf(n,s,r,i,a):Ff(n,s,r,!1,i,a);if(l.length>0){const c=l[0].datasetIndex,h=n.getDatasetMeta(c).data;l=[];for(let g=0;g<h.length;++g)l.push({element:h[g],datasetIndex:c,index:g})}return l},point(n,t,e,i){const s=Va(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;return Vf(n,s,r,i,a)},nearest(n,t,e,i){const s=Va(t,n),r=e.axis||"xy",a=e.includeInvisible||!1;return Ff(n,s,r,e.intersect,i,a)},x(n,t,e,i){const s=Va(t,n);return F_(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Va(t,n);return F_(n,s,"y",e.intersect,i)}}};const jw=["left","top","right","bottom"];function uc(n,t){return n.filter(e=>e.pos===t)}function z_(n,t){return n.filter(e=>jw.indexOf(e.pos)===-1&&e.box.axis===t)}function hc(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function xM(n){const t=[];let e,i,s,r,a,l;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:r,options:{stack:a,stackWeight:l=1}}=s,t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:l});return t}function SM(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!jw.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}function EM(n,t){const e=SM(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,a,l;for(r=0,a=n.length;r<a;++r){l=n[r];const{fullSize:c}=l.box,h=e[l.stack],g=h&&l.stackWeight/h.weight;l.horizontal?(l.width=g?g*i:c&&t.availableWidth,l.height=s):(l.width=i,l.height=g?g*s:c&&t.availableHeight)}return e}function kM(n){const t=xM(n),e=hc(t.filter(h=>h.box.fullSize),!0),i=hc(uc(t,"left"),!0),s=hc(uc(t,"right")),r=hc(uc(t,"top"),!0),a=hc(uc(t,"bottom")),l=z_(t,"x"),c=z_(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(c).concat(a).concat(l),chartArea:uc(t,"chartArea"),vertical:i.concat(s).concat(c),horizontal:r.concat(a).concat(l)}}function B_(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Yw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function PM(n,t,e,i){const{pos:s,box:r}=e,a=n.maxPadding;if(!Ne(s)){e.size&&(n[s]-=e.size);const w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?r.height:r.width),e.size=w.size/w.count,n[s]+=e.size}r.getPadding&&Yw(a,r.getPadding());const l=Math.max(0,t.outerWidth-B_(a,n,"left","right")),c=Math.max(0,t.outerHeight-B_(a,n,"top","bottom")),h=l!==n.w,g=c!==n.h;return n.w=l,n.h=c,e.horizontal?{same:h,other:g}:{same:g,other:h}}function IM(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function CM(n,t){const e=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(t[a],e[a])}),r}return i(n?["left","right"]:["top","bottom"])}function gc(n,t,e,i){const s=[];let r,a,l,c,h,g;for(r=0,a=n.length,h=0;r<a;++r){l=n[r],c=l.box,c.update(l.width||t.w,l.height||t.h,CM(l.horizontal,t));const{same:w,other:x}=PM(t,e,l,i);h|=w&&s.length,g=g||x,c.fullSize||s.push(l)}return h&&gc(s,t,e,i)||g}function Ju(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function W_(n,t,e,i){const s=e.padding;let{x:r,y:a}=t;for(const l of n){const c=l.box,h=i[l.stack]||{placed:0,weight:1},g=l.stackWeight/h.weight||1;if(l.horizontal){const w=t.w*g,x=h.size||c.height;Gc(h.start)&&(a=h.start),c.fullSize?Ju(c,s.left,a,e.outerWidth-s.right-s.left,x):Ju(c,t.left+h.placed,a,w,x),h.start=a,h.placed+=w,a=c.bottom}else{const w=t.h*g,x=h.size||c.width;Gc(h.start)&&(r=h.start),c.fullSize?Ju(c,r,s.top,x,e.outerHeight-s.bottom-s.top):Ju(c,r,t.top+h.placed,x,w),h.start=r,h.placed+=w,r=c.right}}t.x=r,t.y=a}var ts={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=ns(n.options.layout.padding),r=Math.max(t-s.width,0),a=Math.max(e-s.height,0),l=kM(n.boxes),c=l.vertical,h=l.horizontal;ln(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=c.reduce((A,V)=>V.box.options&&V.box.options.display===!1?A:A+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/g,hBoxMaxHeight:a/2}),x=Object.assign({},s);Yw(x,ns(i));const C=Object.assign({maxPadding:x,w:r,h:a,x:s.left,y:s.top},s),P=EM(c.concat(h),w);gc(l.fullSize,C,w,P),gc(c,C,w,P),gc(h,C,w,P)&&gc(c,C,w,P),IM(C),W_(l.leftAndTop,C,w,P),C.x+=C.w,C.y+=C.h,W_(l.rightAndBottom,C,w,P),n.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},ln(l.chartArea,A=>{const V=A.box;Object.assign(V,n.chartArea),V.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class $w{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class MM extends $w{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Eh="$chartjs",AM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},U_=n=>n===null||n==="";function DM(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Eh]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",U_(s)){const r=E_(n,"width");r!==void 0&&(n.width=r)}if(U_(i))if(n.style.height==="")n.height=n.width/(t||2);else{const r=E_(n,"height");r!==void 0&&(n.height=r)}return n}const qw=RC?{passive:!0}:!1;function RM(n,t,e){n&&n.addEventListener(t,e,qw)}function OM(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,qw)}function LM(n,t){const e=AM[n.type]||n.type,{x:i,y:s}=Va(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Jh(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function NM(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Jh(l.addedNodes,i),a=a&&!Jh(l.removedNodes,i);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function VM(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let a=!1;for(const l of r)a=a||Jh(l.removedNodes,i),a=a&&!Jh(l.addedNodes,i);a&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Xc=new Map;let H_=0;function Gw(){const n=window.devicePixelRatio;n!==H_&&(H_=n,Xc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FM(n,t){Xc.size||window.addEventListener("resize",Gw),Xc.set(n,t)}function zM(n){Xc.delete(n),Xc.size||window.removeEventListener("resize",Gw)}function BM(n,t,e){const i=n.canvas,s=i&&Um(i);if(!s)return;const r=xw((l,c)=>{const h=s.clientWidth;e(l,c),h<s.clientWidth&&e()},window),a=new ResizeObserver(l=>{const c=l[0],h=c.contentRect.width,g=c.contentRect.height;h===0&&g===0||r(h,g)});return a.observe(s),FM(n,r),a}function zf(n,t,e){e&&e.disconnect(),t==="resize"&&zM(n)}function WM(n,t,e){const i=n.canvas,s=xw(r=>{n.ctx!==null&&e(LM(r,n))},n);return RM(i,t,s),s}class UM extends $w{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(DM(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Eh])return!1;const i=e[Eh].initial;["height","width"].forEach(r=>{const a=i[r];De(a)?e.removeAttribute(r):e.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[Eh],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),a={attach:NM,detach:VM,resize:BM}[e]||WM;s[e]=a(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:zf,detach:zf,resize:zf}[e]||OM)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return DC(t,e,i,s)}isAttached(t){const e=t&&Um(t);return!!(e&&e.isConnected)}}function HM(n){return!Wm()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?MM:UM}var ph;let Wo=(ph=class{constructor(){Ot(this,"x");Ot(this,"y");Ot(this,"active",!1);Ot(this,"options");Ot(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Vl(this.x)&&Vl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},Ot(ph,"defaults",{}),Ot(ph,"defaultRoutes"),ph);function jM(n,t){const e=n.options.ticks,i=YM(n),s=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?qM(t):[],a=r.length,l=r[0],c=r[a-1],h=[];if(a>s)return GM(t,h,r,a/s),h;const g=$M(r,t,s);if(a>0){let w,x;const C=a>1?Math.round((c-l)/(a-1)):null;for(th(t,h,g,De(C)?0:l-C,l),w=0,x=a-1;w<x;w++)th(t,h,g,r[w],r[w+1]);return th(t,h,g,c,De(C)?t.length:c+C),h}return th(t,h,g),h}function YM(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function $M(n,t,e){const i=ZM(n),s=t.length/e;if(!i)return Math.max(s,1);const r=LI(i);for(let a=0,l=r.length-1;a<l;a++){const c=r[a];if(c>s)return c}return Math.max(s,1)}function qM(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function GM(n,t,e,i){let s=0,r=e[0],a;for(i=Math.ceil(i),a=0;a<n.length;a++)a===r&&(t.push(n[a]),s++,r=e[s*i])}function th(n,t,e,i,s){const r=ke(i,0),a=Math.min(ke(s,n.length),n.length);let l=0,c,h,g;for(e=Math.ceil(e),s&&(c=s-i,e=c/Math.floor(c/e)),g=r;g<0;)l++,g=Math.round(r+l*e);for(h=Math.max(r,0);h<a;h++)h===g&&(t.push(n[h]),l++,g=Math.round(r+l*e))}function ZM(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const KM=n=>n==="left"?"right":n==="right"?"left":n,j_=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Y_=(n,t)=>Math.min(t||n,n);function $_(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function XM(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,a=n._endPixel,l=1e-6;let c=n.getPixelForTick(s),h;if(!(e&&(i===1?h=Math.max(c-r,a-c):t===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(s-1))/2,c+=s<t?h:-h,c<r-l||c>a+l)))return c}function QM(n,t){ln(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}function dc(n){return n.drawTicks?n.tickLength:0}function q_(n,t){if(!n.display)return 0;const e=pi(n.font,t),i=ns(n.padding);return(Dn(n.text)?n.text.length:1)*e.lineHeight+i.height}function JM(n,t){return ka(n,{scale:t,type:"scale"})}function tA(n,t,e){return ka(n,{tick:e,index:t,type:"tick"})}function eA(n,t,e){let i=Lm(n);return(e&&t!=="right"||!e&&t==="right")&&(i=KM(i)),i}function nA(n,t,e,i){const{top:s,left:r,bottom:a,right:l,chart:c}=n,{chartArea:h,scales:g}=c;let w=0,x,C,P;const A=a-s,V=l-r;if(n.isHorizontal()){if(C=Xi(i,r,l),Ne(e)){const j=Object.keys(e)[0],K=e[j];P=g[j].getPixelForValue(K)+A-t}else e==="center"?P=(h.bottom+h.top)/2+A-t:P=j_(n,e,t);x=l-r}else{if(Ne(e)){const j=Object.keys(e)[0],K=e[j];C=g[j].getPixelForValue(K)-V+t}else e==="center"?C=(h.left+h.right)/2-V+t:C=j_(n,e,t);P=Xi(i,a,s),w=e==="left"?-Xn:Xn}return{titleX:C,titleY:P,maxWidth:x,rotation:w}}class il extends Wo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Vs(t,Number.POSITIVE_INFINITY),e=Vs(e,Number.NEGATIVE_INFINITY),i=Vs(i,Number.POSITIVE_INFINITY),s=Vs(s,Number.NEGATIVE_INFINITY),{min:Vs(t,i),max:Vs(e,s),minDefined:jn(t),maxDefined:jn(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,h=l.length;c<h;++c)a=l[c].controller.getMinMax(this,t),s||(e=Math.min(e,a.min)),r||(i=Math.max(i,a.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:Vs(e,Vs(i,e)),max:Vs(i,Vs(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=uC(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?$_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=jM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yn(this.options.afterUpdate,[this])}beforeSetDimensions(){yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),yn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=yn(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Y_(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,r=e.maxRotation;let a=s,l,c,h;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const g=this._getLabelSizes(),w=g.widest.width,x=g.highest.height,C=Mi(this.chart.width-w,0,this.maxWidth);l=t.offset?this.maxWidth/i:C/(i-1),w+6>l&&(l=C/(i-(t.offset?.5:1)),c=this.maxHeight-dc(t.grid)-e.padding-q_(t.title,this.chart.options.font),h=Math.sqrt(w*w+x*x),a=Rm(Math.min(Math.asin(Mi((g.highest.height+6)/l,-1,1)),Math.asin(Mi(c/h,-1,1))-Math.asin(Mi(x/h,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=q_(s,e.options.font);if(l?(t.width=this.maxWidth,t.height=dc(r)+c):(t.height=this.maxHeight,t.width=dc(r)+c),i.display&&this.ticks.length){const{first:h,last:g,widest:w,highest:x}=this._getLabelSizes(),C=i.padding*2,P=gr(this.labelRotation),A=Math.cos(P),V=Math.sin(P);if(l){const j=i.mirror?0:V*w.width+A*x.height;t.height=Math.min(this.maxHeight,t.height+j+C)}else{const j=i.mirror?0:A*w.width+V*x.height;t.width=Math.min(this.maxWidth,t.width+j+C)}this._calculatePadding(h,g,V,A)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:a},position:l}=this.options,c=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,C=0;c?h?(x=s*t.width,C=i*e.height):(x=i*t.height,C=s*e.width):r==="start"?C=e.width:r==="end"?x=t.width:r!=="inner"&&(x=t.width/2,C=e.width/2),this.paddingLeft=Math.max((x-g+a)*this.width/(this.width-g),0),this.paddingRight=Math.max((C-w+a)*this.width/(this.width-w),0)}else{let g=e.height/2,w=t.height/2;r==="start"?(g=0,w=t.height):r==="end"&&(g=e.height,w=0),this.paddingTop=g+a,this.paddingBottom=w+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)De(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=$_(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:r}=this,a=[],l=[],c=Math.floor(e/Y_(e,i));let h=0,g=0,w,x,C,P,A,V,j,K,Q,it,rt;for(w=0;w<e;w+=c){if(P=t[w].label,A=this._resolveTickFontOptions(w),s.font=V=A.string,j=r[V]=r[V]||{data:{},gc:[]},K=A.lineHeight,Q=it=0,!De(P)&&!Dn(P))Q=Xh(s,j.data,j.gc,Q,P),it=K;else if(Dn(P))for(x=0,C=P.length;x<C;++x)rt=P[x],!De(rt)&&!Dn(rt)&&(Q=Xh(s,j.data,j.gc,Q,rt),it+=K);a.push(Q),l.push(it),h=Math.max(Q,h),g=Math.max(it,g)}QM(r,e);const ft=a.indexOf(h),y=l.indexOf(g),N=z=>({width:a[z]||0,height:l[z]||0});return{first:N(0),last:N(e-1),widest:N(ft),highest:N(y),widths:a,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return zI(this._alignToPixels?Oa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=tA(this.getContext(),t,i))}return this.$context||(this.$context=JM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=gr(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),a=t.autoSkipPadding||0,l=r?r.widest.width+a:0,c=r?r.highest.height+a:0;return this.isHorizontal()?c*i>l*s?l/i:c/s:c*s<l*i?c/i:l/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:l}=s,c=r.offset,h=this.isHorizontal(),w=this.ticks.length+(c?1:0),x=dc(r),C=[],P=l.setContext(this.getContext()),A=P.display?P.width:0,V=A/2,j=function(Pt){return Oa(i,Pt,A)};let K,Q,it,rt,ft,y,N,z,H,q,Z,$;if(a==="top")K=j(this.bottom),y=this.bottom-x,z=K-V,q=j(t.top)+V,$=t.bottom;else if(a==="bottom")K=j(this.top),q=t.top,$=j(t.bottom)-V,y=K+V,z=this.top+x;else if(a==="left")K=j(this.right),ft=this.right-x,N=K-V,H=j(t.left)+V,Z=t.right;else if(a==="right")K=j(this.left),H=t.left,Z=j(t.right)-V,ft=K+V,N=this.left+x;else if(e==="x"){if(a==="center")K=j((t.top+t.bottom)/2+.5);else if(Ne(a)){const Pt=Object.keys(a)[0],Wt=a[Pt];K=j(this.chart.scales[Pt].getPixelForValue(Wt))}q=t.top,$=t.bottom,y=K+V,z=y+x}else if(e==="y"){if(a==="center")K=j((t.left+t.right)/2);else if(Ne(a)){const Pt=Object.keys(a)[0],Wt=a[Pt];K=j(this.chart.scales[Pt].getPixelForValue(Wt))}ft=K-V,N=ft-x,H=t.left,Z=t.right}const Bt=ke(s.ticks.maxTicksLimit,w),Xt=Math.max(1,Math.ceil(w/Bt));for(Q=0;Q<w;Q+=Xt){const Pt=this.getContext(Q),Wt=r.setContext(Pt),At=l.setContext(Pt),de=Wt.lineWidth,Rt=Wt.color,xt=At.dash||[],Mt=At.dashOffset,It=Wt.tickWidth,Qt=Wt.tickColor,yt=Wt.tickBorderDash||[],Ut=Wt.tickBorderDashOffset;it=XM(this,Q,c),it!==void 0&&(rt=Oa(i,it,de),h?ft=N=H=Z=rt:y=z=q=$=rt,C.push({tx1:ft,ty1:y,tx2:N,ty2:z,x1:H,y1:q,x2:Z,y2:$,width:de,color:Rt,borderDash:xt,borderDashOffset:Mt,tickWidth:It,tickColor:Qt,tickBorderDash:yt,tickBorderDashOffset:Ut}))}return this._ticksLength=w,this._borderValue=K,C}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:g,mirror:w}=r,x=dc(i.grid),C=x+g,P=w?-g:C,A=-gr(this.labelRotation),V=[];let j,K,Q,it,rt,ft,y,N,z,H,q,Z,$="middle";if(s==="top")ft=this.bottom-P,y=this._getXAxisLabelAlignment();else if(s==="bottom")ft=this.top+P,y=this._getXAxisLabelAlignment();else if(s==="left"){const Xt=this._getYAxisLabelAlignment(x);y=Xt.textAlign,rt=Xt.x}else if(s==="right"){const Xt=this._getYAxisLabelAlignment(x);y=Xt.textAlign,rt=Xt.x}else if(e==="x"){if(s==="center")ft=(t.top+t.bottom)/2+C;else if(Ne(s)){const Xt=Object.keys(s)[0],Pt=s[Xt];ft=this.chart.scales[Xt].getPixelForValue(Pt)+C}y=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")rt=(t.left+t.right)/2-C;else if(Ne(s)){const Xt=Object.keys(s)[0],Pt=s[Xt];rt=this.chart.scales[Xt].getPixelForValue(Pt)}y=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(c==="start"?$="top":c==="end"&&($="bottom"));const Bt=this._getLabelSizes();for(j=0,K=l.length;j<K;++j){Q=l[j],it=Q.label;const Xt=r.setContext(this.getContext(j));N=this.getPixelForTick(j)+r.labelOffset,z=this._resolveTickFontOptions(j),H=z.lineHeight,q=Dn(it)?it.length:1;const Pt=q/2,Wt=Xt.color,At=Xt.textStrokeColor,de=Xt.textStrokeWidth;let Rt=y;a?(rt=N,y==="inner"&&(j===K-1?Rt=this.options.reverse?"left":"right":j===0?Rt=this.options.reverse?"right":"left":Rt="center"),s==="top"?h==="near"||A!==0?Z=-q*H+H/2:h==="center"?Z=-Bt.highest.height/2-Pt*H+H:Z=-Bt.highest.height+H/2:h==="near"||A!==0?Z=H/2:h==="center"?Z=Bt.highest.height/2-Pt*H:Z=Bt.highest.height-q*H,w&&(Z*=-1),A!==0&&!Xt.showLabelBackdrop&&(rt+=H/2*Math.sin(A))):(ft=N,Z=(1-q)*H/2);let xt;if(Xt.showLabelBackdrop){const Mt=ns(Xt.backdropPadding),It=Bt.heights[j],Qt=Bt.widths[j];let yt=Z-Mt.top,Ut=0-Mt.left;switch($){case"middle":yt-=It/2;break;case"bottom":yt-=It;break}switch(y){case"center":Ut-=Qt/2;break;case"right":Ut-=Qt;break;case"inner":j===K-1?Ut-=Qt:j>0&&(Ut-=Qt/2);break}xt={left:Ut,top:yt,width:Qt+Mt.width,height:It+Mt.height,color:Xt.backdropColor}}V.push({label:it,font:z,textOffset:Z,options:{rotation:A,color:Wt,strokeColor:At,strokeWidth:de,textAlign:Rt,textBaseline:$,translation:[rt,ft],backdrop:xt}})}return V}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-gr(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),l=t+r,c=a.widest.width;let h,g;return e==="left"?s?(g=this.right+r,i==="near"?h="left":i==="center"?(h="center",g+=c/2):(h="right",g+=c)):(g=this.right-l,i==="near"?h="right":i==="center"?(h="center",g-=c/2):(h="left",g=this.left)):e==="right"?s?(g=this.left+r,i==="near"?h="right":i==="center"?(h="center",g-=c/2):(h="left",g-=c)):(g=this.left+l,i==="near"?h="left":i==="center"?(h="center",g+=c/2):(h="right",g=this.right)):h="right",{textAlign:h,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,a;const l=(c,h,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(e.display)for(r=0,a=s.length;r<a;++r){const c=s[r];e.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),e.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const l=s.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let h,g,w,x;this.isHorizontal()?(h=Oa(t,this.left,a)-a/2,g=Oa(t,this.right,l)+l/2,w=x=c):(w=Oa(t,this.top,a)-a/2,x=Oa(t,this.bottom,l)+l/2,h=g=c),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(h,w),e.lineTo(g,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Ld(i,s);const r=this.getLabelItems(t);for(const a of r){const l=a.options,c=a.font,h=a.label,g=a.textOffset;Ga(i,h,0,g,c,l)}s&&Nd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=pi(i.font),a=ns(i.padding),l=i.align;let c=r.lineHeight/2;e==="bottom"||e==="center"||Ne(e)?(c+=a.bottom,Dn(i.text)&&(c+=r.lineHeight*(i.text.length-1))):c+=a.top;const{titleX:h,titleY:g,maxWidth:w,rotation:x}=nA(this,c,e,l);Ga(t,i.text,0,0,r,{color:i.color,maxWidth:w,rotation:x,textAlign:eA(l,e,s),textBaseline:"middle",translation:[h,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ke(t.grid&&t.grid.z,-1),s=ke(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==il.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=e.length;r<a;++r){const l=e[r];l[i]===this.id&&(!t||l.type===t)&&s.push(l)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pi(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class eh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;rA(e)&&(i=this.register(e));const s=this.items,r=t.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,iA(t,a,i),this.override&&Rn.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in Rn[s]&&(delete Rn[s][i],this.override&&delete qa[i])}}function iA(n,t,e){const i=qc(Object.create(null),[e?Rn.get(e):{},Rn.get(t),n.defaults]);Rn.set(t,i),n.defaultRoutes&&sA(t,n.defaultRoutes),n.descriptors&&Rn.describe(t,n.descriptors)}function sA(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),c=a.join(".");Rn.route(r,s,c,l)})}function rA(n){return"id"in n&&"defaults"in n}class oA{constructor(){this.controllers=new eh(vr,"datasets",!0),this.elements=new eh(Wo,"elements"),this.plugins=new eh(Object,"plugins"),this.scales=new eh(il,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):ln(s,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const s=Dm(t);yn(i["before"+s],[],i),e[t](i),yn(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Vr=new oA;class aA{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,s){s=s||{};for(const r of t){const a=r.plugin,l=a[i],c=[e,s,r.options];if(yn(l,c,a)===!1&&s.cancelable)return!1}return!0}invalidate(){De(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=ke(i.options&&i.options.plugins,{}),r=lA(i);return s===!1&&!e?[]:uA(t,r,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function lA(n){const t={},e=[],i=Object.keys(Vr.plugins.items);for(let r=0;r<i.length;r++)e.push(Vr.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];e.indexOf(a)===-1&&(e.push(a),t[a.id]=!0)}return{plugins:e,localIds:t}}function cA(n,t){return!t&&n===!1?null:n===!0?{}:n}function uA(n,{plugins:t,localIds:e},i,s){const r=[],a=n.getContext();for(const l of t){const c=l.id,h=cA(i[c],s);h!==null&&r.push({plugin:l,options:hA(n.config,{plugin:l,local:e[c]},h,a)})}return r}function hA(n,{plugin:t,local:e},i,s){const r=n.pluginScopeKeys(t),a=n.getOptionScopes(i,r);return e&&t.defaults&&a.push(t.defaults),n.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bp(n,t){const e=Rn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function dA(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function fA(n,t){return n===t?"_index_":"_value_"}function G_(n){if(n==="x"||n==="y"||n==="r")return n}function pA(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Tp(n,...t){if(G_(n))return n;for(const e of t){const i=e.axis||pA(e.position)||n.length>1&&G_(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Z_(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function mA(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Z_(n,"x",e[0])||Z_(n,"y",e[0])}return{}}function gA(n,t){const e=qa[n.type]||{scales:{}},i=t.scales||{},s=bp(n.type,t),r=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ne(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Tp(a,l,mA(a,n),Rn.scales[l.type]),h=fA(c,s),g=e.scales||{};r[a]=Mc(Object.create(null),[{axis:c},l,g[c],g[h]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||bp(l,t),g=(qa[l]||{}).scales||{};Object.keys(g).forEach(w=>{const x=dA(w,c),C=a[x+"AxisID"]||x;r[C]=r[C]||Object.create(null),Mc(r[C],[{axis:x},i[C],g[w]])})}),Object.keys(r).forEach(a=>{const l=r[a];Mc(l,[Rn.scales[l.type],Rn.scale])}),r}function Zw(n){const t=n.options||(n.options={});t.plugins=ke(t.plugins,{}),t.scales=gA(n,t)}function Kw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _A(n){return n=n||{},n.data=Kw(n.data),Zw(n),n}const K_=new Map,Xw=new Set;function nh(n,t){let e=K_.get(n);return e||(e=t(),K_.set(n,e),Xw.add(e)),e}const fc=(n,t,e)=>{const i=ya(t,e);i!==void 0&&n.add(i)};class yA{constructor(t){this._config=_A(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Zw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return nh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return nh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return nh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return nh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const c=new Set;e.forEach(g=>{t&&(c.add(t),g.forEach(w=>fc(c,t,w))),g.forEach(w=>fc(c,s,w)),g.forEach(w=>fc(c,qa[r]||{},w)),g.forEach(w=>fc(c,Rn,w)),g.forEach(w=>fc(c,yp,w))});const h=Array.from(c);return h.length===0&&h.push(Object.create(null)),Xw.has(e)&&a.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,qa[e]||{},Rn.datasets[e]||{},{type:e},Rn,yp]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:l}=X_(this._resolverCache,t,s);let c=a;if(wA(a,e)){r.$shared=!1,i=va(i)?i():i;const h=this.createResolver(t,i,l);c=Fl(a,i,h)}for(const h of e)r[h]=c[h];return r}createResolver(t,e,i=[""],s){const{resolver:r}=X_(this._resolverCache,t,i);return Ne(e)?Fl(r,e,void 0,s):r}}function X_(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:Fm(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(s,r)),r}const vA=n=>Ne(n)&&Object.getOwnPropertyNames(n).some(t=>va(n[t]));function wA(n,t){const{isScriptable:e,isIndexable:i}=Cw(n);for(const s of t){const r=e(s),a=i(s),l=(a||r)&&n[s];if(r&&(va(l)||vA(l))||a&&Dn(l))return!0}return!1}var bA="4.4.9";const TA=["top","bottom","left","right","chartArea"];function Q_(n,t){return n==="top"||n==="bottom"||TA.indexOf(n)===-1&&t==="x"}function J_(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function ty(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),yn(e&&e.onComplete,[n],t)}function xA(n){const t=n.chart,e=t.options.animation;yn(e&&e.onProgress,[n],t)}function Qw(n){return Wm()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const kh={},ey=n=>{const t=Qw(n);return Object.values(kh).filter(e=>e.canvas===t).pop()};function SA(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const a=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=a)}}}function EA(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class Qo{static register(...t){Vr.add(...t),ny()}static unregister(...t){Vr.remove(...t),ny()}constructor(t,e){const i=this.config=new yA(e),s=Qw(t),r=ey(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||HM(s)),this.platform.updateConfig(i);const l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,h=c&&c.height,g=c&&c.width;if(this.id=kI(),this.ctx=l,this.canvas=c,this.width=g,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=HI(w=>this.update(w),a.resizeDelay||0),this._dataChanges=[],kh[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}_o.listen(this,"complete",ty),_o.listen(this,"progress",xA),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return De(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Vr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():S_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return b_(this.canvas,this.ctx),this}stop(){return _o.stop(this),this}resize(t,e){_o.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,e,r),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,S_(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),yn(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ln(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let r=[];e&&(r=r.concat(Object.keys(e).map(a=>{const l=e[a],c=Tp(a,l),h=c==="r",g=c==="x";return{options:l,dposition:h?"chartArea":g?"bottom":"left",dtype:h?"radialLinear":g?"category":"linear"}}))),ln(r,a=>{const l=a.options,c=l.id,h=Tp(c,l),g=ke(l.type,a.dtype);(l.position===void 0||Q_(l.position,h)!==Q_(a.dposition))&&(l.position=a.dposition),s[c]=!0;let w=null;if(c in i&&i[c].type===g)w=i[c];else{const x=Vr.getScale(g);w=new x({id:c,type:g,ctx:this.ctx,chart:this}),i[w.id]=w}w.init(l,t)}),ln(s,(a,l)=>{a||delete i[l]}),ln(i,a=>{ts.configure(this,a,a.options),ts.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(J_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let a=this.getDatasetMeta(i);const l=r.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=r.indexAxis||bp(l,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const c=Vr.getController(l),{datasetElementType:h,dataElementType:g}=Rn.datasets[l];Object.assign(c,{dataElementType:Vr.getElement(g),datasetElementType:h&&Vr.getElement(h)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ln(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,g=this.data.datasets.length;h<g;h++){const{controller:w}=this.getDatasetMeta(h),x=!s&&r.indexOf(w)===-1;w.buildOrUpdateElements(x),a=Math.max(+w.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||ln(r,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(J_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ln(this.scales,t=>{ts.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!d_(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e){const a=i==="_removeElements"?-r:r;SA(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(a=>a[0]===r).map((a,l)=>l+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!d_(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ts.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ln(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,va(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(_o.has(this)?this.attached&&!_o.running(this)&&_o.start(this):(this.draw(),ty({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const a=e[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=Bw(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&Ld(e,s),t.controller.draw(),s&&Nd(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Eo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const r=TM.modes[e];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ka(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),a=r.controller._resolveAnimations(void 0,s);Gc(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(r,{visible:i}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),_o.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),b_(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,a)=>{e.addEventListener(this,r,a),t[r]=a},s=(r,a,l)=>{r.offsetX=a,r.offsetY=l,this._eventHandler(r)};ln(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(c,h)=>{e.addEventListener(this,c,h),t[c]=h},s=(c,h)=>{t[c]&&(e.removeEventListener(this,c,h),delete t[c])},r=(c,h)=>{this.canvas&&this.resize(c,h)};let a;const l=()=>{s("attach",l),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){ln(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ln(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,a,l,c;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:a})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[a],index:a}});!Gh(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(c,h)=>c.filter(g=>!h.some(w=>g.datasetIndex===w.datasetIndex&&g.index===w.index)),a=r(e,t),l=i?t:r(t,e);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,a=e,l=this._getActiveElements(t,s,i,a),c=DI(t),h=EA(t,this._lastEvent,i,c);i&&(this._lastEvent=null,yn(r.onHover,[t,l,this],this),c&&yn(r.onClick,[t,l,this],this));const g=!Gh(l,s);return(g||e)&&(this._active=l,this._updateHoverStyles(l,s,e)),this._lastEvent=h,g}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}Ot(Qo,"defaults",Rn),Ot(Qo,"instances",kh),Ot(Qo,"overrides",qa),Ot(Qo,"registry",Vr),Ot(Qo,"version",bA),Ot(Qo,"getChart",ey);function ny(){return ln(Qo.instances,n=>n._plugins.invalidate())}function kA(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:l,innerRadius:c}=t;let h=s/l;n.beginPath(),n.arc(r,a,l,i-h,e+h),c>s?(h=s/c,n.arc(r,a,c,e+h,i-h,!0)):n.arc(r,a,s,e+Xn,i-Xn),n.closePath(),n.clip()}function PA(n){return Vm(n,["outerStart","outerEnd","innerStart","innerEnd"])}function IA(n,t,e,i){const s=PA(n.options.borderRadius),r=(e-t)/2,a=Math.min(r,i*t/2),l=c=>{const h=(e-Math.min(r,c))*i/2;return Mi(c,0,Math.min(r,h))};return{outerStart:l(s.outerStart),outerEnd:l(s.outerEnd),innerStart:Mi(s.innerStart,0,a),innerEnd:Mi(s.innerEnd,0,a)}}function vl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function td(n,t,e,i,s,r){const{x:a,y:l,startAngle:c,pixelMargin:h,innerRadius:g}=t,w=Math.max(t.outerRadius+i+e-h,0),x=g>0?g+i+e+h:0;let C=0;const P=s-c;if(i){const Xt=g>0?g-i:0,Pt=w>0?w-i:0,Wt=(Xt+Pt)/2,At=Wt!==0?P*Wt/(Wt+i):P;C=(P-At)/2}const A=Math.max(.001,P*w-e/xn)/w,V=(P-A)/2,j=c+V+C,K=s-V-C,{outerStart:Q,outerEnd:it,innerStart:rt,innerEnd:ft}=IA(t,x,w,K-j),y=w-Q,N=w-it,z=j+Q/y,H=K-it/N,q=x+rt,Z=x+ft,$=j+rt/q,Bt=K-ft/Z;if(n.beginPath(),r){const Xt=(z+H)/2;if(n.arc(a,l,w,z,Xt),n.arc(a,l,w,Xt,H),it>0){const de=vl(N,H,a,l);n.arc(de.x,de.y,it,H,K+Xn)}const Pt=vl(Z,K,a,l);if(n.lineTo(Pt.x,Pt.y),ft>0){const de=vl(Z,Bt,a,l);n.arc(de.x,de.y,ft,K+Xn,Bt+Math.PI)}const Wt=(K-ft/x+(j+rt/x))/2;if(n.arc(a,l,x,K-ft/x,Wt,!0),n.arc(a,l,x,Wt,j+rt/x,!0),rt>0){const de=vl(q,$,a,l);n.arc(de.x,de.y,rt,$+Math.PI,j-Xn)}const At=vl(y,j,a,l);if(n.lineTo(At.x,At.y),Q>0){const de=vl(y,z,a,l);n.arc(de.x,de.y,Q,j-Xn,z)}}else{n.moveTo(a,l);const Xt=Math.cos(z)*w+a,Pt=Math.sin(z)*w+l;n.lineTo(Xt,Pt);const Wt=Math.cos(H)*w+a,At=Math.sin(H)*w+l;n.lineTo(Wt,At)}n.closePath()}function CA(n,t,e,i,s){const{fullCircles:r,startAngle:a,circumference:l}=t;let c=t.endAngle;if(r){td(n,t,e,i,c,s);for(let h=0;h<r;++h)n.fill();isNaN(l)||(c=a+(l%Tn||Tn))}return td(n,t,e,i,c,s),n.fill(),c}function MA(n,t,e,i,s){const{fullCircles:r,startAngle:a,circumference:l,options:c}=t,{borderWidth:h,borderJoinStyle:g,borderDash:w,borderDashOffset:x}=c,C=c.borderAlign==="inner";if(!h)return;n.setLineDash(w||[]),n.lineDashOffset=x,C?(n.lineWidth=h*2,n.lineJoin=g||"round"):(n.lineWidth=h,n.lineJoin=g||"bevel");let P=t.endAngle;if(r){td(n,t,e,i,P,s);for(let A=0;A<r;++A)n.stroke();isNaN(l)||(P=a+(l%Tn||Tn))}C&&kA(n,t,P),r||(td(n,t,e,i,P,s),n.stroke())}class _c extends Wo{constructor(e){super();Ot(this,"circumference");Ot(this,"endAngle");Ot(this,"fullCircles");Ot(this,"innerRadius");Ot(this,"outerRadius");Ot(this,"pixelMargin");Ot(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.getProps(["x","y"],s),{angle:a,distance:l}=vw(r,{x:e,y:i}),{startAngle:c,endAngle:h,innerRadius:g,outerRadius:w,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),C=(this.options.spacing+this.options.borderWidth)/2,P=ke(x,h-c),A=Zc(a,c,h)&&c!==h,V=P>=Tn||A,j=xo(l,g+C,w+C);return V&&j}getCenterPoint(e){const{x:i,y:s,startAngle:r,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:g}=this.options,w=(r+a)/2,x=(l+c+g+h)/2;return{x:i+Math.cos(w)*x,y:s+Math.sin(w)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Tn?Math.floor(s/Tn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const h=1-Math.sin(Math.min(xn,s||0)),g=r*h;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,CA(e,this,g,a,l),MA(e,this,g,a,l),e.restore()}}Ot(_c,"id","arc"),Ot(_c,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ot(_c,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ot(_c,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Jw(n,t,e=t){n.lineCap=ke(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ke(e.borderDash,t.borderDash)),n.lineDashOffset=ke(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ke(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ke(e.borderWidth,t.borderWidth),n.strokeStyle=ke(e.borderColor,t.borderColor)}function AA(n,t,e){n.lineTo(e.x,e.y)}function DA(n){return n.stepped?eC:n.tension||n.cubicInterpolationMode==="monotone"?nC:AA}function tb(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:a,end:l}=t,c=Math.max(s,a),h=Math.min(r,l),g=s<a&&r<a||s>l&&r>l;return{count:i,start:c,loop:t.loop,ilen:h<c&&!g?i+h-c:h-c}}function RA(n,t,e,i){const{points:s,options:r}=t,{count:a,start:l,loop:c,ilen:h}=tb(s,e,i),g=DA(r);let{move:w=!0,reverse:x}=i||{},C,P,A;for(C=0;C<=h;++C)P=s[(l+(x?h-C:C))%a],!P.skip&&(w?(n.moveTo(P.x,P.y),w=!1):g(n,A,P,x,r.stepped),A=P);return c&&(P=s[(l+(x?h:0))%a],g(n,A,P,x,r.stepped)),!!c}function OA(n,t,e,i){const s=t.points,{count:r,start:a,ilen:l}=tb(s,e,i),{move:c=!0,reverse:h}=i||{};let g=0,w=0,x,C,P,A,V,j;const K=it=>(a+(h?l-it:it))%r,Q=()=>{A!==V&&(n.lineTo(g,V),n.lineTo(g,A),n.lineTo(g,j))};for(c&&(C=s[K(0)],n.moveTo(C.x,C.y)),x=0;x<=l;++x){if(C=s[K(x)],C.skip)continue;const it=C.x,rt=C.y,ft=it|0;ft===P?(rt<A?A=rt:rt>V&&(V=rt),g=(w*g+it)/++w):(Q(),n.lineTo(it,rt),P=ft,w=0,A=V=rt),j=rt}Q()}function xp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?OA:RA}function LA(n){return n.stepped?OC:n.tension||n.cubicInterpolationMode==="monotone"?LC:Fa}function NA(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),Jw(n,t.options),n.stroke(s)}function VA(n,t,e,i){const{segments:s,options:r}=t,a=xp(t);for(const l of s)Jw(n,r,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const FA=typeof Path2D=="function";function zA(n,t,e,i){FA&&!t.options.segment?NA(n,t,e,i):VA(n,t,e,i)}class aa extends Wo{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;kC(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=WC(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],r=this.points,a=zw(this,{property:e,start:s,end:s});if(!a.length)return;const l=[],c=LA(i);let h,g;for(h=0,g=a.length;h<g;++h){const{start:w,end:x}=a[h],C=r[w],P=r[x];if(C===P){l.push(C);continue}const A=Math.abs((s-C[e])/(P[e]-C[e])),V=c(C,P,A,i.stepped);V[e]=t[e],l.push(V)}return l.length===1?l[0]:l}pathSegment(t,e,i){return xp(this)(t,this,e,i)}path(t,e,i){const s=this.segments,r=xp(this);let a=this._loop;e=e||0,i=i||this.points.length-e;for(const l of s)a&=r(t,this,l,{start:e,end:e+i-1});return!!a}draw(t,e,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),zA(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ot(aa,"id","line"),Ot(aa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ot(aa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ot(aa,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iy(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Ph extends Wo{constructor(e){super();Ot(this,"parsed");Ot(this,"skip");Ot(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:a,y:l}=this.getProps(["x","y"],s);return Math.pow(e-a,2)+Math.pow(i-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return iy(this,e,"x",i)}inYRange(e,i){return iy(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Eo(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,vp(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Ot(Ph,"id","point"),Ot(Ph,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ot(Ph,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function eb(n,t){const{x:e,y:i,base:s,width:r,height:a}=n.getProps(["x","y","base","width","height"],t);let l,c,h,g,w;return n.horizontal?(w=a/2,l=Math.min(e,s),c=Math.max(e,s),h=i-w,g=i+w):(w=r/2,l=e-w,c=e+w,h=Math.min(i,s),g=Math.max(i,s)),{left:l,top:h,right:c,bottom:g}}function la(n,t,e,i){return n?0:Mi(t,e,i)}function BA(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,r=Iw(i);return{t:la(s.top,r.top,0,e),r:la(s.right,r.right,0,t),b:la(s.bottom,r.bottom,0,e),l:la(s.left,r.left,0,t)}}function WA(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=Ya(s),a=Math.min(t,e),l=n.borderSkipped,c=i||Ne(s);return{topLeft:la(!c||l.top||l.left,r.topLeft,0,a),topRight:la(!c||l.top||l.right,r.topRight,0,a),bottomLeft:la(!c||l.bottom||l.left,r.bottomLeft,0,a),bottomRight:la(!c||l.bottom||l.right,r.bottomRight,0,a)}}function UA(n){const t=eb(n),e=t.right-t.left,i=t.bottom-t.top,s=BA(n,e/2,i/2),r=WA(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Bf(n,t,e,i){const s=t===null,r=e===null,l=n&&!(s&&r)&&eb(n,i);return l&&(s||xo(t,l.left,l.right))&&(r||xo(e,l.top,l.bottom))}function HA(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jA(n,t){n.rect(t.x,t.y,t.w,t.h)}function Wf(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,r=(n.x+n.w!==e.x+e.w?t:0)-i,a=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+r,h:n.h+a,radius:n.radius}}class Ih extends Wo{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=UA(this),l=HA(a.radius)?Kc:jA;t.save(),(a.w!==r.w||a.h!==r.h)&&(t.beginPath(),l(t,Wf(a,e,r)),t.clip(),l(t,Wf(r,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,Wf(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Bf(this,t,e,i)}inXRange(t,e){return Bf(this,t,null,e)}inYRange(t,e){return Bf(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Ot(Ih,"id","bar"),Ot(Ih,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ot(Ih,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var YA=Object.freeze({__proto__:null,ArcElement:_c,BarElement:Ih,LineElement:aa,PointElement:Ph});const Sp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sy=Sp.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function nb(n){return Sp[n%Sp.length]}function ib(n){return sy[n%sy.length]}function $A(n,t){return n.borderColor=nb(t),n.backgroundColor=ib(t),++t}function qA(n,t){return n.backgroundColor=n.data.map(()=>nb(t++)),t}function GA(n,t){return n.backgroundColor=n.data.map(()=>ib(t++)),t}function ZA(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Ua?t=qA(e,t):s instanceof Oc?t=GA(e,t):s&&(t=$A(e,t))}}function ry(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function KA(n){return n&&(n.borderColor||n.backgroundColor)}function XA(){return Rn.borderColor!=="rgba(0,0,0,0.1)"||Rn.backgroundColor!=="rgba(0,0,0,0.1)"}var QA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:r}=s,a=ry(i)||KA(s)||r&&ry(r)||XA();if(!e.forceOverride&&a)return;const l=ZA(n);i.forEach(l)}};function JA(n,t,e,i,s){const r=s.samples||i;if(r>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(r-2);let c=0;const h=t+e-1;let g=t,w,x,C,P,A;for(a[c++]=n[g],w=0;w<r-2;w++){let V=0,j=0,K;const Q=Math.floor((w+1)*l)+1+t,it=Math.min(Math.floor((w+2)*l)+1,e)+t,rt=it-Q;for(K=Q;K<it;K++)V+=n[K].x,j+=n[K].y;V/=rt,j/=rt;const ft=Math.floor(w*l)+1+t,y=Math.min(Math.floor((w+1)*l)+1,e)+t,{x:N,y:z}=n[g];for(C=P=-1,K=ft;K<y;K++)P=.5*Math.abs((N-V)*(n[K].y-z)-(N-n[K].x)*(j-z)),P>C&&(C=P,x=n[K],A=K);a[c++]=x,g=A}return a[c++]=n[h],a}function tD(n,t,e,i){let s=0,r=0,a,l,c,h,g,w,x,C,P,A;const V=[],j=t+e-1,K=n[t].x,it=n[j].x-K;for(a=t;a<t+e;++a){l=n[a],c=(l.x-K)/it*i,h=l.y;const rt=c|0;if(rt===g)h<P?(P=h,w=a):h>A&&(A=h,x=a),s=(r*s+l.x)/++r;else{const ft=a-1;if(!De(w)&&!De(x)){const y=Math.min(w,x),N=Math.max(w,x);y!==C&&y!==ft&&V.push({...n[y],x:s}),N!==C&&N!==ft&&V.push({...n[N],x:s})}a>0&&ft!==C&&V.push(n[ft]),V.push(l),g=rt,r=0,P=A=h,w=x=C=a}}return V}function sb(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function oy(n){n.data.datasets.forEach(t=>{sb(t)})}function eD(n,t){const e=t.length;let i=0,s;const{iScale:r}=n,{min:a,max:l,minDefined:c,maxDefined:h}=r.getUserBounds();return c&&(i=Mi(So(t,r.axis,a).lo,0,e-1)),h?s=Mi(So(t,r.axis,l).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var nD={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){oy(n);return}const i=n.width;n.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:l}=s,c=n.getDatasetMeta(r),h=a||s.data;if(mc([l,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const g=n.scales[c.xAxisID];if(g.type!=="linear"&&g.type!=="time"||n.options.parsing)return;let{start:w,count:x}=eD(c,h);const C=e.threshold||4*i;if(x<=C){sb(s);return}De(a)&&(s._data=h,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let P;switch(e.algorithm){case"lttb":P=JA(h,w,x,i,e);break;case"min-max":P=tD(h,w,x,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=P})},destroy(n){oy(n)}};function iD(n,t,e){const i=n.segments,s=n.points,r=t.points,a=[];for(const l of i){let{start:c,end:h}=l;h=jm(c,h,s);const g=Ep(e,s[c],s[h],l.loop);if(!t.segments){a.push({source:l,target:g,start:s[c],end:s[h]});continue}const w=zw(t,g);for(const x of w){const C=Ep(e,r[x.start],r[x.end],x.loop),P=Fw(l,s,C);for(const A of P)a.push({source:A,target:x,start:{[e]:ay(g,C,"start",Math.max)},end:{[e]:ay(g,C,"end",Math.min)}})}}return a}function Ep(n,t,e,i){if(i)return;let s=t[n],r=e[n];return n==="angle"&&(s=Fs(s),r=Fs(r)),{property:n,start:s,end:r}}function sD(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:a,end:l})=>{l=jm(a,l,s);const c=s[a],h=s[l];i!==null?(r.push({x:c.x,y:i}),r.push({x:h.x,y:i})):e!==null&&(r.push({x:e,y:c.y}),r.push({x:e,y:h.y}))}),r}function jm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ay(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function rb(n,t){let e=[],i=!1;return Dn(n)?(i=!0,e=n):e=sD(n,t),e.length?new aa({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function ly(n){return n&&n.fill!==!1}function rD(n,t,e){let s=n[t].fill;const r=[t];let a;if(!e)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!jn(s))return s;if(a=n[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function oD(n,t,e){const i=uD(n);if(Ne(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return jn(s)&&Math.floor(s)===s?aD(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function aD(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function lD(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Ne(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function cD(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Ne(n)?i=n.value:i=t.getBaseValue(),i}function uD(n){const t=n.options,e=t.fill;let i=ke(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function hD(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,a=i.points,l=dD(t,e);l.push(rb({x:null,y:t.bottom},i));for(let c=0;c<r.length;c++){const h=r[c];for(let g=h.start;g<=h.end;g++)fD(s,a[g],l)}return new aa({points:s,options:{}})}function dD(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function fD(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:a,last:l,point:c}=pD(r,t,"x");if(!(!c||a&&l)){if(a)i.unshift(c);else if(n.push(c),!l)break}}n.push(...i)}function pD(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,a=n.points;let l=!1,c=!1;for(let h=0;h<r.length;h++){const g=r[h],w=a[g.start][e],x=a[g.end][e];if(xo(s,w,x)){l=s===w,c=s===x;break}}return{first:l,last:c,point:i}}class ob{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:a}=this;return e=e||{start:0,end:Tn},t.arc(s,r,a,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function mD(n){const{chart:t,fill:e,line:i}=n;if(jn(e))return gD(t,e);if(e==="stack")return hD(n);if(e==="shape")return!0;const s=_D(n);return s instanceof ob?s:rb(s,i)}function gD(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function _D(n){return(n.scale||{}).getPointPositionForValue?vD(n):yD(n)}function yD(n){const{scale:t={},fill:e}=n,i=lD(e,t);if(jn(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function vD(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,a=cD(e,t,r),l=[];if(i.grid.circular){const c=t.getPointPositionForValue(0,r);return new ob({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(a)})}for(let c=0;c<s;++c)l.push(t.getPointPositionForValue(c,a));return l}function Uf(n,t,e){const i=mD(t),{chart:s,index:r,line:a,scale:l,axis:c}=t,h=a.options,g=h.fill,w=h.backgroundColor,{above:x=w,below:C=w}=g||{},P=s.getDatasetMeta(r),A=Bw(s,P);i&&a.points.length&&(Ld(n,e),wD(n,{line:a,target:i,above:x,below:C,area:e,scale:l,axis:c,clip:A}),Nd(n))}function wD(n,t){const{line:e,target:i,above:s,below:r,area:a,scale:l,clip:c}=t,h=e._loop?"angle":t.axis;n.save(),h==="x"&&r!==s&&(cy(n,i,a.top),uy(n,{line:e,target:i,color:s,scale:l,property:h,clip:c}),n.restore(),n.save(),cy(n,i,a.bottom)),uy(n,{line:e,target:i,color:r,scale:l,property:h,clip:c}),n.restore()}function cy(n,t,e){const{segments:i,points:s}=t;let r=!0,a=!1;n.beginPath();for(const l of i){const{start:c,end:h}=l,g=s[c],w=s[jm(c,h,s)];r?(n.moveTo(g.x,g.y),r=!1):(n.lineTo(g.x,e),n.lineTo(g.x,g.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(w.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function uy(n,t){const{line:e,target:i,property:s,color:r,scale:a,clip:l}=t,c=iD(e,i,s);for(const{source:h,target:g,start:w,end:x}of c){const{style:{backgroundColor:C=r}={}}=h,P=i!==!0;n.save(),n.fillStyle=C,bD(n,a,l,P&&Ep(s,w,x)),n.beginPath();const A=!!e.pathSegment(n,h);let V;if(P){A?n.closePath():hy(n,i,x,s);const j=!!i.pathSegment(n,g,{move:A,reverse:!0});V=A&&j,V||hy(n,i,w,s)}n.closePath(),n.fill(V?"evenodd":"nonzero"),n.restore()}}function bD(n,t,e,i){const s=t.chart.chartArea,{property:r,start:a,end:l}=i||{};if(r==="x"||r==="y"){let c,h,g,w;r==="x"?(c=a,h=s.top,g=l,w=s.bottom):(c=s.left,h=a,g=s.right,w=l),n.beginPath(),e&&(c=Math.max(c,e.left),g=Math.min(g,e.right),h=Math.max(h,e.top),w=Math.min(w,e.bottom)),n.rect(c,h,g-c,w-h),n.clip()}}function hy(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var TD={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,a,l,c;for(a=0;a<i;++a)r=n.getDatasetMeta(a),l=r.dataset,c=null,l&&l.options&&l instanceof aa&&(c={visible:n.isDatasetVisible(a),index:a,fill:oD(l,a,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=c,s.push(c);for(a=0;a<i;++a)c=s[a],!(!c||c.fill===!1)&&(c.fill=rD(s,a,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let a=s.length-1;a>=0;--a){const l=s[a].$filler;l&&(l.line.updateControlPoints(r,l.axis),i&&l.fill&&Uf(n.ctx,l,r))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;ly(r)&&Uf(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!ly(i)||e.drawTime!=="beforeDatasetDraw"||Uf(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const dy=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},xD=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class fy extends Wo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=yn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=pi(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=dy(i,r);let h,g;e.font=s.string,this.isHorizontal()?(h=this.maxWidth,g=this._fitRows(a,r,l,c)+10):(g=this.maxHeight,h=this._fitCols(a,s,l,c)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],g=s+l;let w=t;r.textAlign="left",r.textBaseline="middle";let x=-1,C=-g;return this.legendItems.forEach((P,A)=>{const V=i+e/2+r.measureText(P.text).width;(A===0||h[h.length-1]+V+2*l>a)&&(w+=g,h[h.length-(A>0?0:1)]=0,C+=g,x++),c[A]={left:0,top:C,row:x,width:V,height:s},h[h.length-1]+=V+l}),w}_fitCols(t,e,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],g=a-t;let w=l,x=0,C=0,P=0,A=0;return this.legendItems.forEach((V,j)=>{const{itemWidth:K,itemHeight:Q}=SD(i,e,r,V,s);j>0&&C+Q+2*l>g&&(w+=x+l,h.push({width:x,height:C}),P+=x+l,A++,x=C=0),c[j]={left:P,top:C,col:A,width:K,height:Q},x=Math.max(x,K),C+=Q+l}),w+=x,h.push({width:x,height:C}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,a=Dl(r,this.left,this.width);if(this.isHorizontal()){let l=0,c=Xi(i,this.left+s,this.right-this.lineWidths[l]);for(const h of e)l!==h.row&&(l=h.row,c=Xi(i,this.left+s,this.right-this.lineWidths[l])),h.top+=this.top+t+s,h.left=a.leftForLtr(a.x(c),h.width),c+=h.width+s}else{let l=0,c=Xi(i,this.top+t+s,this.bottom-this.columnSizes[l].height);for(const h of e)h.col!==l&&(l=h.col,c=Xi(i,this.top+t+s,this.bottom-this.columnSizes[l].height)),h.top=c,h.left+=this.left+s,h.left=a.leftForLtr(a.x(h.left),h.width),c+=h.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ld(t,this),this._draw(),Nd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:a}=t,l=Rn.color,c=Dl(t.rtl,this.left,this.width),h=pi(a.font),{padding:g}=a,w=h.size,x=w/2;let C;this.drawTitle(),s.textAlign=c.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:P,boxHeight:A,itemHeight:V}=dy(a,w),j=function(ft,y,N){if(isNaN(P)||P<=0||isNaN(A)||A<0)return;s.save();const z=ke(N.lineWidth,1);if(s.fillStyle=ke(N.fillStyle,l),s.lineCap=ke(N.lineCap,"butt"),s.lineDashOffset=ke(N.lineDashOffset,0),s.lineJoin=ke(N.lineJoin,"miter"),s.lineWidth=z,s.strokeStyle=ke(N.strokeStyle,l),s.setLineDash(ke(N.lineDash,[])),a.usePointStyle){const H={radius:A*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:z},q=c.xPlus(ft,P/2),Z=y+x;Pw(s,H,q,Z,a.pointStyleWidth&&P)}else{const H=y+Math.max((w-A)/2,0),q=c.leftForLtr(ft,P),Z=Ya(N.borderRadius);s.beginPath(),Object.values(Z).some($=>$!==0)?Kc(s,{x:q,y:H,w:P,h:A,radius:Z}):s.rect(q,H,P,A),s.fill(),z!==0&&s.stroke()}s.restore()},K=function(ft,y,N){Ga(s,N.text,ft,y+V/2,h,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},Q=this.isHorizontal(),it=this._computeTitleHeight();Q?C={x:Xi(r,this.left+g,this.right-i[0]),y:this.top+g+it,line:0}:C={x:this.left+g,y:Xi(r,this.top+it+g,this.bottom-e[0].height),line:0},Lw(this.ctx,t.textDirection);const rt=V+g;this.legendItems.forEach((ft,y)=>{s.strokeStyle=ft.fontColor,s.fillStyle=ft.fontColor;const N=s.measureText(ft.text).width,z=c.textAlign(ft.textAlign||(ft.textAlign=a.textAlign)),H=P+x+N;let q=C.x,Z=C.y;c.setWidth(this.width),Q?y>0&&q+H+g>this.right&&(Z=C.y+=rt,C.line++,q=C.x=Xi(r,this.left+g,this.right-i[C.line])):y>0&&Z+rt>this.bottom&&(q=C.x=q+e[C.line].width+g,C.line++,Z=C.y=Xi(r,this.top+it+g,this.bottom-e[C.line].height));const $=c.x(q);if(j($,Z,ft),q=jI(z,q+P+x,Q?q+H:this.right,t.rtl),K(c.x(q),Z,ft),Q)C.x+=H+g;else if(typeof ft.text!="string"){const Bt=h.lineHeight;C.y+=ab(ft,Bt)+g}else C.y+=rt}),Nw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pi(e.font),s=ns(e.padding);if(!e.display)return;const r=Dl(t.rtl,this.left,this.width),a=this.ctx,l=e.position,c=i.size/2,h=s.top+c;let g,w=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),g=this.top+h,w=Xi(t.align,w,this.right-x);else{const P=this.columnSizes.reduce((A,V)=>Math.max(A,V.height),0);g=h+Xi(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}const C=Xi(l,w,w+x);a.textAlign=r.textAlign(Lm(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Ga(a,e.text,C,g,i)}_computeTitleHeight(){const t=this.options.title,e=pi(t.font),i=ns(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(xo(t,this.left,this.right)&&xo(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],xo(t,s.left,s.left+s.width)&&xo(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!PD(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=xD(s,i);s&&!r&&yn(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&yn(e.onHover,[t,i,this],this)}else i&&yn(e.onClick,[t,i,this],this)}}function SD(n,t,e,i,s){const r=ED(i,n,t,e),a=kD(s,i,t.lineHeight);return{itemWidth:r,itemHeight:a}}function ED(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),t+e.size/2+i.measureText(s).width}function kD(n,t,e){let i=n;return typeof t.text!="string"&&(i=ab(t,e)),i}function ab(n,t){const e=n.text?n.text.length:0;return t*e}function PD(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var ID={id:"legend",_element:fy,start(n,t,e){const i=n.legend=new fy({ctx:n.ctx,options:e,chart:n});ts.configure(n,i,e),ts.addBox(n,i)},stop(n){ts.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ts.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const h=c.controller.getStyle(e?0:void 0),g=ns(h.borderWidth);return{text:t[c.index].label,fillStyle:h.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:s||h.textAlign,borderRadius:a&&(l||h.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Ym extends Wo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=Dn(i.text)?i.text.length:1;this._padding=ns(i.padding);const r=s*pi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:a}=this,l=a.align;let c=0,h,g,w;return this.isHorizontal()?(g=Xi(l,i,r),w=e+t,h=r-i):(a.position==="left"?(g=i+t,w=Xi(l,s,e),c=xn*-.5):(g=r-t,w=Xi(l,e,s),c=xn*.5),h=s-e),{titleX:g,titleY:w,maxWidth:h,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pi(e.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:h}=this._drawArgs(r);Ga(t,e.text,0,0,i,{color:e.color,maxWidth:c,rotation:h,textAlign:Lm(e.align),textBaseline:"middle",translation:[a,l]})}}function CD(n,t){const e=new Ym({ctx:n.ctx,options:t,chart:n});ts.configure(n,e,t),ts.addBox(n,e),n.titleBlock=e}var MD={id:"title",_element:Ym,start(n,t,e){CD(n,e)},stop(n){const t=n.titleBlock;ts.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ts.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ih=new WeakMap;var AD={id:"subtitle",start(n,t,e){const i=new Ym({ctx:n.ctx,options:e,chart:n});ts.configure(n,i,e),ts.addBox(n,i),ih.set(n,i)},stop(n){ts.removeBox(n,ih.get(n)),ih.delete(n)},beforeUpdate(n,t,e){const i=ih.get(n);ts.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yc={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,r=0;for(t=0,e=n.length;t<e;++t){const l=n[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),s+=c.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((l,c)=>l+c)/i.size,y:s/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,a,l;for(r=0,a=n.length;r<a;++r){const c=n[r].element;if(c&&c.hasValue()){const h=c.getCenterPoint(),g=_p(t,h);g<s&&(s=g,l=c)}}if(l){const c=l.tooltipPosition();e=c.x,i=c.y}return{x:e,y:i}}};function Nr(n,t){return t&&(Dn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function yo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function DD(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:a,value:l}=r.getLabelAndValue(s);return{chart:n,label:a,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:l,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function py(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:a,boxHeight:l}=t,c=pi(t.bodyFont),h=pi(t.titleFont),g=pi(t.footerFont),w=r.length,x=s.length,C=i.length,P=ns(t.padding);let A=P.height,V=0,j=i.reduce((it,rt)=>it+rt.before.length+rt.lines.length+rt.after.length,0);if(j+=n.beforeBody.length+n.afterBody.length,w&&(A+=w*h.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),j){const it=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;A+=C*it+(j-C)*c.lineHeight+(j-1)*t.bodySpacing}x&&(A+=t.footerMarginTop+x*g.lineHeight+(x-1)*t.footerSpacing);let K=0;const Q=function(it){V=Math.max(V,e.measureText(it).width+K)};return e.save(),e.font=h.string,ln(n.title,Q),e.font=c.string,ln(n.beforeBody.concat(n.afterBody),Q),K=t.displayColors?a+2+t.boxPadding:0,ln(i,it=>{ln(it.before,Q),ln(it.lines,Q),ln(it.after,Q)}),K=0,e.font=g.string,ln(n.footer,Q),e.restore(),V+=P.width,{width:V,height:A}}function RD(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function OD(n,t,e,i){const{x:s,width:r}=i,a=e.caretSize+e.caretPadding;if(n==="left"&&s+r+a>t.width||n==="right"&&s-r-a<0)return!0}function LD(n,t,e,i){const{x:s,width:r}=e,{width:a,chartArea:{left:l,right:c}}=n;let h="center";return i==="center"?h=s<=(l+c)/2?"left":"right":s<=r/2?h="left":s>=a-r/2&&(h="right"),OD(h,n,t,e)&&(h="center"),h}function my(n,t,e){const i=e.yAlign||t.yAlign||RD(n,e);return{xAlign:e.xAlign||t.xAlign||LD(n,t,e,i),yAlign:i}}function ND(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function VD(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function gy(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=n,{xAlign:l,yAlign:c}=e,h=s+r,{topLeft:g,topRight:w,bottomLeft:x,bottomRight:C}=Ya(a);let P=ND(t,l);const A=VD(t,c,h);return c==="center"?l==="left"?P+=h:l==="right"&&(P-=h):l==="left"?P-=Math.max(g,x)+s:l==="right"&&(P+=Math.max(w,C)+s),{x:Mi(P,0,i.width-t.width),y:Mi(A,0,i.height-t.height)}}function sh(n,t,e){const i=ns(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function _y(n){return Nr([],yo(n))}function FD(n,t,e){return ka(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function yy(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const lb={beforeTitle:go,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:go,beforeBody:go,beforeLabel:go,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return De(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:go,afterBody:go,beforeFooter:go,footer:go,afterFooter:go};function ks(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?lb[t].call(e,i):s}class kp extends Wo{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,r=new Ww(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=FD(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=ks(i,"beforeTitle",this,t),r=ks(i,"title",this,t),a=ks(i,"afterTitle",this,t);let l=[];return l=Nr(l,yo(s)),l=Nr(l,yo(r)),l=Nr(l,yo(a)),l}getBeforeBody(t,e){return _y(ks(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return ln(t,r=>{const a={before:[],lines:[],after:[]},l=yy(i,r);Nr(a.before,yo(ks(l,"beforeLabel",this,r))),Nr(a.lines,ks(l,"label",this,r)),Nr(a.after,yo(ks(l,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(t,e){return _y(ks(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=ks(i,"beforeFooter",this,t),r=ks(i,"footer",this,t),a=ks(i,"afterFooter",this,t);let l=[];return l=Nr(l,yo(s)),l=Nr(l,yo(r)),l=Nr(l,yo(a)),l}_createItems(t){const e=this._active,i=this.chart.data,s=[],r=[],a=[];let l=[],c,h;for(c=0,h=e.length;c<h;++c)l.push(DD(this.chart,e[c]));return t.filter&&(l=l.filter((g,w,x)=>t.filter(g,w,x,i))),t.itemSort&&(l=l.sort((g,w)=>t.itemSort(g,w,i))),ln(l,g=>{const w=yy(t.callbacks,g);s.push(ks(w,"labelColor",this,g)),r.push(ks(w,"labelPointStyle",this,g)),a.push(ks(w,"labelTextColor",this,g))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const l=yc[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const c=this._size=py(this,i),h=Object.assign({},l,c),g=my(this.chart,i,h),w=gy(i,h,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:w.x,y:w.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const r=this.getCaretPosition(t,i,s);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:h,bottomLeft:g,bottomRight:w}=Ya(l),{x,y:C}=t,{width:P,height:A}=e;let V,j,K,Q,it,rt;return r==="center"?(it=C+A/2,s==="left"?(V=x,j=V-a,Q=it+a,rt=it-a):(V=x+P,j=V+a,Q=it-a,rt=it+a),K=V):(s==="left"?j=x+Math.max(c,g)+a:s==="right"?j=x+P-Math.max(h,w)-a:j=this.caretX,r==="top"?(Q=C,it=Q-a,V=j-a,K=j+a):(Q=C+A,it=Q+a,V=j+a,K=j-a),rt=Q),{x1:V,x2:j,x3:K,y1:Q,y2:it,y3:rt}}drawTitle(t,e,i){const s=this.title,r=s.length;let a,l,c;if(r){const h=Dl(i.rtl,this.x,this.width);for(t.x=sh(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",a=pi(i.titleFont),l=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,c=0;c<r;++c)e.fillText(s[c],h.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===r&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,e,i,s,r){const a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:h}=r,g=pi(r.bodyFont),w=sh(this,"left",r),x=s.x(w),C=c<g.lineHeight?(g.lineHeight-c)/2:0,P=e.y+C;if(r.usePointStyle){const A={radius:Math.min(h,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},V=s.leftForLtr(x,h)+h/2,j=P+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,vp(t,A,V,j),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,vp(t,A,V,j)}else{t.lineWidth=Ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const A=s.leftForLtr(x,h),V=s.leftForLtr(s.xPlus(x,1),h-2),j=Ya(a.borderRadius);Object.values(j).some(K=>K!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Kc(t,{x:A,y:P,w:h,h:c,radius:j}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Kc(t,{x:V,y:P+1,w:h-2,h:c-2,radius:j}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(A,P,h,c),t.strokeRect(A,P,h,c),t.fillStyle=a.backgroundColor,t.fillRect(V,P+1,h-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:h,boxPadding:g}=i,w=pi(i.bodyFont);let x=w.lineHeight,C=0;const P=Dl(i.rtl,this.x,this.width),A=function(N){e.fillText(N,P.x(t.x+C),t.y+x/2),t.y+=x+r},V=P.textAlign(a);let j,K,Q,it,rt,ft,y;for(e.textAlign=a,e.textBaseline="middle",e.font=w.string,t.x=sh(this,V,i),e.fillStyle=i.bodyColor,ln(this.beforeBody,A),C=l&&V!=="right"?a==="center"?h/2+g:h+2+g:0,it=0,ft=s.length;it<ft;++it){for(j=s[it],K=this.labelTextColors[it],e.fillStyle=K,ln(j.before,A),Q=j.lines,l&&Q.length&&(this._drawColorBox(e,t,it,P,i),x=Math.max(w.lineHeight,c)),rt=0,y=Q.length;rt<y;++rt)A(Q[rt]),x=w.lineHeight;ln(j.after,A)}C=0,x=w.lineHeight,ln(this.afterBody,A),t.y-=r}drawFooter(t,e,i){const s=this.footer,r=s.length;let a,l;if(r){const c=Dl(i.rtl,this.x,this.width);for(t.x=sh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=c.textAlign(i.footerAlign),e.textBaseline="middle",a=pi(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,l=0;l<r;++l)e.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:r,yAlign:a}=this,{x:l,y:c}=t,{width:h,height:g}=i,{topLeft:w,topRight:x,bottomLeft:C,bottomRight:P}=Ya(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(l+w,c),a==="top"&&this.drawCaret(t,e,i,s),e.lineTo(l+h-x,c),e.quadraticCurveTo(l+h,c,l+h,c+x),a==="center"&&r==="right"&&this.drawCaret(t,e,i,s),e.lineTo(l+h,c+g-P),e.quadraticCurveTo(l+h,c+g,l+h-P,c+g),a==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(l+C,c+g),e.quadraticCurveTo(l,c+g,l,c+g-C),a==="center"&&r==="left"&&this.drawCaret(t,e,i,s),e.lineTo(l,c+w),e.quadraticCurveTo(l,c,l+w,c),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=yc[t.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=py(this,t),c=Object.assign({},a,this._size),h=my(e,t,c),g=gy(t,c,h,e);(s._to!==g.x||r._to!==g.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ns(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,e),Lw(t,e.textDirection),r.y+=a.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Nw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:l,index:c})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[c],index:c}}),r=!Gh(i,s),a=this._positionChanged(s,e);(r||a)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(t,r,e,i),l=this._positionChanged(a,t),c=e||!Gh(a,r)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),c}_getActiveElements(t,e,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(t,e){const{caretX:i,caretY:s,options:r}=this,a=yc[r.position].call(this,t,e);return a!==!1&&(i!==a.x||s!==a.y)}}Ot(kp,"positioners",yc);var zD={id:"tooltip",_element:kp,positioners:yc,afterInit(n,t,e){e&&(n.tooltip=new kp({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},BD=Object.freeze({__proto__:null,Colors:QA,Decimation:nD,Filler:TD,Legend:ID,SubTitle:AD,Title:MD,Tooltip:zD});const WD=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function UD(n,t,e,i){const s=n.indexOf(t);if(s===-1)return WD(n,t,e,i);const r=n.lastIndexOf(t);return s!==r?e:s}const HD=(n,t)=>n===null?null:Mi(Math.round(n),0,t);function vy(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Pp extends il{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(De(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:UD(i,t,ke(e,t),this._addedLabels),HD(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)s.push({value:a});return s}getLabelForValue(t){return vy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Ot(Pp,"id","category"),Ot(Pp,"defaults",{ticks:{callback:vy}});function jD(n,t){const e=[],{bounds:s,step:r,min:a,max:l,precision:c,count:h,maxTicks:g,maxDigits:w,includeBounds:x}=n,C=r||1,P=g-1,{min:A,max:V}=t,j=!De(a),K=!De(l),Q=!De(h),it=(V-A)/(w+1);let rt=p_((V-A)/P/C)*C,ft,y,N,z;if(rt<1e-14&&!j&&!K)return[{value:A},{value:V}];z=Math.ceil(V/rt)-Math.floor(A/rt),z>P&&(rt=p_(z*rt/P/C)*C),De(c)||(ft=Math.pow(10,c),rt=Math.ceil(rt*ft)/ft),s==="ticks"?(y=Math.floor(A/rt)*rt,N=Math.ceil(V/rt)*rt):(y=A,N=V),j&&K&&r&&VI((l-a)/r,rt/1e3)?(z=Math.round(Math.min((l-a)/rt,g)),rt=(l-a)/z,y=a,N=l):Q?(y=j?a:y,N=K?l:N,z=h-1,rt=(N-y)/z):(z=(N-y)/rt,Ac(z,Math.round(z),rt/1e3)?z=Math.round(z):z=Math.ceil(z));const H=Math.max(m_(rt),m_(y));ft=Math.pow(10,De(c)?H:c),y=Math.round(y*ft)/ft,N=Math.round(N*ft)/ft;let q=0;for(j&&(x&&y!==a?(e.push({value:a}),y<a&&q++,Ac(Math.round((y+q*rt)*ft)/ft,a,wy(a,it,n))&&q++):y<a&&q++);q<z;++q){const Z=Math.round((y+q*rt)*ft)/ft;if(K&&Z>l)break;e.push({value:Z})}return K&&x&&N!==l?e.length&&Ac(e[e.length-1].value,l,wy(l,it,n))?e[e.length-1].value=l:e.push({value:l}):(!K||N===l)&&e.push({value:N}),e}function wy(n,t,{horizontal:e,minRotation:i}){const s=gr(i),r=(e?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+n).length;return Math.min(t/r,a)}class ed extends il{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return De(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=c=>s=e?s:c,l=c=>r=i?r:c;if(t){const c=Br(s),h=Br(r);c<0&&h<0?l(0):c>0&&h>0&&a(0)}if(s===r){let c=r===0?1:Math.abs(r*.05);l(r+c),t||a(s-c)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,a=jD(s,r);return t.bounds==="ticks"&&yw(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return pu(t,this.chart.options.locale,this.options.ticks.format)}}class Ip extends ed{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jn(t)?t:0,this.max=jn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=gr(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ot(Ip,"id","linear"),Ot(Ip,"defaults",{ticks:{callback:Od.formatters.numeric}});const Qc=n=>Math.floor(oa(n)),Na=(n,t)=>Math.pow(10,Qc(n)+t);function by(n){return n/Math.pow(10,Qc(n))===1}function Ty(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function YD(n,t){const e=t-n;let i=Qc(e);for(;Ty(n,t,i)>10;)i++;for(;Ty(n,t,i)<10;)i--;return Math.min(i,Qc(n))}function $D(n,{min:t,max:e}){t=Vs(n.min,t);const i=[],s=Qc(t);let r=YD(t,e),a=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),c=s>r?Math.pow(10,s):0,h=Math.round((t-c)*a)/a,g=Math.floor((t-c)/l/10)*l*10;let w=Math.floor((h-g)/Math.pow(10,r)),x=Vs(n.min,Math.round((c+g+w*Math.pow(10,r))*a)/a);for(;x<e;)i.push({value:x,major:by(x),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(r++,w=2,a=r>=0?1:a),x=Math.round((c+g+w*Math.pow(10,r))*a)/a;const C=Vs(n.max,x);return i.push({value:C,major:by(C),significand:w}),i}class Cp extends il{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=ed.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return jn(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=jn(t)?Math.max(0,t):null,this.max=jn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!jn(this._userMin)&&(this.min=t===Na(this.min,0)?Na(this.min,-1):Na(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=t?i:l,a=l=>s=e?s:l;i===s&&(i<=0?(r(1),a(10)):(r(Na(i,-1)),a(Na(s,1)))),i<=0&&r(Na(s,-1)),s<=0&&a(Na(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=$D(e,this);return t.bounds==="ticks"&&yw(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":pu(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oa(t),this._valueRange=oa(this.max)-oa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}Ot(Cp,"id","logarithmic"),Ot(Cp,"defaults",{ticks:{callback:Od.formatters.logarithmic,major:{enabled:!0}}});function Mp(n){const t=n.ticks;if(t.display&&n.display){const e=ns(t.backdropPadding);return ke(t.font&&t.font.size,Rn.font.size)+e.height}return 0}function qD(n,t,e){return e=Dn(e)?e:[e],{w:tC(n,t.string,e),h:e.length*t.lineHeight}}function xy(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function GD(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?xn/r:0;for(let c=0;c<r;c++){const h=a.setContext(n.getPointLabelContext(c));s[c]=h.padding;const g=n.getPointPosition(c,n.drawingArea+s[c],l),w=pi(h.font),x=qD(n.ctx,w,n._pointLabels[c]);i[c]=x;const C=Fs(n.getIndexAngle(c)+l),P=Math.round(Rm(C)),A=xy(P,g.x,x.w,0,180),V=xy(P,g.y,x.h,90,270);ZD(e,t,C,A,V)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=QD(n,i,s)}function ZD(n,t,e,i,s){const r=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,c=0;i.start<t.l?(l=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+l)),s.start<t.t?(c=(t.t-s.start)/a,n.t=Math.min(n.t,t.t-c)):s.end>t.b&&(c=(s.end-t.b)/a,n.b=Math.max(n.b,t.b+c))}function KD(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:r,padding:a,size:l}=e,c=n.getPointPosition(t,i+s+a,r),h=Math.round(Rm(Fs(c.angle+Xn))),g=eR(c.y,l.h,h),w=JD(h),x=tR(c.x,l.w,w);return{visible:!0,x:c.x,y:g,textAlign:w,left:x,top:g,right:x+l.w,bottom:g+l.h}}function XD(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:r}=n;return!(Eo({x:e,y:i},t)||Eo({x:e,y:r},t)||Eo({x:s,y:i},t)||Eo({x:s,y:r},t))}function QD(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,{centerPointLabels:a,display:l}=r.pointLabels,c={extra:Mp(r)/2,additionalAngle:a?xn/s:0};let h;for(let g=0;g<s;g++){c.padding=e[g],c.size=t[g];const w=KD(n,g,c);i.push(w),l==="auto"&&(w.visible=XD(w,h),w.visible&&(h=w))}return i}function JD(n){return n===0||n===180?"center":n<180?"left":"right"}function tR(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function eR(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function nR(n,t,e){const{left:i,top:s,right:r,bottom:a}=e,{backdropColor:l}=t;if(!De(l)){const c=Ya(t.borderRadius),h=ns(t.backdropPadding);n.fillStyle=l;const g=i-h.left,w=s-h.top,x=r-i+h.width,C=a-s+h.height;Object.values(c).some(P=>P!==0)?(n.beginPath(),Kc(n,{x:g,y:w,w:x,h:C,radius:c}),n.fill()):n.fillRect(g,w,x,C)}}function iR(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=n._pointLabelItems[s];if(!r.visible)continue;const a=i.setContext(n.getPointLabelContext(s));nR(e,a,r);const l=pi(a.font),{x:c,y:h,textAlign:g}=r;Ga(e,n._pointLabels[s],c,h+l.lineHeight/2,l,{color:a.color,textAlign:g,textBaseline:"middle"})}}function cb(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,Tn);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=n.getPointPosition(a,t),s.lineTo(r.x,r.y)}}function sR(n,t,e,i,s){const r=n.ctx,a=t.circular,{color:l,lineWidth:c}=t;!a&&!i||!l||!c||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=c,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),cb(n,e,a,i),r.closePath(),r.stroke(),r.restore())}function rR(n,t,e){return ka(n,{label:e,index:t,type:"pointLabel"})}class vc extends ed{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ns(Mp(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=jn(t)&&!isNaN(t)?t:0,this.max=jn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mp(this.options))}generateTickLabels(t){ed.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=yn(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?GD(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=Tn/(this._pointLabels.length||1),i=this.options.startAngle||0;return Fs(t*e+gr(i))}getDistanceFromCenterForValue(t){if(De(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(De(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return rR(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Xn+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),cb(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:r}=e,a=this._pointLabels.length;let l,c,h;if(e.pointLabels.display&&iR(this,a),s.display&&this.ticks.forEach((g,w)=>{if(w!==0||w===0&&this.min<0){c=this.getDistanceFromCenterForValue(g.value);const x=this.getContext(w),C=s.setContext(x),P=r.setContext(x);sR(this,C,c,a,P)}}),i.display){for(t.save(),l=a-1;l>=0;l--){const g=i.setContext(this.getPointLabelContext(l)),{color:w,lineWidth:x}=g;!x||!w||(t.lineWidth=x,t.strokeStyle=w,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,c=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),h=this.getPointPosition(l,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!e.reverse)return;const h=i.setContext(this.getContext(c)),g=pi(h.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){t.font=g.string,a=t.measureText(l.label).width,t.fillStyle=h.backdropColor;const w=ns(h.backdropPadding);t.fillRect(-a/2-w.left,-r-g.size/2-w.top,a+w.width,g.size+w.height)}Ga(t,l.label,0,-r,g,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),t.restore()}drawTitle(){}}Ot(vc,"id","radialLinear"),Ot(vc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Od.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Ot(vc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ot(vc,"descriptors",{angleLines:{_fallback:"grid"}});const zd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cs=Object.keys(zd);function Sy(n,t){return n-t}function Ey(n,t){if(De(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),jn(a)||(a=typeof i=="string"?e.parse(a,i):e.parse(a)),a===null?null:(s&&(a=s==="week"&&(Vl(r)||r===!0)?e.startOf(a,"isoWeek",r):e.startOf(a,s)),+a)}function ky(n,t,e,i){const s=Cs.length;for(let r=Cs.indexOf(n);r<s-1;++r){const a=zd[Cs[r]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return Cs[r]}return Cs[s-1]}function oR(n,t,e,i,s){for(let r=Cs.length-1;r>=Cs.indexOf(e);r--){const a=Cs[r];if(zd[a].common&&n._adapter.diff(s,i,a)>=t-1)return a}return Cs[e?Cs.indexOf(e):0]}function aR(n){for(let t=Cs.indexOf(n)+1,e=Cs.length;t<e;++t)if(zd[Cs[t]].common)return Cs[t]}function Py(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=Om(e,t),r=e[i]>=t?e[i]:e[s];n[r]=!0}}function lR(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),a=t[t.length-1].value;let l,c;for(l=r;l<=a;l=+s.add(l,1,i))c=e[l],c>=0&&(t[c].major=!0);return t}function Iy(n,t,e){const i=[],s={},r=t.length;let a,l;for(a=0;a<r;++a)l=t[a],s[l]=a,i.push({value:l,major:!1});return r===0||!e?i:lR(n,i,s,e)}class Jc extends il{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new _M._date(t.adapters.date);s.init(e),Mc(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ey(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:l}=this.getUserBounds();function c(h){!a&&!isNaN(h.min)&&(s=Math.min(s,h.min)),!l&&!isNaN(h.max)&&(r=Math.max(r,h.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=jn(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),r=jn(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,l=WI(s,r,a);return this._unit=e.unit||(i.autoSkip?ky(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):oR(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:aR(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),Iy(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;e=Mi(e,0,a),i=Mi(i,0,a),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ky(r.minUnit,e,i,this._getLabelCapacity(e)),l=ke(s.ticks.stepSize,1),c=a==="week"?r.isoWeekday:!1,h=Vl(c)||c===!0,g={};let w=e,x,C;if(h&&(w=+t.startOf(w,"isoWeek",c)),w=+t.startOf(w,h?"day":a),t.diff(i,e,a)>1e5*l)throw new Error(e+" and "+i+" are too far apart with stepSize of "+l+" "+a);const P=s.ticks.source==="data"&&this.getDataTimestamps();for(x=w,C=0;x<i;x=+t.add(x,l,a),C++)Py(g,x,P);return(x===i||s.bounds==="ticks"||C===1)&&Py(g,x,P),Object.keys(g).sort(Sy).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,r=this._unit,a=e||s[r];return this._adapter.format(t,a)}_tickFormatFunction(t,e,i,s){const r=this.options,a=r.ticks.callback;if(a)return yn(a,[t,e,i],this);const l=r.time.displayFormats,c=this._unit,h=this._majorUnit,g=c&&l[c],w=h&&l[h],x=i[e],C=h&&w&&x&&x.major;return this._adapter.format(t,s||(C?w:g))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=gr(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:i*r+l*a,h:i*a+l*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Iy(this,[t],this._majorUnit),s),a=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(Ey(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bw(t.sort(Sy))}}Ot(Jc,"id","time"),Ot(Jc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rh(n,t,e){let i=0,s=n.length-1,r,a,l,c;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=So(n,"pos",t)),{pos:r,time:l}=n[i],{pos:a,time:c}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=So(n,"time",t)),{time:r,pos:l}=n[i],{time:a,pos:c}=n[s]);const h=a-r;return h?l+(c-l)*(t-r)/h:l}class Ap extends Jc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rh(e,this.min),this._tableRange=rh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let a,l,c,h,g;for(a=0,l=t.length;a<l;++a)h=t[a],h>=e&&h<=i&&s.push(h);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=s.length;a<l;++a)g=s[a+1],c=s[a-1],h=s[a],Math.round((g+c)/2)!==h&&r.push({time:h,pos:a/(l-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return rh(this._table,i*this._tableRange+this._minPos,!0)}}Ot(Ap,"id","timeseries"),Ot(Ap,"defaults",Jc.defaults);var cR=Object.freeze({__proto__:null,CategoryScale:Pp,LinearScale:Ip,LogarithmicScale:Cp,RadialLinearScale:vc,TimeScale:Jc,TimeSeriesScale:Ap});const uR=[gM,YA,BD,cR];Qo.register(...uR);var wc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var hR=wc.exports,Cy;function dR(){return Cy||(Cy=1,function(n,t){(function(e,i){i(t)})(hR,function(e){var i="1.9.4";function s(o){var u,m,b,I;for(m=1,b=arguments.length;m<b;m++){I=arguments[m];for(u in I)o[u]=I[u]}return o}var r=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function a(o,u){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var b=m.call(arguments,2);return function(){return o.apply(u,b.length?b.concat(m.call(arguments)):arguments)}}var l=0;function c(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function h(o,u,m){var b,I,B,tt;return tt=function(){b=!1,I&&(B.apply(m,I),I=!1)},B=function(){b?I=arguments:(o.apply(m,arguments),setTimeout(tt,u),b=!0)},B}function g(o,u,m){var b=u[1],I=u[0],B=b-I;return o===b&&m?o:((o-I)%B+B)%B+I}function w(){return!1}function x(o,u){if(u===!1)return o;var m=Math.pow(10,u===void 0?6:u);return Math.round(o*m)/m}function C(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function P(o){return C(o).split(/\s+/)}function A(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?r(o.options):{});for(var m in u)o.options[m]=u[m];return o.options}function V(o,u,m){var b=[];for(var I in o)b.push(encodeURIComponent(m?I.toUpperCase():I)+"="+encodeURIComponent(o[I]));return(!u||u.indexOf("?")===-1?"?":"&")+b.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function K(o,u){return o.replace(j,function(m,b){var I=u[b];if(I===void 0)throw new Error("No value provided for variable "+m);return typeof I=="function"&&(I=I(u)),I})}var Q=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function it(o,u){for(var m=0;m<o.length;m++)if(o[m]===u)return m;return-1}var rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ft(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var y=0;function N(o){var u=+new Date,m=Math.max(0,16-(u-y));return y=u+m,window.setTimeout(o,m)}var z=window.requestAnimationFrame||ft("RequestAnimationFrame")||N,H=window.cancelAnimationFrame||ft("CancelAnimationFrame")||ft("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function q(o,u,m){if(m&&z===N)o.call(u);else return z.call(window,a(o,u))}function Z(o){o&&H.call(window,o)}var $={__proto__:null,extend:s,create:r,bind:a,get lastId(){return l},stamp:c,throttle:h,wrapNum:g,falseFn:w,formatNum:x,trim:C,splitWords:P,setOptions:A,getParamString:V,template:K,isArray:Q,indexOf:it,emptyImageUrl:rt,requestFn:z,cancelFn:H,requestAnimFrame:q,cancelAnimFrame:Z};function Bt(){}Bt.extend=function(o){var u=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,b=r(m);b.constructor=u,u.prototype=b;for(var I in this)Object.prototype.hasOwnProperty.call(this,I)&&I!=="prototype"&&I!=="__super__"&&(u[I]=this[I]);return o.statics&&s(u,o.statics),o.includes&&(Xt(o.includes),s.apply(null,[b].concat(o.includes))),s(b,o),delete b.statics,delete b.includes,b.options&&(b.options=m.options?r(m.options):{},s(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,tt=b._initHooks.length;B<tt;B++)b._initHooks[B].call(this)}},u},Bt.include=function(o){var u=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},Bt.mergeOptions=function(o){return s(this.prototype.options,o),this},Bt.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Xt(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=Q(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Pt={on:function(o,u,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],u);else{o=P(o);for(var I=0,B=o.length;I<B;I++)this._on(o[I],u,m)}return this},off:function(o,u,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],u);else{o=P(o);for(var I=arguments.length===1,B=0,tt=o.length;B<tt;B++)I?this._off(o[B]):this._off(o[B],u,m)}return this},_on:function(o,u,m,b){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,m)===!1){m===this&&(m=void 0);var I={fn:u,ctx:m};b&&(I.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(I)}},_off:function(o,u,m){var b,I,B;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(I=0,B=b.length;I<B;I++)b[I].fn=w;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var tt=this._listens(o,u,m);if(tt!==!1){var at=b[tt];this._firingCount&&(at.fn=w,this._events[o]=b=b.slice()),b.splice(tt,1)}}},fire:function(o,u,m){if(!this.listens(o,m))return this;var b=s({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var I=this._events[o];if(I){this._firingCount=this._firingCount+1||1;for(var B=0,tt=I.length;B<tt;B++){var at=I[B],pt=at.fn;at.once&&this.off(o,pt,at.ctx),pt.call(at.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(o,u,m,b){typeof o!="string"&&console.warn('"string" type argument expected');var I=u;typeof u!="function"&&(b=!!u,I=void 0,m=void 0);var B=this._events&&this._events[o];if(B&&B.length&&this._listens(o,I,m)!==!1)return!0;if(b){for(var tt in this._eventParents)if(this._eventParents[tt].listens(o,u,m,b))return!0}return!1},_listens:function(o,u,m){if(!this._events)return!1;var b=this._events[o]||[];if(!u)return!!b.length;m===this&&(m=void 0);for(var I=0,B=b.length;I<B;I++)if(b[I].fn===u&&b[I].ctx===m)return I;return!1},once:function(o,u,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],u,!0);else{o=P(o);for(var I=0,B=o.length;I<B;I++)this._on(o[I],u,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[c(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[c(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};Pt.addEventListener=Pt.on,Pt.removeEventListener=Pt.clearAllEventListeners=Pt.off,Pt.addOneTimeEventListener=Pt.once,Pt.fireEvent=Pt.fire,Pt.hasEventListeners=Pt.listens;var Wt=Bt.extend(Pt);function At(o,u,m){this.x=m?Math.round(o):o,this.y=m?Math.round(u):u}var de=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};At.prototype={clone:function(){return new At(this.x,this.y)},add:function(o){return this.clone()._add(Rt(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Rt(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new At(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new At(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(o){o=Rt(o);var u=o.x-this.x,m=o.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(o){return o=Rt(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Rt(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function Rt(o,u,m){return o instanceof At?o:Q(o)?new At(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new At(o.x,o.y):new At(o,u,m)}function xt(o,u){if(o)for(var m=u?[o,u]:o,b=0,I=m.length;b<I;b++)this.extend(m[b])}xt.prototype={extend:function(o){var u,m;if(!o)return this;if(o instanceof At||typeof o[0]=="number"||"x"in o)u=m=Rt(o);else if(o=Mt(o),u=o.min,m=o.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return Rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Rt(this.min.x,this.max.y)},getTopRight:function(){return Rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,m;return typeof o[0]=="number"||o instanceof At?o=Rt(o):o=Mt(o),o instanceof xt?(u=o.min,m=o.max):u=m=o,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=Mt(o);var u=this.min,m=this.max,b=o.min,I=o.max,B=I.x>=u.x&&b.x<=m.x,tt=I.y>=u.y&&b.y<=m.y;return B&&tt},overlaps:function(o){o=Mt(o);var u=this.min,m=this.max,b=o.min,I=o.max,B=I.x>u.x&&b.x<m.x,tt=I.y>u.y&&b.y<m.y;return B&&tt},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,m=this.max,b=Math.abs(u.x-m.x)*o,I=Math.abs(u.y-m.y)*o;return Mt(Rt(u.x-b,u.y-I),Rt(m.x+b,m.y+I))},equals:function(o){return o?(o=Mt(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Mt(o,u){return!o||o instanceof xt?o:new xt(o,u)}function It(o,u){if(o)for(var m=u?[o,u]:o,b=0,I=m.length;b<I;b++)this.extend(m[b])}It.prototype={extend:function(o){var u=this._southWest,m=this._northEast,b,I;if(o instanceof yt)b=o,I=o;else if(o instanceof It){if(b=o._southWest,I=o._northEast,!b||!I)return this}else return o?this.extend(Ut(o)||Qt(o)):this;return!u&&!m?(this._southWest=new yt(b.lat,b.lng),this._northEast=new yt(I.lat,I.lng)):(u.lat=Math.min(b.lat,u.lat),u.lng=Math.min(b.lng,u.lng),m.lat=Math.max(I.lat,m.lat),m.lng=Math.max(I.lng,m.lng)),this},pad:function(o){var u=this._southWest,m=this._northEast,b=Math.abs(u.lat-m.lat)*o,I=Math.abs(u.lng-m.lng)*o;return new It(new yt(u.lat-b,u.lng-I),new yt(m.lat+b,m.lng+I))},getCenter:function(){return new yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof yt||"lat"in o?o=Ut(o):o=Qt(o);var u=this._southWest,m=this._northEast,b,I;return o instanceof It?(b=o.getSouthWest(),I=o.getNorthEast()):b=I=o,b.lat>=u.lat&&I.lat<=m.lat&&b.lng>=u.lng&&I.lng<=m.lng},intersects:function(o){o=Qt(o);var u=this._southWest,m=this._northEast,b=o.getSouthWest(),I=o.getNorthEast(),B=I.lat>=u.lat&&b.lat<=m.lat,tt=I.lng>=u.lng&&b.lng<=m.lng;return B&&tt},overlaps:function(o){o=Qt(o);var u=this._southWest,m=this._northEast,b=o.getSouthWest(),I=o.getNorthEast(),B=I.lat>u.lat&&b.lat<m.lat,tt=I.lng>u.lng&&b.lng<m.lng;return B&&tt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=Qt(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Qt(o,u){return o instanceof It?o:new It(o,u)}function yt(o,u,m){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,m!==void 0&&(this.alt=+m)}yt.prototype={equals:function(o,u){if(!o)return!1;o=Ut(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+x(this.lat,o)+", "+x(this.lng,o)+")"},distanceTo:function(o){return Ae.distance(this,Ut(o))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,m=u/Math.cos(Math.PI/180*this.lat);return Qt([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new yt(this.lat,this.lng,this.alt)}};function Ut(o,u,m){return o instanceof yt?o:Q(o)&&typeof o[0]!="object"?o.length===3?new yt(o[0],o[1],o[2]):o.length===2?new yt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new yt(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new yt(o,u,m)}var Te={latLngToPoint:function(o,u){var m=this.projection.project(o),b=this.scale(u);return this.transformation._transform(m,b)},pointToLatLng:function(o,u){var m=this.scale(u),b=this.transformation.untransform(o,m);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(o),b=this.transformation.transform(u.min,m),I=this.transformation.transform(u.max,m);return new xt(b,I)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?g(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?g(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new yt(m,u,b)},wrapLatLngBounds:function(o){var u=o.getCenter(),m=this.wrapLatLng(u),b=u.lat-m.lat,I=u.lng-m.lng;if(b===0&&I===0)return o;var B=o.getSouthWest(),tt=o.getNorthEast(),at=new yt(B.lat-b,B.lng-I),pt=new yt(tt.lat-b,tt.lng-I);return new It(at,pt)}},Ae=s({},Te,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var m=Math.PI/180,b=o.lat*m,I=u.lat*m,B=Math.sin((u.lat-o.lat)*m/2),tt=Math.sin((u.lng-o.lng)*m/2),at=B*B+Math.cos(b)*Math.cos(I)*tt*tt,pt=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*pt}}),vn=6378137,Ye={R:vn,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,o.lat),-m),I=Math.sin(b*u);return new At(this.R*o.lng*u,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(o){var u=180/Math.PI;return new yt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=vn*Math.PI;return new xt([-o,-o],[o,o])}()};function On(o,u,m,b){if(Q(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=m,this._d=b}On.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new At((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function cn(o,u,m,b){return new On(o,u,m,b)}var Bn=s({},Ae,{code:"EPSG:3857",projection:Ye,transformation:function(){var o=.5/(Math.PI*Ye.R);return cn(o,.5,-o,.5)}()}),Yn=s({},Bn,{code:"EPSG:900913"});function Qn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function _i(o,u){var m="",b,I,B,tt,at,pt;for(b=0,B=o.length;b<B;b++){for(at=o[b],I=0,tt=at.length;I<tt;I++)pt=at[I],m+=(I?"L":"M")+pt.x+" "+pt.y;m+=u?Zt.svg?"z":"x":""}return m||"M0 0"}var Ln=document.documentElement.style,nn="ActiveXObject"in window,yi=nn&&!document.addEventListener,vi="msLaunchUri"in navigator&&!("documentMode"in document),ze=li("webkit"),kn=li("android"),_s=li("android 2")||li("android 3"),As=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gt=kn&&li("Google")&&As<537&&!("AudioNode"in window),ce=!!window.opera,Nn=!vi&&li("chrome"),Ds=li("gecko")&&!ze&&!ce&&!nn,sr=!Nn&&li("safari"),Be=li("phantom"),Er="OTransition"in Ln,Wi=navigator.platform.indexOf("Win")===0,Jn=nn&&"transition"in Ln,wi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_s,bi="MozPerspective"in Ln,Ws=!window.L_DISABLE_3D&&(Jn||wi||bi)&&!Er&&!Be,Ai=typeof orientation<"u"||li("mobile"),kr=Ai&&ze,Us=Ai&&wi,Kr=!window.PointerEvent&&window.MSPointerEvent,$n=!!(window.PointerEvent||Kr),oi="ontouchstart"in window||!!window.TouchEvent,Hs=!window.L_NO_TOUCH&&(oi||$n),Di=Ai&&ce,Dt=Ai&&Ds,Vn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pr=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return o}(),ai=function(){return!!document.createElement("canvas").getContext}(),Wn=!!(document.createElementNS&&Qn("svg").createSVGRect),te=!!Wn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),rs=!Wn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),xe=navigator.platform.indexOf("Mac")===0,Ri=navigator.platform.indexOf("Linux")===0;function li(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Zt={ie:nn,ielt9:yi,edge:vi,webkit:ze,android:kn,android23:_s,androidStock:Gt,opera:ce,chrome:Nn,gecko:Ds,safari:sr,phantom:Be,opera12:Er,win:Wi,ie3d:Jn,webkit3d:wi,gecko3d:bi,any3d:Ws,mobile:Ai,mobileWebkit:kr,mobileWebkit3d:Us,msPointer:Kr,pointer:$n,touch:Hs,touchNative:oi,mobileOpera:Di,mobileGecko:Dt,retina:Vn,passiveEvents:Pr,canvas:ai,svg:Wn,vml:rs,inlineSvg:te,mac:xe,linux:Ri},un=Zt.msPointer?"MSPointerDown":"pointerdown",Ui=Zt.msPointer?"MSPointerMove":"pointermove",Ti=Zt.msPointer?"MSPointerUp":"pointerup",on=Zt.msPointer?"MSPointerCancel":"pointercancel",ti={touchstart:un,touchmove:Ui,touchend:Ti,touchcancel:on},ci={touchstart:rr,touchmove:as,touchend:as,touchcancel:as},qn={},ei=!1;function Xr(o,u,m){return u==="touchstart"&&$s(),ci[u]?(m=ci[u].bind(this,m),o.addEventListener(ti[u],m,!1),m):(console.warn("wrong event specified:",u),w)}function ys(o,u,m){if(!ti[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(ti[u],m,!1)}function js(o){qn[o.pointerId]=o}function Ys(o){qn[o.pointerId]&&(qn[o.pointerId]=o)}function os(o){delete qn[o.pointerId]}function $s(){ei||(document.addEventListener(un,js,!0),document.addEventListener(Ui,Ys,!0),document.addEventListener(Ti,os,!0),document.addEventListener(on,os,!0),ei=!0)}function as(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in qn)u.touches.push(qn[m]);u.changedTouches=[u],o(u)}}function rr(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&dn(u),as(o,u)}function Qr(o){var u={},m,b;for(b in o)m=o[b],u[b]=m&&m.bind?m.bind(o):m;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Ir=200;function Ge(o,u){o.addEventListener("dblclick",u);var m=0,b;function I(B){if(B.detail!==1){b=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var tt=Lr(B);if(!(tt.some(function(pt){return pt instanceof HTMLLabelElement&&pt.attributes.for})&&!tt.some(function(pt){return pt instanceof HTMLInputElement||pt instanceof HTMLSelectElement}))){var at=Date.now();at-m<=Ir?(b++,b===2&&u(Qr(B))):b=1,m=at}}}return o.addEventListener("click",I),{dblclick:u,simDblclick:I}}function ls(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var Rs=ji(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qs=ji(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Cr=qs==="webkitTransition"||qs==="OTransition"?qs+"End":"transitionend";function Mr(o){return typeof o=="string"?document.getElementById(o):o}function Os(o,u){var m=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);m=b?b[u]:null}return m==="auto"?null:m}function Se(o,u,m){var b=document.createElement(o);return b.className=u||"",m&&m.appendChild(b),b}function Ze(o){var u=o.parentNode;u&&u.removeChild(o)}function Pn(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function xi(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function Hi(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function Ar(o,u){if(o.classList!==void 0)return o.classList.contains(u);var m=ni(o);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function fe(o,u){if(o.classList!==void 0)for(var m=P(u),b=0,I=m.length;b<I;b++)o.classList.add(m[b]);else if(!Ar(o,u)){var B=ni(o);Dr(o,(B?B+" ":"")+u)}}function sn(o,u){o.classList!==void 0?o.classList.remove(u):Dr(o,C((" "+ni(o)+" ").replace(" "+u+" "," ")))}function Dr(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function ni(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function gn(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&vs(o,u)}function vs(o,u){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(b)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):o.style.filter+=" progid:"+b+"(opacity="+u+")"}function ji(o){for(var u=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in u)return o[m];return!1}function wn(o,u,m){var b=u||new At(0,0);o.style[Rs]=(Zt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function ne(o,u){o._leaflet_pos=u,Zt.any3d?wn(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function hn(o){return o._leaflet_pos||new At(0,0)}var cs,us,hs;if("onselectstart"in document)cs=function(){re(window,"selectstart",dn)},us=function(){We(window,"selectstart",dn)};else{var Si=ji(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);cs=function(){if(Si){var o=document.documentElement.style;hs=o[Si],o[Si]="none"}},us=function(){Si&&(document.documentElement.style[Si]=hs,hs=void 0)}}function or(){re(window,"dragstart",dn)}function Jr(){We(window,"dragstart",dn)}var ws,Rr;function Oi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(Ei(),ws=o,Rr=o.style.outlineStyle,o.style.outlineStyle="none",re(window,"keydown",Ei))}function Ei(){ws&&(ws.style.outlineStyle=Rr,ws=void 0,Rr=void 0,We(window,"keydown",Ei))}function ar(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Or(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var to={__proto__:null,TRANSFORM:Rs,TRANSITION:qs,TRANSITION_END:Cr,get:Mr,getStyle:Os,create:Se,remove:Ze,empty:Pn,toFront:xi,toBack:Hi,hasClass:Ar,addClass:fe,removeClass:sn,setClass:Dr,getClass:ni,setOpacity:gn,testProp:ji,setTransform:wn,setPosition:ne,getPosition:hn,get disableTextSelection(){return cs},get enableTextSelection(){return us},disableImageDrag:or,enableImageDrag:Jr,preventOutline:Oi,restoreOutline:Ei,getSizedParentNode:ar,getScale:Or};function re(o,u,m,b){if(u&&typeof u=="object")for(var I in u)eo(o,I,u[I],m);else{u=P(u);for(var B=0,tt=u.length;B<tt;B++)eo(o,u[B],m,b)}return this}var Yi="_leaflet_events";function We(o,u,m,b){if(arguments.length===1)jo(o),delete o[Yi];else if(u&&typeof u=="object")for(var I in u)no(o,I,u[I],m);else if(u=P(u),arguments.length===2)jo(o,function(at){return it(u,at)!==-1});else for(var B=0,tt=u.length;B<tt;B++)no(o,u[B],m,b);return this}function jo(o,u){for(var m in o[Yi]){var b=m.split(/\d/)[0];(!u||u(b))&&no(o,b,null,null,m)}}var $i={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function eo(o,u,m,b){var I=u+c(m)+(b?"_"+c(b):"");if(o[Yi]&&o[Yi][I])return this;var B=function(at){return m.call(b||o,at||window.event)},tt=B;!Zt.touchNative&&Zt.pointer&&u.indexOf("touch")===0?B=Xr(o,u,B):Zt.touch&&u==="dblclick"?B=Ge(o,B):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener($i[u]||u,B,Zt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(B=function(at){at=at||window.event,Ks(o,at)&&tt(at)},o.addEventListener($i[u],B,!1)):o.addEventListener(u,tt,!1):o.attachEvent("on"+u,B),o[Yi]=o[Yi]||{},o[Yi][I]=B}function no(o,u,m,b,I){I=I||u+c(m)+(b?"_"+c(b):"");var B=o[Yi]&&o[Yi][I];if(!B)return this;!Zt.touchNative&&Zt.pointer&&u.indexOf("touch")===0?ys(o,u,B):Zt.touch&&u==="dblclick"?ls(o,B):"removeEventListener"in o?o.removeEventListener($i[u]||u,B,!1):o.detachEvent("on"+u,B),o[Yi][I]=null}function qi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Gs(o){return eo(o,"wheel",qi),this}function Zs(o){return re(o,"mousedown touchstart dblclick contextmenu",qi),o._leaflet_disable_click=!0,this}function dn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function ui(o){return dn(o),qi(o),this}function Lr(o){if(o.composedPath)return o.composedPath();for(var u=[],m=o.target;m;)u.push(m),m=m.parentNode;return u}function bs(o,u){if(!u)return new At(o.clientX,o.clientY);var m=Or(u),b=m.boundingClientRect;return new At((o.clientX-b.left)/m.x-u.clientLeft,(o.clientY-b.top)/m.y-u.clientTop)}var en=Zt.linux&&Zt.chrome?window.devicePixelRatio:Zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function io(o){return Zt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/en:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ks(o,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var so={__proto__:null,on:re,off:We,stopPropagation:qi,disableScrollPropagation:Gs,disableClickPropagation:Zs,preventDefault:dn,stop:ui,getPropagationPath:Lr,getMousePosition:bs,getWheelDelta:io,isExternalTarget:Ks,addListener:re,removeListener:We},ro=Wt.extend({run:function(o,u,m,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=hn(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var m=this._startPos.add(this._offset.multiplyBy(o));u&&m._round(),ne(this._el,m),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Pe=Wt.extend({options:{crs:Bn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=A(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ut(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qs&&Zt.any3d&&!Zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,Cr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(Ut(o),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=s({animate:m.animate},m.zoom),m.pan=s({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,m.zoom):this._tryAnimatedPan(o,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(Zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,m){var b=this.getZoomScale(u),I=this.getSize().divideBy(2),B=o instanceof At?o:this.latLngToContainerPoint(o),tt=B.subtract(I).multiplyBy(1-1/b),at=this.containerPointToLatLng(I.add(tt));return this.setView(at,u,{zoom:m})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():Qt(o);var m=Rt(u.paddingTopLeft||u.padding||[0,0]),b=Rt(u.paddingBottomRight||u.padding||[0,0]),I=this.getBoundsZoom(o,!1,m.add(b));if(I=typeof u.maxZoom=="number"?Math.min(u.maxZoom,I):I,I===1/0)return{center:o.getCenter(),zoom:I};var B=b.subtract(m).divideBy(2),tt=this.project(o.getSouthWest(),I),at=this.project(o.getNorthEast(),I),pt=this.unproject(tt.add(at).divideBy(2).add(B),I);return{center:pt,zoom:I}},fitBounds:function(o,u){if(o=Qt(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=Rt(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ro,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){fe(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,m){if(m=m||{},m.animate===!1||!Zt.any3d)return this.setView(o,u,m);this._stop();var b=this.project(this.getCenter()),I=this.project(o),B=this.getSize(),tt=this._zoom;o=Ut(o),u=u===void 0?tt:u;var at=Math.max(B.x,B.y),pt=at*this.getZoomScale(tt,u),bt=I.distanceTo(b)||1,Ft=1.42,le=Ft*Ft;function Ce(Hn){var fl=Hn?-1:1,_f=Hn?pt:at,yf=pt*pt-at*at+fl*le*le*bt*bt,vf=2*_f*le*bt,oc=yf/vf,pl=Math.sqrt(oc*oc+1)-oc,wf=pl<1e-9?-18:Math.log(pl);return wf}function Vi(Hn){return(Math.exp(Hn)-Math.exp(-Hn))/2}function ii(Hn){return(Math.exp(Hn)+Math.exp(-Hn))/2}function Es(Hn){return Vi(Hn)/ii(Hn)}var Zi=Ce(0);function Go(Hn){return at*(ii(Zi)/ii(Zi+Ft*Hn))}function ff(Hn){return at*(ii(Zi)*Es(Zi+Ft*Hn)-Vi(Zi))/le}function pf(Hn){return 1-Math.pow(1-Hn,1.5)}var mf=Date.now(),zu=(Ce(1)-Zi)/Ft,gf=m.duration?1e3*m.duration:1e3*zu*.8;function Bu(){var Hn=(Date.now()-mf)/gf,fl=pf(Hn)*zu;Hn<=1?(this._flyToFrame=q(Bu,this),this._move(this.unproject(b.add(I.subtract(b).multiplyBy(ff(fl)/bt)),tt),this.getScaleZoom(at/Go(fl),tt),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Bu.call(this),this},flyToBounds:function(o,u){var m=this._getBoundsCenterZoom(o,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(o){return o=Qt(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,Qt(o));return m.equals(b)||this.panTo(b,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var m=Rt(u.paddingTopLeft||u.padding||[0,0]),b=Rt(u.paddingBottomRight||u.padding||[0,0]),I=this.project(this.getCenter()),B=this.project(o),tt=this.getPixelBounds(),at=Mt([tt.min.add(m),tt.max.subtract(b)]),pt=at.getSize();if(!at.contains(B)){this._enforcingBounds=!0;var bt=B.subtract(at.getCenter()),Ft=at.extend(B).getSize().subtract(pt);I.x+=bt.x<0?-Ft.x:Ft.x,I.y+=bt.y<0?-Ft.y:Ft.y,this.panTo(this.unproject(I),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=u.divideBy(2).round(),I=m.divideBy(2).round(),B=b.subtract(I);return!B.x&&!B.y?this:(o.animate&&o.pan?this.panBy(B):(o.pan&&this._rawPanBy(B),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=a(this._handleGeolocationResponse,this),m=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,o):navigator.geolocation.getCurrentPosition(u,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,m=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,m=o.coords.longitude,b=new yt(u,m),I=b.toBounds(o.coords.accuracy*2),B=this._locateOptions;if(B.setView){var tt=this.getBoundsZoom(I);this.setView(b,B.maxZoom?Math.min(tt,B.maxZoom):tt)}var at={latlng:b,bounds:I,timestamp:o.timestamp};for(var pt in o.coords)typeof o.coords[pt]=="number"&&(at[pt]=o.coords[pt]);this.fire("locationfound",at)}},addHandler:function(o,u){if(!u)return this;var m=this[o]=new u(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Ze(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=Se("div",m,u||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new It(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,m){o=Qt(o),m=Rt(m||[0,0]);var b=this.getZoom()||0,I=this.getMinZoom(),B=this.getMaxZoom(),tt=o.getNorthWest(),at=o.getSouthEast(),pt=this.getSize().subtract(m),bt=Mt(this.project(at,b),this.project(tt,b)).getSize(),Ft=Zt.any3d?this.options.zoomSnap:1,le=pt.x/bt.x,Ce=pt.y/bt.y,Vi=u?Math.max(le,Ce):Math.min(le,Ce);return b=this.getScaleZoom(Vi,b),Ft&&(b=Math.round(b/(Ft/100))*(Ft/100),b=u?Math.ceil(b/Ft)*Ft:Math.floor(b/Ft)*Ft),Math.max(I,Math.min(B,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new At(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var m=this._getTopLeftPoint(o,u);return new xt(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(o)/m.scale(u)},getScaleZoom:function(o,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var b=m.zoom(o*m.scale(u));return isNaN(b)?1/0:b},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ut(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(Rt(o),u)},layerPointToLatLng:function(o){var u=Rt(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(Ut(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ut(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Qt(o))},distance:function(o,u){return this.options.crs.distance(Ut(o),Ut(u))},containerPointToLayerPoint:function(o){return Rt(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Rt(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(Rt(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ut(o)))},mouseEventToContainerPoint:function(o){return bs(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=Mr(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(u,"scroll",this._onScroll,this),this._containerId=c(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Zt.any3d,fe(o,"leaflet-container"+(Zt.touch?" leaflet-touch":"")+(Zt.retina?" leaflet-retina":"")+(Zt.ielt9?" leaflet-oldie":"")+(Zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Os(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ne(this._mapPane,new At(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(o.markerPane,"leaflet-zoom-hide"),fe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,m){ne(this._mapPane,new At(0,0));var b=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var I=this._zoom!==u;this._moveStart(I,m)._move(o,u)._moveEnd(I),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,m,b){u===void 0&&(u=this._zoom);var I=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?m&&m.pinch&&this.fire("zoom",m):((I||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ne(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[c(this._container)]=this;var u=o?We:re;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Zt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var m=[],b,I=u==="mouseout"||u==="mouseover",B=o.target||o.srcElement,tt=!1;B;){if(b=this._targets[c(B)],b&&(u==="click"||u==="preclick")&&this._draggableMoved(b)){tt=!0;break}if(b&&b.listens(u,!0)&&(I&&!Ks(B,o)||(m.push(b),I))||B===this._container)break;B=B.parentNode}return!m.length&&!tt&&!I&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var m=o.type;m==="mousedown"&&Oi(u),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,m){if(o.type==="click"){var b=s({},o);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var I=this._findEventTargets(o,u);if(m){for(var B=[],tt=0;tt<m.length;tt++)m[tt].listens(u,!0)&&B.push(m[tt]);I=B.concat(I)}if(I.length){u==="contextmenu"&&dn(o);var at=I[0],pt={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var bt=at.getLatLng&&(!at._radius||at._radius<=10);pt.containerPoint=bt?this.latLngToContainerPoint(at.getLatLng()):this.mouseEventToContainerPoint(o),pt.layerPoint=this.containerPointToLayerPoint(pt.containerPoint),pt.latlng=bt?at.getLatLng():this.layerPointToLatLng(pt.layerPoint)}for(tt=0;tt<I.length;tt++)if(I[tt].fire(u,pt,!0),pt.originalEvent._stopped||I[tt].options.bubblingMouseEvents===!1&&it(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return hn(this._mapPane)||new At(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var m=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var m=this.getSize()._divideBy(2);return this.project(o,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,m){var b=this._getNewPixelOrigin(m,u);return this.project(o,u)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,u,m){var b=this._getNewPixelOrigin(m,u);return Mt([this.project(o.getSouthWest(),u)._subtract(b),this.project(o.getNorthWest(),u)._subtract(b),this.project(o.getSouthEast(),u)._subtract(b),this.project(o.getNorthEast(),u)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,m){if(!m)return o;var b=this.project(o,u),I=this.getSize().divideBy(2),B=new xt(b.subtract(I),b.add(I)),tt=this._getBoundsOffset(B,m,u);return Math.abs(tt.x)<=1&&Math.abs(tt.y)<=1?o:this.unproject(b.add(tt),u)},_limitOffset:function(o,u){if(!u)return o;var m=this.getPixelBounds(),b=new xt(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(b,u))},_getBoundsOffset:function(o,u,m){var b=Mt(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),I=b.min.subtract(o.min),B=b.max.subtract(o.max),tt=this._rebound(I.x,-B.x),at=this._rebound(I.y,-B.y);return new At(tt,at)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),m=this.getMaxZoom(),b=Zt.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(u,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var m=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var o=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var m=Rs,b=this._proxy.style[m];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(u),I=this._getCenterOffset(o)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(I)?!1:(q(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ts(o,u){return new Pe(o,u)}var hi=Bt.extend({options:{position:"topright"},initialize:function(o){A(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),m=this.getPosition(),b=o._controlCorners[m];return fe(u,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(u,b.firstChild):b.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Un=function(o){return new hi(o)};Pe.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",m=this._controlContainer=Se("div",u+"control-container",this._container);function b(I,B){var tt=u+I+" "+u+B;o[I+B]=Se("div",tt,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Ze(this._controlCorners[o]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ke=hi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,m,b){return m<b?-1:b<m?1:0}},initialize:function(o,u,m){A(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in u)this._addLayer(u[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return hi.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(c(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=Se("div",o),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Zs(u),Gs(u);var b=this._section=Se("section",o+"-list");m&&(this._map.on("click",this.collapse,this),re(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var I=this._layersLink=Se("a",o+"-toggle",u);I.href="#",I.title="Layers",I.setAttribute("role","button"),re(I,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){dn(B),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Se("div",o+"-base",b),this._separator=Se("div",o+"-separator",b),this._overlaysList=Se("div",o+"-overlays",b),u.appendChild(b)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&c(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(a(function(b,I){return this.options.sortFunction(b.layer,I.layer,b.name,I.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pn(this._baseLayersList),Pn(this._overlaysList),this._layerControlInputs=[];var o,u,m,b,I=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),u=u||b.overlay,o=o||!b.overlay,I+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&I>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(c(o.target)),m=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(o,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(o){var u=document.createElement("label"),m=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+c(this),m),this._layerControlInputs.push(b),b.layerId=c(o.layer),re(b,"click",this._onInputClick,this);var I=document.createElement("span");I.innerHTML=" "+o.name;var B=document.createElement("span");u.appendChild(B),B.appendChild(b),B.appendChild(I);var tt=o.overlay?this._overlaysList:this._baseLayersList;return tt.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,m,b=[],I=[];this._handlingClick=!0;for(var B=o.length-1;B>=0;B--)u=o[B],m=this._getLayer(u.layerId).layer,u.checked?b.push(m):u.checked||I.push(m);for(B=0;B<I.length;B++)this._map.hasLayer(I[B])&&this._map.removeLayer(I[B]);for(B=0;B<b.length;B++)this._map.hasLayer(b[B])||this._map.addLayer(b[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,m,b=this._map.getZoom(),I=o.length-1;I>=0;I--)u=o[I],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,re(o,"click",dn),this.expand();var u=this;setTimeout(function(){We(o,"click",dn),u._preventClick=!1})}}),lr=function(o,u,m){return new Ke(o,u,m)},Li=hi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",m=Se("div",u+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,m,b,I){var B=Se("a",m,b);return B.innerHTML=o,B.href="#",B.title=u,B.setAttribute("role","button"),B.setAttribute("aria-label",u),Zs(B),re(B,"click",ui),re(B,"click",I,this),re(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";sn(this._zoomInButton,u),sn(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(fe(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(fe(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pe.mergeOptions({zoomControl:!0}),Pe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Li,this.addControl(this.zoomControl))});var d=function(o){return new Li(o)},_=hi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",m=Se("div",u),b=this.options;return this._addScales(b,u+"-line",m),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,m){o.metric&&(this._mScale=Se("div",u,m)),o.imperial&&(this._iScale=Se("div",u,m))},_update:function(){var o=this._map,u=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/o)},_updateImperial:function(o){var u=o*3.2808399,m,b,I;u>5280?(m=u/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(I=this._getRoundNum(u),this._updateScale(this._iScale,I+" ft",I/u))},_updateScale:function(o,u,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),m=o/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),T=function(o){return new _(o)},E='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',R=hi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Zt.inlineSvg?E+" ":"")+"Leaflet</a>"},initialize:function(o){A(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),Zs(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Pe.mergeOptions({attributionControl:!0}),Pe.addInitHook(function(){this.options.attributionControl&&new R().addTo(this)});var O=function(o){return new R(o)};hi.Layers=Ke,hi.Zoom=Li,hi.Scale=_,hi.Attribution=R,Un.layers=lr,Un.zoom=d,Un.scale=T,Un.attribution=O;var F=Bt.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});F.addTo=function(o,u){return o.addHandler(u,this),this};var J={Events:Pt},X=Zt.touch?"touchstart mousedown":"mousedown",st=Wt.extend({options:{clickTolerance:3},initialize:function(o,u,m,b){A(this,b),this._element=o,this._dragStartTarget=u||o,this._preventOutline=m},enable:function(){this._enabled||(re(this._dragStartTarget,X,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(st._dragging===this&&this.finishDrag(!0),We(this._dragStartTarget,X,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Ar(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){st._dragging===this&&this.finishDrag();return}if(!(st._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(st._dragging=this,this._preventOutline&&Oi(this._element),or(),cs(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,m=ar(this._element);this._startPoint=new At(u.clientX,u.clientY),this._startPos=hn(this._element),this._parentScale=Or(m);var b=o.type==="mousedown";re(document,b?"mousemove":"touchmove",this._onMove,this),re(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,m=new At(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,dn(o),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ne(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),We(document,"mousemove touchmove",this._onMove,this),We(document,"mouseup touchend touchcancel",this._onUp,this),Jr(),us();var u=this._moved&&this._moving;this._moving=!1,st._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function dt(o,u,m){var b,I=[1,4,2,8],B,tt,at,pt,bt,Ft,le,Ce;for(B=0,Ft=o.length;B<Ft;B++)o[B]._code=ge(o[B],u);for(at=0;at<4;at++){for(le=I[at],b=[],B=0,Ft=o.length,tt=Ft-1;B<Ft;tt=B++)pt=o[B],bt=o[tt],pt._code&le?bt._code&le||(Ce=pn(bt,pt,le,u,m),Ce._code=ge(Ce,u),b.push(Ce)):(bt._code&le&&(Ce=pn(bt,pt,le,u,m),Ce._code=ge(Ce,u),b.push(Ce)),b.push(pt));o=b}return o}function gt(o,u){var m,b,I,B,tt,at,pt,bt,Ft;if(!o||o.length===0)throw new Error("latlngs not passed");p(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var le=Ut([0,0]),Ce=Qt(o),Vi=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());Vi<1700&&(le=ct(o));var ii=o.length,Es=[];for(m=0;m<ii;m++){var Zi=Ut(o[m]);Es.push(u.project(Ut([Zi.lat-le.lat,Zi.lng-le.lng])))}for(at=pt=bt=0,m=0,b=ii-1;m<ii;b=m++)I=Es[m],B=Es[b],tt=I.y*B.x-B.y*I.x,pt+=(I.x+B.x)*tt,bt+=(I.y+B.y)*tt,at+=tt*3;at===0?Ft=Es[0]:Ft=[pt/at,bt/at];var Go=u.unproject(Rt(Ft));return Ut([Go.lat+le.lat,Go.lng+le.lng])}function ct(o){for(var u=0,m=0,b=0,I=0;I<o.length;I++){var B=Ut(o[I]);u+=B.lat,m+=B.lng,b++}return Ut([u/b,m/b])}var Tt={__proto__:null,clipPolygon:dt,polygonCenter:gt,centroid:ct};function ee(o,u){if(!u||!o.length)return o.slice();var m=u*u;return o=ki(o,m),o=In(o,m),o}function we(o,u,m){return Math.sqrt(Gn(o,u,m,!0))}function oe(o,u,m){return Gn(o,u,m)}function In(o,u){var m=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,I=new b(m);I[0]=I[m-1]=1,fn(o,I,u,0,m-1);var B,tt=[];for(B=0;B<m;B++)I[B]&&tt.push(o[B]);return tt}function fn(o,u,m,b,I){var B=0,tt,at,pt;for(at=b+1;at<=I-1;at++)pt=Gn(o[at],o[b],o[I],!0),pt>B&&(tt=at,B=pt);B>m&&(u[tt]=1,fn(o,u,m,b,tt),fn(o,u,m,tt,I))}function ki(o,u){for(var m=[o[0]],b=1,I=0,B=o.length;b<B;b++)an(o[b],o[I])>u&&(m.push(o[b]),I=b);return I<B-1&&m.push(o[B-1]),m}var Pi;function me(o,u,m,b,I){var B=b?Pi:ge(o,m),tt=ge(u,m),at,pt,bt;for(Pi=tt;;){if(!(B|tt))return[o,u];if(B&tt)return!1;at=B||tt,pt=pn(o,u,at,m,I),bt=ge(pt,m),at===B?(o=pt,B=bt):(u=pt,tt=bt)}}function pn(o,u,m,b,I){var B=u.x-o.x,tt=u.y-o.y,at=b.min,pt=b.max,bt,Ft;return m&8?(bt=o.x+B*(pt.y-o.y)/tt,Ft=pt.y):m&4?(bt=o.x+B*(at.y-o.y)/tt,Ft=at.y):m&2?(bt=pt.x,Ft=o.y+tt*(pt.x-o.x)/B):m&1&&(bt=at.x,Ft=o.y+tt*(at.x-o.x)/B),new At(bt,Ft,I)}function ge(o,u){var m=0;return o.x<u.min.x?m|=1:o.x>u.max.x&&(m|=2),o.y<u.min.y?m|=4:o.y>u.max.y&&(m|=8),m}function an(o,u){var m=u.x-o.x,b=u.y-o.y;return m*m+b*b}function Gn(o,u,m,b){var I=u.x,B=u.y,tt=m.x-I,at=m.y-B,pt=tt*tt+at*at,bt;return pt>0&&(bt=((o.x-I)*tt+(o.y-B)*at)/pt,bt>1?(I=m.x,B=m.y):bt>0&&(I+=tt*bt,B+=at*bt)),tt=o.x-I,at=o.y-B,b?tt*tt+at*at:new At(I,B)}function p(o){return!Q(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function S(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),p(o)}function D(o,u){var m,b,I,B,tt,at,pt,bt;if(!o||o.length===0)throw new Error("latlngs not passed");p(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ft=Ut([0,0]),le=Qt(o),Ce=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Ce<1700&&(Ft=ct(o));var Vi=o.length,ii=[];for(m=0;m<Vi;m++){var Es=Ut(o[m]);ii.push(u.project(Ut([Es.lat-Ft.lat,Es.lng-Ft.lng])))}for(m=0,b=0;m<Vi-1;m++)b+=ii[m].distanceTo(ii[m+1])/2;if(b===0)bt=ii[0];else for(m=0,B=0;m<Vi-1;m++)if(tt=ii[m],at=ii[m+1],I=tt.distanceTo(at),B+=I,B>b){pt=(B-b)/I,bt=[at.x-pt*(at.x-tt.x),at.y-pt*(at.y-tt.y)];break}var Zi=u.unproject(Rt(bt));return Ut([Zi.lat+Ft.lat,Zi.lng+Ft.lng])}var Y={__proto__:null,simplify:ee,pointToSegmentDistance:we,closestPointOnSegment:oe,clipSegment:me,_getEdgeIntersection:pn,_getBitCode:ge,_sqClosestPointOnSegment:Gn,isFlat:p,_flat:S,polylineCenter:D},ot={project:function(o){return new At(o.lng,o.lat)},unproject:function(o){return new yt(o.y,o.x)},bounds:new xt([-180,-90],[180,90])},ut={R:6378137,R_MINOR:6356752314245179e-9,bounds:new xt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,m=this.R,b=o.lat*u,I=this.R_MINOR/m,B=Math.sqrt(1-I*I),tt=B*Math.sin(b),at=Math.tan(Math.PI/4-b/2)/Math.pow((1-tt)/(1+tt),B/2);return b=-m*Math.log(Math.max(at,1e-10)),new At(o.lng*u*m,b)},unproject:function(o){for(var u=180/Math.PI,m=this.R,b=this.R_MINOR/m,I=Math.sqrt(1-b*b),B=Math.exp(-o.y/m),tt=Math.PI/2-2*Math.atan(B),at=0,pt=.1,bt;at<15&&Math.abs(pt)>1e-7;at++)bt=I*Math.sin(tt),bt=Math.pow((1-bt)/(1+bt),I/2),pt=Math.PI/2-2*Math.atan(B*bt)-tt,tt+=pt;return new yt(tt*u,o.x*u/m)}},St={__proto__:null,LonLat:ot,Mercator:ut,SphericalMercator:Ye},Ve=s({},Ae,{code:"EPSG:3395",projection:ut,transformation:function(){var o=.5/(Math.PI*ut.R);return cn(o,.5,-o,.5)}()}),Xe=s({},Ae,{code:"EPSG:4326",projection:ot,transformation:cn(1/180,1,-1/180,.5)}),_e=s({},Te,{projection:ot,transformation:cn(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var m=u.lng-o.lng,b=u.lat-o.lat;return Math.sqrt(m*m+b*b)},infinite:!0});Te.Earth=Ae,Te.EPSG3395=Ve,Te.EPSG3857=Bn,Te.EPSG900913=Yn,Te.EPSG4326=Xe,Te.Simple=_e;var $e=Wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[c(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[c(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Pe.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=c(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=c(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return c(o)in this._layers},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},_addLayers:function(o){o=o?Q(o)?o:[o]:[];for(var u=0,m=o.length;u<m;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[c(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=c(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var I=this._zoomBoundLayers[b].options;o=I.minZoom===void 0?o:Math.min(o,I.minZoom),u=I.maxZoom===void 0?u:Math.max(u,I.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _n=$e.extend({initialize:function(o,u){A(this,u),this._layers={};var m,b;if(o)for(m=0,b=o.length;m<b;m++)this.addLayer(o[m])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[o]&&b[o].apply(b,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var m in this._layers)o.call(u,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return c(o)}}),Ls=function(o,u){return new _n(o,u)},Lt=_n.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),_n.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),_n.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new It;for(var u in this._layers){var m=this._layers[u];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),Ns=function(o,u){return new Lt(o,u)},Cn=Bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){A(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,u){var m=this.options,b=m[u+"Size"];typeof b=="number"&&(b=[b,b]);var I=Rt(b),B=Rt(u==="shadow"&&m.shadowAnchor||m.iconAnchor||I&&I.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(m.className||""),B&&(o.style.marginLeft=-B.x+"px",o.style.marginTop=-B.y+"px"),I&&(o.style.width=I.x+"px",o.style.height=I.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return Zt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function cr(o){return new Cn(o)}var oo=Cn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof oo.imagePath!="string"&&(oo.imagePath=this._detectIconPath()),(this.options.imagePath||oo.imagePath)+Cn.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(m,b,I){var B=b.exec(m);return B&&B[I]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Se("div","leaflet-default-icon-path",document.body),u=Os(o,"background-image")||Os(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),ul=F.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new st(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,m=u._map,b=this._marker.options.autoPanSpeed,I=this._marker.options.autoPanPadding,B=hn(u._icon),tt=m.getPixelBounds(),at=m.getPixelOrigin(),pt=Mt(tt.min._subtract(at).add(I),tt.max._subtract(at).subtract(I));if(!pt.contains(B)){var bt=Rt((Math.max(pt.max.x,B.x)-pt.max.x)/(tt.max.x-pt.max.x)-(Math.min(pt.min.x,B.x)-pt.min.x)/(tt.min.x-pt.min.x),(Math.max(pt.max.y,B.y)-pt.max.y)/(tt.max.y-pt.max.y)-(Math.min(pt.min.y,B.y)-pt.min.y)/(tt.min.y-pt.min.y)).multiplyBy(b);m.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),ne(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,m=u._shadow,b=hn(u._icon),I=u._map.layerPointToLatLng(b);m&&ne(m,b),u._latlng=I,o.latlng=I,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ao=$e.extend({options:{icon:new oo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){A(this,u),this._latlng=Ut(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=Ut(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),fe(m,u),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(m,"focus",this._panOnFocus,this);var I=o.icon.createShadow(this._shadow),B=!1;I!==this._shadow&&(this._removeShadow(),B=!0),I&&(fe(I,u),I.alt=""),this._shadow=I,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),I&&B&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ne(this._icon,o),this._shadow&&ne(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ul)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ul(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&gn(this._icon,o),this._shadow&&gn(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,m=u.iconSize?Rt(u.iconSize):Rt(0,0),b=u.iconAnchor?Rt(u.iconAnchor):Rt(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ds(o,u){return new ao(o,u)}var xs=$e.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return A(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fs=xs.extend({options:{fill:!0,radius:10},initialize:function(o,u){A(this,u),this._latlng=Ut(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=Ut(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return xs.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,m=this._clickTolerance(),b=[o+m,u+m];this._pxBounds=new xt(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hl(o,u){return new fs(o,u)}var Ss=fs.extend({initialize:function(o,u,m){if(typeof u=="number"&&(u=s({},m,{radius:u})),A(this,u),this._latlng=Ut(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new It(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:xs.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Ae.distance){var I=Math.PI/180,B=this._mRadius/Ae.R/I,tt=m.project([u+B,o]),at=m.project([u-B,o]),pt=tt.add(at).divideBy(2),bt=m.unproject(pt).lat,Ft=Math.acos((Math.cos(B*I)-Math.sin(u*I)*Math.sin(bt*I))/(Math.cos(u*I)*Math.cos(bt*I)))/I;(isNaN(Ft)||Ft===0)&&(Ft=B/Math.cos(Math.PI/180*u)),this._point=pt.subtract(m.getPixelOrigin()),this._radius=isNaN(Ft)?0:pt.x-m.project([bt,o-Ft]).x,this._radiusY=pt.y-tt.y}else{var le=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(le).x}this._updateBounds()}});function ur(o,u,m){return new Ss(o,u,m)}var Ii=xs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){A(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,m=null,b=Gn,I,B,tt=0,at=this._parts.length;tt<at;tt++)for(var pt=this._parts[tt],bt=1,Ft=pt.length;bt<Ft;bt++){I=pt[bt-1],B=pt[bt];var le=b(o,I,B,!0);le<u&&(u=le,m=b(o,I,B))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return D(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=Ut(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new It,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return p(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],m=p(o),b=0,I=o.length;b<I;b++)m?(u[b]=Ut(o[b]),this._bounds.extend(u[b])):u[b]=this._convertLatLngs(o[b]);return u},_project:function(){var o=new xt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new At(o,o);this._rawPxBounds&&(this._pxBounds=new xt([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,m){var b=o[0]instanceof yt,I=o.length,B,tt;if(b){for(tt=[],B=0;B<I;B++)tt[B]=this._map.latLngToLayerPoint(o[B]),m.extend(tt[B]);u.push(tt)}else for(B=0;B<I;B++)this._projectLatlngs(o[B],u,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,b,I,B,tt,at,pt;for(m=0,I=0,B=this._rings.length;m<B;m++)for(pt=this._rings[m],b=0,tt=pt.length;b<tt-1;b++)at=me(pt[b],pt[b+1],o,b,!0),at&&(u[I]=u[I]||[],u[I].push(at[0]),(at[1]!==pt[b+1]||b===tt-2)&&(u[I].push(at[1]),I++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,m=0,b=o.length;m<b;m++)o[m]=ee(o[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var m,b,I,B,tt,at,pt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,B=this._parts.length;m<B;m++)for(at=this._parts[m],b=0,tt=at.length,I=tt-1;b<tt;I=b++)if(!(!u&&b===0)&&we(o,at[I],at[b])<=pt)return!0;return!1}});function Pa(o,u){return new Ii(o,u)}Ii._flat=S;var hr=Ii.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=Ii.prototype._convertLatLngs.call(this,o),m=u.length;return m>=2&&u[0]instanceof yt&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(o){Ii.prototype._setLatLngs.call(this,o),p(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return p(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,m=new At(u,u);if(o=new xt(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,I=this._rings.length,B;b<I;b++)B=dt(this._rings[b],o,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,m,b,I,B,tt,at,pt,bt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(B=0,pt=this._parts.length;B<pt;B++)for(m=this._parts[B],tt=0,bt=m.length,at=bt-1;tt<bt;at=tt++)b=m[tt],I=m[at],b.y>o.y!=I.y>o.y&&o.x<(I.x-b.x)*(o.y-b.y)/(I.y-b.y)+b.x&&(u=!u);return u||Ii.prototype._containsPoint.call(this,o,!0)}});function Yo(o,u){return new hr(o,u)}var Ni=Lt.extend({initialize:function(o,u){A(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=Q(o)?o:o.features,m,b,I;if(u){for(m=0,b=u.length;m<b;m++)I=u[m],(I.geometries||I.geometry||I.features||I.coordinates)&&this.addData(I);return this}var B=this.options;if(B.filter&&!B.filter(o))return this;var tt=Xs(o,B);return tt?(tt.feature=ht(o),tt.defaultOptions=tt.options,this.resetStyle(tt),B.onEachFeature&&B.onEachFeature(o,tt),this.addLayer(tt)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function Xs(o,u){var m=o.type==="Feature"?o.geometry:o,b=m?m.coordinates:null,I=[],B=u&&u.pointToLayer,tt=u&&u.coordsToLatLng||lo,at,pt,bt,Ft;if(!b&&!m)return null;switch(m.type){case"Point":return at=tt(b),$o(B,o,at,u);case"MultiPoint":for(bt=0,Ft=b.length;bt<Ft;bt++)at=tt(b[bt]),I.push($o(B,o,at,u));return new Lt(I);case"LineString":case"MultiLineString":return pt=co(b,m.type==="LineString"?0:1,tt),new Ii(pt,u);case"Polygon":case"MultiPolygon":return pt=co(b,m.type==="Polygon"?1:2,tt),new hr(pt,u);case"GeometryCollection":for(bt=0,Ft=m.geometries.length;bt<Ft;bt++){var le=Xs({geometry:m.geometries[bt],type:"Feature",properties:o.properties},u);le&&I.push(le)}return new Lt(I);case"FeatureCollection":for(bt=0,Ft=m.features.length;bt<Ft;bt++){var Ce=Xs(m.features[bt],u);Ce&&I.push(Ce)}return new Lt(I);default:throw new Error("Invalid GeoJSON object.")}}function $o(o,u,m,b){return o?o(u,m):new ao(m,b&&b.markersInheritOptions&&b)}function lo(o){return new yt(o[1],o[0],o[2])}function co(o,u,m){for(var b=[],I=0,B=o.length,tt;I<B;I++)tt=u?co(o[I],u-1,m):(m||lo)(o[I]),b.push(tt);return b}function G(o,u){return o=Ut(o),o.alt!==void 0?[x(o.lng,u),x(o.lat,u),x(o.alt,u)]:[x(o.lng,u),x(o.lat,u)]}function nt(o,u,m,b){for(var I=[],B=0,tt=o.length;B<tt;B++)I.push(u?nt(o[B],p(o[B])?0:u-1,m,b):G(o[B],b));return!u&&m&&I.length>0&&I.push(I[0].slice()),I}function lt(o,u){return o.feature?s({},o.feature,{geometry:u}):ht(u)}function ht(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var _t={toGeoJSON:function(o){return lt(this,{type:"Point",coordinates:G(this.getLatLng(),o)})}};ao.include(_t),Ss.include(_t),fs.include(_t),Ii.include({toGeoJSON:function(o){var u=!p(this._latlngs),m=nt(this._latlngs,u?1:0,!1,o);return lt(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),hr.include({toGeoJSON:function(o){var u=!p(this._latlngs),m=u&&!p(this._latlngs[0]),b=nt(this._latlngs,m?2:u?1:0,!0,o);return u||(b=[b]),lt(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),_n.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(o).geometry.coordinates)}),lt(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var m=u==="GeometryCollection",b=[];return this.eachLayer(function(I){if(I.toGeoJSON){var B=I.toGeoJSON(o);if(m)b.push(B.geometry);else{var tt=ht(B);tt.type==="FeatureCollection"?b.push.apply(b,tt.features):b.push(tt)}}}),m?lt(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Ct(o,u){return new Ni(o,u)}var Vt=Ct,Yt=$e.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,m){this._url=o,this._bounds=Qt(u),A(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&xi(this._image),this},bringToBack:function(){return this._map&&Hi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Qt(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:Se("img");if(fe(u,"leaflet-image-layer"),this._zoomAnimated&&fe(u,"leaflet-zoom-animated"),this.options.className&&fe(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=a(this.fire,this,"load"),u.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;wn(this._image,m,u)},_reset:function(){var o=this._image,u=new xt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();ne(o,u.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){gn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Nt=function(o,u,m){return new Yt(o,u,m)},Ee=Yt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:Se("video");if(fe(u,"leaflet-image-layer"),this._zoomAnimated&&fe(u,"leaflet-zoom-animated"),this.options.className&&fe(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=a(this.fire,this,"load"),o){for(var m=u.getElementsByTagName("source"),b=[],I=0;I<m.length;I++)b.push(m[I].src);this._url=m.length>0?b:[u.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var tt=Se("source");tt.src=this._url[B],u.appendChild(tt)}}});function ae(o,u,m){return new Ee(o,u,m)}var Jt=Yt.extend({_initImage:function(){var o=this._image=this._url;fe(o,"leaflet-image-layer"),this._zoomAnimated&&fe(o,"leaflet-zoom-animated"),this.options.className&&fe(o,this.options.className),o.onselectstart=w,o.onmousemove=w}});function pe(o,u,m){return new Jt(o,u,m)}var qt=$e.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof yt||Q(o))?(this._latlng=Ut(o),A(this,u)):(A(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&gn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&gn(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(gn(this._container,0),this._removeTimeout=setTimeout(a(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ut(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xi(this._container),this},bringToBack:function(){return this._map&&Hi(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Lt){u=null;var m=this._source._layers;for(var b in m)if(m[b]._map){u=m[b];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=Rt(this.options.offset),m=this._getAnchor();this._zoomAnimated?ne(this._container,o.add(m)):u=u.add(o).add(m);var b=this._containerBottom=-u.y,I=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=b+"px",this._container.style.left=I+"px"}},_getAnchor:function(){return[0,0]}});Pe.include({_initOverlay:function(o,u,m,b){var I=u;return I instanceof o||(I=new o(b).setContent(u)),m&&I.setLatLng(m),I}}),$e.include({_initOverlay:function(o,u,m,b){var I=m;return I instanceof o?(A(I,b),I._source=this):(I=u&&!b?u:new o(b,this),I.setContent(m)),I}});var qe=qt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,qt.prototype.openOn.call(this,o)},onAdd:function(o){qt.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xs||this._source.on("preclick",qi))},onRemove:function(o){qt.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xs||this._source.off("preclick",qi))},getEvents:function(){var o=qt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=Se("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Se("div",o+"-content-wrapper",u);if(this._contentNode=Se("div",o+"-content",m),Zs(u),Gs(this._contentNode),re(u,"contextmenu",qi),this._tipContainer=Se("div",o+"-tip-container",u),this._tip=Se("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=Se("a",o+"-close-button",u);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',re(b,"click",function(I){dn(I),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var b=o.offsetHeight,I=this.options.maxHeight,B="leaflet-popup-scrolled";I&&b>I?(u.height=I+"px",fe(o,B)):sn(o,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();ne(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(Os(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,b=this._containerWidth,I=new At(this._containerLeft,-m-this._containerBottom);I._add(hn(this._container));var B=o.layerPointToContainerPoint(I),tt=Rt(this.options.autoPanPadding),at=Rt(this.options.autoPanPaddingTopLeft||tt),pt=Rt(this.options.autoPanPaddingBottomRight||tt),bt=o.getSize(),Ft=0,le=0;B.x+b+pt.x>bt.x&&(Ft=B.x+b-bt.x+pt.x),B.x-Ft-at.x<0&&(Ft=B.x-at.x),B.y+m+pt.y>bt.y&&(le=B.y+m-bt.y+pt.y),B.y-le-at.y<0&&(le=B.y-at.y),(Ft||le)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ft,le]))}},_getAnchor:function(){return Rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),di=function(o,u){return new qe(o,u)};Pe.mergeOptions({closePopupOnClick:!0}),Pe.include({openPopup:function(o,u,m){return this._initOverlay(qe,o,u,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),$e.include({bindPopup:function(o,u){return this._popup=this._initOverlay(qe,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Lt||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){ui(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof xs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Mn=qt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){qt.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){qt.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=qt.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,m,b=this._map,I=this._container,B=b.latLngToContainerPoint(b.getCenter()),tt=b.layerPointToContainerPoint(o),at=this.options.direction,pt=I.offsetWidth,bt=I.offsetHeight,Ft=Rt(this.options.offset),le=this._getAnchor();at==="top"?(u=pt/2,m=bt):at==="bottom"?(u=pt/2,m=0):at==="center"?(u=pt/2,m=bt/2):at==="right"?(u=0,m=bt/2):at==="left"?(u=pt,m=bt/2):tt.x<B.x?(at="right",u=0,m=bt/2):(at="left",u=pt+(Ft.x+le.x)*2,m=bt/2),o=o.subtract(Rt(u,m,!0)).add(Ft).add(le),sn(I,"leaflet-tooltip-right"),sn(I,"leaflet-tooltip-left"),sn(I,"leaflet-tooltip-top"),sn(I,"leaflet-tooltip-bottom"),fe(I,"leaflet-tooltip-"+at),ne(I,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&gn(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return Rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gi=function(o,u){return new Mn(o,u)};Pe.include({openTooltip:function(o,u,m){return this._initOverlay(Mn,o,u,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),$e.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mn,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Lt||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(re(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),re(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,m,b;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(u)}});var ps=Cn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Pn(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=Rt(m.bgPos);u.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function dr(o){return new ps(o)}Cn.Default=oo;var Fn=$e.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){A(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Ze(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof At?o:new At(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,m=-o(-1/0,1/0),b=0,I=u.length,B;b<I;b++)B=u[b].style.zIndex,u[b]!==this._container&&B&&(m=o(m,+B));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Zt.ielt9){gn(this._container,this.options.opacity);var o=+new Date,u=!1,m=!1;for(var b in this._tiles){var I=this._tiles[b];if(!(!I.current||!I.loaded)){var B=Math.min(1,(o-I.loaded)/200);gn(I.el,B),B<1?u=!0:(I.active?m=!0:this._onOpaqueTile(I),I.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(Z(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=u-Math.abs(o-m),this._onUpdateLevel(m)):(Ze(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[o],I=this._map;return b||(b=this._levels[o]={},b.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=u,b.origin=I.project(I.unproject(I.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,I.getCenter(),I.getZoom()),w(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var o,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var b=u.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Ze(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,m,b){var I=Math.floor(o/2),B=Math.floor(u/2),tt=m-1,at=new At(+I,+B);at.z=+tt;var pt=this._tileCoordsToKey(at),bt=this._tiles[pt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),tt>b?this._retainParent(I,B,tt,b):!1)},_retainChildren:function(o,u,m,b){for(var I=2*o;I<2*o+2;I++)for(var B=2*u;B<2*u+2;B++){var tt=new At(I,B);tt.z=m+1;var at=this._tileCoordsToKey(tt),pt=this._tiles[at];if(pt&&pt.active){pt.retain=!0;continue}else pt&&pt.loaded&&(pt.retain=!0);m+1<b&&this._retainChildren(I,B,m+1,b)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,m,b){var I=Math.round(u);this.options.maxZoom!==void 0&&I>this.options.maxZoom||this.options.minZoom!==void 0&&I<this.options.minZoom?I=void 0:I=this._clampZoom(I);var B=this.options.updateWhenZooming&&I!==this._tileZoom;(!b||B)&&(this._tileZoom=I,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),I!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,u)},_setZoomTransform:function(o,u,m){var b=this._map.getZoomScale(m,o.zoom),I=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(u,m)).round();Zt.any3d?wn(o.el,I,b):ne(o.el,I)},_resetGrid:function(){var o=this._map,u=o.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,I=this._map.getPixelWorldBounds(this._tileZoom);I&&(this._globalTileRange=this._pxBoundsToTileRange(I)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],b).x/m.x),Math.ceil(o.project([0,u.wrapLng[1]],b).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],b).y/m.x),Math.ceil(o.project([u.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),b=u.getZoomScale(m,this._tileZoom),I=u.project(o,this._tileZoom).floor(),B=u.getSize().divideBy(b*2);return new xt(I.subtract(B),I.add(B))},_update:function(o){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),I=this._pxBoundsToTileRange(b),B=I.getCenter(),tt=[],at=this.options.keepBuffer,pt=new xt(I.getBottomLeft().subtract([at,-at]),I.getTopRight().add([at,-at]));if(!(isFinite(I.min.x)&&isFinite(I.min.y)&&isFinite(I.max.x)&&isFinite(I.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var Ft=this._tiles[bt].coords;(Ft.z!==this._tileZoom||!pt.contains(new At(Ft.x,Ft.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var le=I.min.y;le<=I.max.y;le++)for(var Ce=I.min.x;Ce<=I.max.x;Ce++){var Vi=new At(Ce,le);if(Vi.z=this._tileZoom,!!this._isValidTile(Vi)){var ii=this._tiles[this._tileCoordsToKey(Vi)];ii?ii.current=!0:tt.push(Vi)}}if(tt.sort(function(Zi,Go){return Zi.distanceTo(B)-Go.distanceTo(B)}),tt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Es=document.createDocumentFragment();for(Ce=0;Ce<tt.length;Ce++)this._addTile(tt[Ce],Es);this._level.el.appendChild(Es)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!u.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return Qt(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,m=this.getTileSize(),b=o.scaleBy(m),I=b.add(m),B=u.unproject(b,o.z),tt=u.unproject(I,o.z);return[B,tt]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),m=new It(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),m=new At(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(o){var u=this._tiles[o];u&&(Ze(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){fe(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=w,o.onmousemove=w,Zt.ielt9&&this.options.opacity<1&&gn(o,this.options.opacity)},_addTile:function(o,u){var m=this._getTilePos(o),b=this._tileCoordsToKey(o),I=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(I),this.createTile.length<2&&q(a(this._tileReady,this,o,null,I)),ne(I,m),this._tiles[b]={el:I,coords:o,current:!0},u.appendChild(I),this.fire("tileloadstart",{tile:I,coords:o})},_tileReady:function(o,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:o});var b=this._tileCoordsToKey(o);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(gn(m.el,0),Z(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(fe(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Zt.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new At(this._wrapX?g(o.x,this._wrapX):o.x,this._wrapY?g(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new xt(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function lf(o){return new Fn(o)}var qo=Fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=A(this,u),u.detectRetina&&Zt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var m=document.createElement("img");return re(m,"load",a(this._tileOnLoad,this,u,m)),re(m,"error",a(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var u={r:Zt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=m),u["-y"]=m}return K(this._url,s(u,this.options))},_tileOnLoad:function(o,u){Zt.ielt9?setTimeout(a(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,m){var b=this.options.errorTileUrl;b&&u.getAttribute("src")!==b&&(u.src=b),o(m,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(o=u-o),o+b},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=w,u.onerror=w,!u.complete)){u.src=rt;var m=this._tiles[o].coords;Ze(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",rt),Fn.prototype._removeTile.call(this,o)},_tileReady:function(o,u,m){if(!(!this._map||m&&m.getAttribute("src")===rt))return Fn.prototype._tileReady.call(this,o,u,m)}});function Pu(o,u){return new qo(o,u)}var Iu=qo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var m=s({},this.defaultWmsParams);for(var b in u)b in this.options||(m[b]=u[b]);u=A(this,u);var I=u.detectRetina&&Zt.retina?2:1,B=this.getTileSize();m.width=B.x*I,m.height=B.y*I,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,qo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),m=this._crs,b=Mt(m.project(u[0]),m.project(u[1])),I=b.min,B=b.max,tt=(this._wmsVersion>=1.3&&this._crs===Xe?[I.y,I.x,B.y,B.x]:[I.x,I.y,B.x,B.y]).join(","),at=qo.prototype.getTileUrl.call(this,o);return at+V(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+tt},setParams:function(o,u){return s(this.wmsParams,o),u||this.redraw(),this}});function cf(o,u){return new Iu(o,u)}qo.WMS=Iu,Pu.wms=cf;var fr=$e.extend({options:{padding:.1},initialize:function(o){A(this,o),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var m=this._map.getZoomScale(u,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),I=this._map.project(this._center,u),B=b.multiplyBy(-m).add(I).subtract(this._map._getNewPixelOrigin(o,u));Zt.any3d?wn(this._container,B,m):ne(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new xt(m,m.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cu=fr.extend({options:{tolerance:0},getEvents:function(){var o=fr.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");re(o,"mousemove",this._onMouseMove,this),re(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Ze(this._container),We(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var o=this._bounds,u=this._container,m=o.getSize(),b=Zt.retina?2:1;ne(u,o.min),u.width=b*m.x,u.height=b*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[c(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,m=u.next,b=u.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete o._order,delete this._layers[c(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),m=[],b,I;for(I=0;I<u.length;I++){if(b=Number(u[I]),isNaN(b))return;m.push(b)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new xt,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var m,b,I,B,tt=o._parts,at=tt.length,pt=this._ctx;if(at){for(pt.beginPath(),m=0;m<at;m++){for(b=0,I=tt[m].length;b<I;b++)B=tt[m][b],pt[b?"lineTo":"moveTo"](B.x,B.y);u&&pt.closePath()}this._fillStroke(pt,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,m=this._ctx,b=Math.max(Math.round(o._radius),1),I=(Math.max(Math.round(o._radiusY),1)||b)/b;I!==1&&(m.save(),m.scale(1,I)),m.beginPath(),m.arc(u.x,u.y/I,b,0,Math.PI*2,!1),I!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,u){var m=u.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),m,b,I=this._drawFirst;I;I=I.next)m=I.layer,m.options.interactive&&m._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(sn(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var m,b,I=this._drawFirst;I;I=I.next)m=I.layer,m.options.interactive&&m._containsPoint(u)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(fe(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,m){this._map._fireDOMEvent(u,m||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var m=u.next,b=u.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var m=u.next,b=u.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function Mu(o){return Zt.canvas?new Cu(o):null}var Ia=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),uf={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fr.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=Ia("shape");fe(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=Ia("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;Ze(u),o.removeInteractiveTarget(u),delete this._layers[c(o)]},_updateStyle:function(o){var u=o._stroke,m=o._fill,b=o.options,I=o._container;I.stroked=!!b.stroke,I.filled=!!b.fill,b.stroke?(u||(u=o._stroke=Ia("stroke")),I.appendChild(u),u.weight=b.weight+"px",u.color=b.color,u.opacity=b.opacity,b.dashArray?u.dashStyle=Q(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=b.lineCap.replace("butt","flat"),u.joinstyle=b.lineJoin):u&&(I.removeChild(u),o._stroke=null),b.fill?(m||(m=o._fill=Ia("fill")),I.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(I.removeChild(m),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),m=Math.round(o._radius),b=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){xi(o._container)},_bringToBack:function(o){Hi(o._container)}},dl=Zt.vml?Ia:Qn,Ca=fr.extend({_initContainer:function(){this._container=dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),We(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fr.prototype._update.call(this);var o=this._bounds,u=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),ne(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=dl("path");o.options.className&&fe(u,o.options.className),o.options.interactive&&fe(u,"leaflet-interactive"),this._updateStyle(o),this._layers[c(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Ze(o._path),o.removeInteractiveTarget(o._path),delete this._layers[c(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,m=o.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,_i(o._parts,u))},_updateCircle:function(o){var u=o._point,m=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||m,I="a"+m+","+b+" 0 1,0 ",B=o._empty()?"M0 0":"M"+(u.x-m)+","+u.y+I+m*2+",0 "+I+-m*2+",0 ";this._setPath(o,B)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){xi(o._path)},_bringToBack:function(o){Hi(o._path)}});Zt.vml&&Ca.include(uf);function Au(o){return Zt.svg||Zt.vml?new Ca(o):null}Pe.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&Mu(o)||Au(o)}});var Ma=hr.extend({initialize:function(o,u){hr.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Qt(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function hf(o,u){return new Ma(o,u)}Ca.create=dl,Ca.pointsToPath=_i,Ni.geometryToLayer=Xs,Ni.coordsToLatLng=lo,Ni.coordsToLatLngs=co,Ni.latLngToCoords=G,Ni.latLngsToCoords=nt,Ni.getFeature=lt,Ni.asFeature=ht,Pe.mergeOptions({boxZoom:!0});var Du=F.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),cs(),or(),this._startPoint=this._map.mouseEventToContainerPoint(o),re(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new xt(this._point,this._startPoint),m=u.getSize();ne(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Ze(this._box),sn(this._container,"leaflet-crosshair")),us(),Jr(),We(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var u=new It(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pe.addInitHook("addHandler","boxZoom",Du),Pe.mergeOptions({doubleClickZoom:!0});var Ru=F.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,m=u.getZoom(),b=u.options.zoomDelta,I=o.originalEvent.shiftKey?m-b:m+b;u.options.doubleClickZoom==="center"?u.setZoom(I):u.setZoomAround(o.containerPoint,I)}});Pe.addInitHook("addHandler","doubleClickZoom",Ru),Pe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ou=F.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new st(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Qt(this._map.options.maxBounds);this._offsetLimit=Mt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,I=(b-u+m)%o+u-m,B=(b+u+m)%o-u-m,tt=Math.abs(I+m)<Math.abs(B+m)?I:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=tt},_onDragEnd:function(o){var u=this._map,m=u.options,b=!m.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),b)u.fire("moveend");else{this._prunePositions(+new Date);var I=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,tt=m.easeLinearity,at=I.multiplyBy(tt/B),pt=at.distanceTo([0,0]),bt=Math.min(m.inertiaMaxSpeed,pt),Ft=at.multiplyBy(bt/pt),le=bt/(m.inertiaDeceleration*tt),Ce=Ft.multiplyBy(-le/2).round();!Ce.x&&!Ce.y?u.fire("moveend"):(Ce=u._limitOffset(Ce,u.options.maxBounds),q(function(){u.panBy(Ce,{duration:le,easeLinearity:tt,noMoveStart:!0,animate:!0})}))}}});Pe.addInitHook("addHandler","dragging",Ou),Pe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lu=F.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),re(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),We(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,m=o.scrollTop||u.scrollTop,b=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},m=this.keyCodes,b,I;for(b=0,I=m.left.length;b<I;b++)u[m.left[b]]=[-1*o,0];for(b=0,I=m.right.length;b<I;b++)u[m.right[b]]=[o,0];for(b=0,I=m.down.length;b<I;b++)u[m.down[b]]=[0,o];for(b=0,I=m.up.length;b<I;b++)u[m.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},m=this.keyCodes,b,I;for(b=0,I=m.zoomIn.length;b<I;b++)u[m.zoomIn[b]]=o;for(b=0,I=m.zoomOut.length;b<I;b++)u[m.zoomOut[b]]=-o},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){We(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,m=this._map,b;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[u],o.shiftKey&&(b=Rt(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(Rt(b),m.options.maxBounds)),m.options.worldCopyJump){var I=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(I)}else m.panBy(b)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;ui(o)}}});Pe.addInitHook("addHandler","keyboard",Lu),Pe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nu=F.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=io(o),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),b),ui(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),I=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,B=m?Math.ceil(I/m)*m:I,tt=o._limitZoom(u+(this._delta>0?B:-B))-u;this._delta=0,this._startTime=null,tt&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+tt):o.setZoomAround(this._lastMousePos,u+tt))}});Pe.addInitHook("addHandler","scrollWheelZoom",Nu);var df=600;Pe.mergeOptions({tapHold:Zt.touchNative&&Zt.safari&&Zt.mobile,tapTolerance:15});var Vu=F.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new At(u.clientX,u.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",dn),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),df),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){We(document,"touchend",dn),We(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new At(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Pe.addInitHook("addHandler","tapHold",Vu),Pe.mergeOptions({touchZoom:Zt.touch,bounceAtZoomLimits:!0});var rc=F.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),dn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(o.touches[0]),b=u.mouseEventToContainerPoint(o.touches[1]),I=m.distanceTo(b)/this._startDist;if(this._zoom=u.getScaleZoom(I,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&I<1||this._zoom>u.getMaxZoom()&&I>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,I===1)return}else{var B=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(I===1&&B.x===0&&B.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var tt=a(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(tt,this,!0),dn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pe.addInitHook("addHandler","touchZoom",rc),Pe.BoxZoom=Du,Pe.DoubleClickZoom=Ru,Pe.Drag=Ou,Pe.Keyboard=Lu,Pe.ScrollWheelZoom=Nu,Pe.TapHold=Vu,Pe.TouchZoom=rc,e.Bounds=xt,e.Browser=Zt,e.CRS=Te,e.Canvas=Cu,e.Circle=Ss,e.CircleMarker=fs,e.Class=Bt,e.Control=hi,e.DivIcon=ps,e.DivOverlay=qt,e.DomEvent=so,e.DomUtil=to,e.Draggable=st,e.Evented=Wt,e.FeatureGroup=Lt,e.GeoJSON=Ni,e.GridLayer=Fn,e.Handler=F,e.Icon=Cn,e.ImageOverlay=Yt,e.LatLng=yt,e.LatLngBounds=It,e.Layer=$e,e.LayerGroup=_n,e.LineUtil=Y,e.Map=Pe,e.Marker=ao,e.Mixin=J,e.Path=xs,e.Point=At,e.PolyUtil=Tt,e.Polygon=hr,e.Polyline=Ii,e.Popup=qe,e.PosAnimation=ro,e.Projection=St,e.Rectangle=Ma,e.Renderer=fr,e.SVG=Ca,e.SVGOverlay=Jt,e.TileLayer=qo,e.Tooltip=Mn,e.Transformation=On,e.Util=$,e.VideoOverlay=Ee,e.bind=a,e.bounds=Mt,e.canvas=Mu,e.circle=ur,e.circleMarker=hl,e.control=Un,e.divIcon=dr,e.extend=s,e.featureGroup=Ns,e.geoJSON=Ct,e.geoJson=Vt,e.gridLayer=lf,e.icon=cr,e.imageOverlay=Nt,e.latLng=Ut,e.latLngBounds=Qt,e.layerGroup=Ls,e.map=Ts,e.marker=ds,e.point=Rt,e.polygon=Yo,e.polyline=Pa,e.popup=di,e.rectangle=hf,e.setOptions=A,e.stamp=c,e.svg=Au,e.svgOverlay=pe,e.tileLayer=Pu,e.tooltip=Gi,e.transformation=cn,e.version=i,e.videoOverlay=ae;var Fu=window.L;e.noConflict=function(){return window.L=Fu,this},window.L=e})}(wc,wc.exports)),wc.exports}dR();function My(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function $m(n,t){n===void 0&&(n={}),t===void 0&&(t={});const e=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>e.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=t[i]:My(t[i])&&My(n[i])&&Object.keys(t[i]).length>0&&$m(n[i],t[i])})}const ub={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function sl(){const n=typeof document<"u"?document:{};return $m(n,ub),n}const fR={document:ub,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function gs(){const n=typeof window<"u"?window:{};return $m(n,fR),n}function pR(n){return n===void 0&&(n=""),n.trim().split(" ").filter(t=>!!t.trim())}function mR(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch{}try{delete t[e]}catch{}})}function Dp(n,t){return t===void 0&&(t=0),setTimeout(n,t)}function nd(){return Date.now()}function gR(n){const t=gs();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}function _R(n,t){t===void 0&&(t="x");const e=gs();let i,s,r;const a=gR(n);return e.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new e.WebKitCSSMatrix(s==="none"?"":s)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),t==="x"&&(e.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),t==="y"&&(e.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function oh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function yR(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function zs(){const n=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const i=e<0||arguments.length<=e?void 0:arguments[e];if(i!=null&&!yR(i)){const s=Object.keys(Object(i)).filter(r=>t.indexOf(r)<0);for(let r=0,a=s.length;r<a;r+=1){const l=s[r],c=Object.getOwnPropertyDescriptor(i,l);c!==void 0&&c.enumerable&&(oh(n[l])&&oh(i[l])?i[l].__swiper__?n[l]=i[l]:zs(n[l],i[l]):!oh(n[l])&&oh(i[l])?(n[l]={},i[l].__swiper__?n[l]=i[l]:zs(n[l],i[l])):n[l]=i[l])}}}return n}function ah(n,t,e){n.style.setProperty(t,e)}function hb(n){let{swiper:t,targetPosition:e,side:i}=n;const s=gs(),r=-t.translate;let a=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(t.cssModeFrameID);const h=e>r?"next":"prev",g=(x,C)=>h==="next"&&x>=C||h==="prev"&&x<=C,w=()=>{l=new Date().getTime(),a===null&&(a=l);const x=Math.max(Math.min((l-a)/c,1),0),C=.5-Math.cos(x*Math.PI)/2;let P=r+C*(e-r);if(g(P,e)&&(P=e),t.wrapperEl.scrollTo({[i]:P}),g(P,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:P})}),s.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=s.requestAnimationFrame(w)};w()}function ko(n,t){t===void 0&&(t="");const e=gs(),i=[...n.children];return e.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),t?i.filter(s=>s.matches(t)):i}function vR(n,t){const e=[t];for(;e.length>0;){const i=e.shift();if(n===i)return!0;e.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function wR(n,t){const e=gs();let i=t.contains(n);return!i&&e.HTMLSlotElement&&t instanceof HTMLSlotElement&&(i=[...t.assignedElements()].includes(n),i||(i=vR(n,t))),i}function id(n){try{console.warn(n);return}catch{}}function Rp(n,t){t===void 0&&(t=[]);const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:pR(t)),e}function bR(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function TR(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}function ca(n,t){return gs().getComputedStyle(n,null).getPropertyValue(t)}function Ay(n){let t=n,e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function xR(n,t){const e=[];let i=n.parentElement;for(;i;)e.push(i),i=i.parentElement;return e}function Dy(n,t,e){const i=gs();return n[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}let Hf;function SR(){const n=gs(),t=sl();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}function db(){return Hf||(Hf=SR()),Hf}let jf;function ER(n){let{userAgent:t}=n===void 0?{}:n;const e=db(),i=gs(),s=i.navigator.platform,r=t||i.navigator.userAgent,a={ios:!1,android:!1},l=i.screen.width,c=i.screen.height,h=r.match(/(Android);?[\s\/]+([\d.]+)?/);let g=r.match(/(iPad).*OS\s([\d_]+)/);const w=r.match(/(iPod)(.*OS\s([\d_]+))?/),x=!g&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=s==="Win32";let P=s==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&P&&e.touch&&A.indexOf(`${l}x${c}`)>=0&&(g=r.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),P=!1),h&&!C&&(a.os="android",a.android=!0),(g||x||w)&&(a.os="ios",a.ios=!0),a}function fb(n){return n===void 0&&(n={}),jf||(jf=ER(n)),jf}let Yf;function kR(){const n=gs(),t=fb();let e=!1;function i(){const l=n.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(i()){const l=String(n.navigator.userAgent);if(l.includes("Version/")){const[c,h]=l.split("Version/")[1].split(" ")[0].split(".").map(g=>Number(g));e=c<16||c===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),r=i(),a=r||s&&t.ios;return{isSafari:e||r,needPerspectiveFix:e,need3dFix:a,isWebView:s}}function pb(){return Yf||(Yf=kR()),Yf}function PR(n){let{swiper:t,on:e,emit:i}=n;const s=gs();let r=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(w=>{a=s.requestAnimationFrame(()=>{const{width:x,height:C}=t;let P=x,A=C;w.forEach(V=>{let{contentBoxSize:j,contentRect:K,target:Q}=V;Q&&Q!==t.el||(P=K?K.width:(j[0]||j).inlineSize,A=K?K.height:(j[0]||j).blockSize)}),(P!==x||A!==C)&&l()})}),r.observe(t.el))},h=()=>{a&&s.cancelAnimationFrame(a),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},g=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof s.ResizeObserver<"u"){c();return}s.addEventListener("resize",l),s.addEventListener("orientationchange",g)}),e("destroy",()=>{h(),s.removeEventListener("resize",l),s.removeEventListener("orientationchange",g)})}function IR(n){let{swiper:t,extendParams:e,on:i,emit:s}=n;const r=[],a=gs(),l=function(g,w){w===void 0&&(w={});const x=a.MutationObserver||a.WebkitMutationObserver,C=new x(P=>{if(t.__preventObserver__)return;if(P.length===1){s("observerUpdate",P[0]);return}const A=function(){s("observerUpdate",P[0])};a.requestAnimationFrame?a.requestAnimationFrame(A):a.setTimeout(A,0)});C.observe(g,{attributes:typeof w.attributes>"u"?!0:w.attributes,childList:t.isElement||(typeof w.childList>"u"?!0:w).childList,characterData:typeof w.characterData>"u"?!0:w.characterData}),r.push(C)},c=()=>{if(t.params.observer){if(t.params.observeParents){const g=xR(t.hostEl);for(let w=0;w<g.length;w+=1)l(g[w])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},h=()=>{r.forEach(g=>{g.disconnect()}),r.splice(0,r.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",c),i("destroy",h)}var CR={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;const s=e?"unshift":"push";return n.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||typeof t!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t.apply(i,a)}return s.__emitterProxy=t,i.on(n,s,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||typeof n!="function")return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{typeof t>"u"?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((s,r)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&e.eventsListeners[i].splice(r,1)})}),e},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let t,e,i;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return typeof r[0]=="string"||Array.isArray(r[0])?(t=r[0],e=r.slice(1,r.length),i=n):(t=r[0].events,e=r[0].data,i=r[0].context||n),e.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(i,[c,...e])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(h=>{h.apply(i,e)})}),n}};function MR(){const n=this;let t,e;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?t=n.params.width:t=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?e=n.params.height:e=i.clientHeight,!(t===0&&n.isHorizontal()||e===0&&n.isVertical())&&(t=t-parseInt(ca(i,"padding-left")||0,10)-parseInt(ca(i,"padding-right")||0,10),e=e-parseInt(ca(i,"padding-top")||0,10)-parseInt(ca(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))}function AR(){const n=this;function t(H,q){return parseFloat(H.getPropertyValue(n.getDirectionLabel(q))||0)}const e=n.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&e.virtual.enabled,h=c?n.virtual.slides.length:n.slides.length,g=ko(s,`.${n.params.slideClass}, swiper-slide`),w=c?n.virtual.slides.length:g.length;let x=[];const C=[],P=[];let A=e.slidesOffsetBefore;typeof A=="function"&&(A=e.slidesOffsetBefore.call(n));let V=e.slidesOffsetAfter;typeof V=="function"&&(V=e.slidesOffsetAfter.call(n));const j=n.snapGrid.length,K=n.slidesGrid.length;let Q=e.spaceBetween,it=-A,rt=0,ft=0;if(typeof r>"u")return;typeof Q=="string"&&Q.indexOf("%")>=0?Q=parseFloat(Q.replace("%",""))/100*r:typeof Q=="string"&&(Q=parseFloat(Q)),n.virtualSize=-Q,g.forEach(H=>{a?H.style.marginLeft="":H.style.marginRight="",H.style.marginBottom="",H.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(ah(i,"--swiper-centered-offset-before",""),ah(i,"--swiper-centered-offset-after",""));const y=e.grid&&e.grid.rows>1&&n.grid;y?n.grid.initSlides(g):n.grid&&n.grid.unsetSlides();let N;const z=e.slidesPerView==="auto"&&e.breakpoints&&Object.keys(e.breakpoints).filter(H=>typeof e.breakpoints[H].slidesPerView<"u").length>0;for(let H=0;H<w;H+=1){N=0;let q;if(g[H]&&(q=g[H]),y&&n.grid.updateSlide(H,q,g),!(g[H]&&ca(q,"display")==="none")){if(e.slidesPerView==="auto"){z&&(g[H].style[n.getDirectionLabel("width")]="");const Z=getComputedStyle(q),$=q.style.transform,Bt=q.style.webkitTransform;if($&&(q.style.transform="none"),Bt&&(q.style.webkitTransform="none"),e.roundLengths)N=n.isHorizontal()?Dy(q,"width"):Dy(q,"height");else{const Xt=t(Z,"width"),Pt=t(Z,"padding-left"),Wt=t(Z,"padding-right"),At=t(Z,"margin-left"),de=t(Z,"margin-right"),Rt=Z.getPropertyValue("box-sizing");if(Rt&&Rt==="border-box")N=Xt+At+de;else{const{clientWidth:xt,offsetWidth:Mt}=q;N=Xt+Pt+Wt+At+de+(Mt-xt)}}$&&(q.style.transform=$),Bt&&(q.style.webkitTransform=Bt),e.roundLengths&&(N=Math.floor(N))}else N=(r-(e.slidesPerView-1)*Q)/e.slidesPerView,e.roundLengths&&(N=Math.floor(N)),g[H]&&(g[H].style[n.getDirectionLabel("width")]=`${N}px`);g[H]&&(g[H].swiperSlideSize=N),P.push(N),e.centeredSlides?(it=it+N/2+rt/2+Q,rt===0&&H!==0&&(it=it-r/2-Q),H===0&&(it=it-r/2-Q),Math.abs(it)<1/1e3&&(it=0),e.roundLengths&&(it=Math.floor(it)),ft%e.slidesPerGroup===0&&x.push(it),C.push(it)):(e.roundLengths&&(it=Math.floor(it)),(ft-Math.min(n.params.slidesPerGroupSkip,ft))%n.params.slidesPerGroup===0&&x.push(it),C.push(it),it=it+N+Q),n.virtualSize+=N+Q,rt=N,ft+=1}}if(n.virtualSize=Math.max(n.virtualSize,r)+V,a&&l&&(e.effect==="slide"||e.effect==="coverflow")&&(i.style.width=`${n.virtualSize+Q}px`),e.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+Q}px`),y&&n.grid.updateWrapperSize(N,x),!e.centeredSlides){const H=[];for(let q=0;q<x.length;q+=1){let Z=x[q];e.roundLengths&&(Z=Math.floor(Z)),x[q]<=n.virtualSize-r&&H.push(Z)}x=H,Math.floor(n.virtualSize-r)-Math.floor(x[x.length-1])>1&&x.push(n.virtualSize-r)}if(c&&e.loop){const H=P[0]+Q;if(e.slidesPerGroup>1){const q=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/e.slidesPerGroup),Z=H*e.slidesPerGroup;for(let $=0;$<q;$+=1)x.push(x[x.length-1]+Z)}for(let q=0;q<n.virtual.slidesBefore+n.virtual.slidesAfter;q+=1)e.slidesPerGroup===1&&x.push(x[x.length-1]+H),C.push(C[C.length-1]+H),n.virtualSize+=H}if(x.length===0&&(x=[0]),Q!==0){const H=n.isHorizontal()&&a?"marginLeft":n.getDirectionLabel("marginRight");g.filter((q,Z)=>!e.cssMode||e.loop?!0:Z!==g.length-1).forEach(q=>{q.style[H]=`${Q}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let H=0;P.forEach(Z=>{H+=Z+(Q||0)}),H-=Q;const q=H>r?H-r:0;x=x.map(Z=>Z<=0?-A:Z>q?q+V:Z)}if(e.centerInsufficientSlides){let H=0;P.forEach(Z=>{H+=Z+(Q||0)}),H-=Q;const q=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(H+q<r){const Z=(r-H-q)/2;x.forEach(($,Bt)=>{x[Bt]=$-Z}),C.forEach(($,Bt)=>{C[Bt]=$+Z})}}if(Object.assign(n,{slides:g,snapGrid:x,slidesGrid:C,slidesSizesGrid:P}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){ah(i,"--swiper-centered-offset-before",`${-x[0]}px`),ah(i,"--swiper-centered-offset-after",`${n.size/2-P[P.length-1]/2}px`);const H=-n.snapGrid[0],q=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Z=>Z+H),n.slidesGrid=n.slidesGrid.map(Z=>Z+q)}if(w!==h&&n.emit("slidesLengthChange"),x.length!==j&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),C.length!==K&&n.emit("slidesGridLengthChange"),e.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!c&&!e.cssMode&&(e.effect==="slide"||e.effect==="fade")){const H=`${e.containerModifierClass}backface-hidden`,q=n.el.classList.contains(H);w<=e.maxBackfaceHiddenSlides?q||n.el.classList.add(H):q&&n.el.classList.remove(H)}}function DR(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let s=0,r;typeof n=="number"?t.setTransition(n):n===!0&&t.setTransition(t.params.speed);const a=l=>i?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{e.push(l)});else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const l=t.activeIndex+r;if(l>t.slides.length&&!i)break;e.push(a(l))}else e.push(a(t.activeIndex));for(r=0;r<e.length;r+=1)if(typeof e[r]<"u"){const l=e[r].offsetHeight;s=l>s?l:s}(s||s===0)&&(t.wrapperEl.style.height=`${s}px`)}function RR(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()}const Ry=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)};function OR(n){n===void 0&&(n=this&&this.translate||0);const t=this,e=t.params,{slides:i,rtlTranslate:s,snapGrid:r}=t;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-n;s&&(a=n),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=e.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<i.length;c+=1){const h=i[c];let g=h.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(g-=i[0].swiperSlideOffset);const w=(a+(e.centeredSlides?t.minTranslate():0)-g)/(h.swiperSlideSize+l),x=(a-r[0]+(e.centeredSlides?t.minTranslate():0)-g)/(h.swiperSlideSize+l),C=-(a-g),P=C+t.slidesSizesGrid[c],A=C>=0&&C<=t.size-t.slidesSizesGrid[c],V=C>=0&&C<t.size-1||P>1&&P<=t.size||C<=0&&P>=t.size;V&&(t.visibleSlides.push(h),t.visibleSlidesIndexes.push(c)),Ry(h,V,e.slideVisibleClass),Ry(h,A,e.slideFullyVisibleClass),h.progress=s?-w:w,h.originalProgress=s?-x:x}}function LR(n){const t=this;if(typeof n>"u"){const g=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*g||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:r,isEnd:a,progressLoop:l}=t;const c=r,h=a;if(i===0)s=0,r=!0,a=!0;else{s=(n-t.minTranslate())/i;const g=Math.abs(n-t.minTranslate())<1,w=Math.abs(n-t.maxTranslate())<1;r=g||s<=0,a=w||s>=1,g&&(s=0),w&&(s=1)}if(e.loop){const g=t.getSlideIndexByData(0),w=t.getSlideIndexByData(t.slides.length-1),x=t.slidesGrid[g],C=t.slidesGrid[w],P=t.slidesGrid[t.slidesGrid.length-1],A=Math.abs(n);A>=x?l=(A-x)/P:l=(A+P-C)/P,l>1&&(l-=1)}Object.assign(t,{progress:s,progressLoop:l,isBeginning:r,isEnd:a}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),r&&!c&&t.emit("reachBeginning toEdge"),a&&!h&&t.emit("reachEnd toEdge"),(c&&!r||h&&!a)&&t.emit("fromEdge"),t.emit("progress",s)}const $f=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)};function NR(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:s}=n,r=n.virtual&&e.virtual.enabled,a=n.grid&&e.grid&&e.grid.rows>1,l=w=>ko(i,`.${e.slideClass}${w}, swiper-slide${w}`)[0];let c,h,g;if(r)if(e.loop){let w=s-n.virtual.slidesBefore;w<0&&(w=n.virtual.slides.length+w),w>=n.virtual.slides.length&&(w-=n.virtual.slides.length),c=l(`[data-swiper-slide-index="${w}"]`)}else c=l(`[data-swiper-slide-index="${s}"]`);else a?(c=t.find(w=>w.column===s),g=t.find(w=>w.column===s+1),h=t.find(w=>w.column===s-1)):c=t[s];c&&(a||(g=TR(c,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!g&&(g=t[0]),h=bR(c,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!h===0&&(h=t[t.length-1]))),t.forEach(w=>{$f(w,w===c,e.slideActiveClass),$f(w,w===g,e.slideNextClass),$f(w,w===h,e.slidePrevClass)}),n.emitSlidesClasses()}const Ch=(n,t)=>{if(!n||n.destroyed||!n.params)return;const e=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=t.closest(e());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},qf=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},Op=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const a=s,l=[a-t];l.push(...Array.from({length:t}).map((c,h)=>a+i+h)),n.slides.forEach((c,h)=>{l.includes(c.column)&&qf(n,h)});return}const r=s+i-1;if(n.params.rewind||n.params.loop)for(let a=s-t;a<=r+t;a+=1){const l=(a%e+e)%e;(l<s||l>r)&&qf(n,l)}else for(let a=Math.max(s-t,0);a<=Math.min(r+t,e-1);a+=1)a!==s&&(a>r||a<s)&&qf(n,a)};function VR(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let r=0;r<t.length;r+=1)typeof t[r+1]<"u"?i>=t[r]&&i<t[r+1]-(t[r+1]-t[r])/2?s=r:i>=t[r]&&i<t[r+1]&&(s=r+1):i>=t[r]&&(s=r);return e.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function FR(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:a,snapIndex:l}=t;let c=n,h;const g=C=>{let P=C-t.virtual.slidesBefore;return P<0&&(P=t.virtual.slides.length+P),P>=t.virtual.slides.length&&(P-=t.virtual.slides.length),P};if(typeof c>"u"&&(c=VR(t)),i.indexOf(e)>=0)h=i.indexOf(e);else{const C=Math.min(s.slidesPerGroupSkip,c);h=C+Math.floor((c-C)/s.slidesPerGroup)}if(h>=i.length&&(h=i.length-1),c===r&&!t.params.loop){h!==l&&(t.snapIndex=h,t.emit("snapIndexChange"));return}if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=g(c);return}const w=t.grid&&s.grid&&s.grid.rows>1;let x;if(t.virtual&&s.virtual.enabled&&s.loop)x=g(c);else if(w){const C=t.slides.find(A=>A.column===c);let P=parseInt(C.getAttribute("data-swiper-slide-index"),10);Number.isNaN(P)&&(P=Math.max(t.slides.indexOf(C),0)),x=Math.floor(P/s.grid.rows)}else if(t.slides[c]){const C=t.slides[c].getAttribute("data-swiper-slide-index");C?x=parseInt(C,10):x=c}else x=c;Object.assign(t,{previousSnapIndex:l,snapIndex:h,previousRealIndex:a,realIndex:x,previousIndex:r,activeIndex:c}),t.initialized&&Op(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==x&&t.emit("realIndexChange"),t.emit("slideChange"))}function zR(n,t){const e=this,i=e.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&e.isElement&&t&&t.length>1&&t.includes(n)&&[...t.slice(t.indexOf(n)+1,t.length)].forEach(l=>{!s&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(s=l)});let r=!1,a;if(s){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===s){r=!0,a=l;break}}if(s&&r)e.clickedSlide=s,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}i.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}var BR={updateSize:MR,updateSlides:AR,updateAutoHeight:DR,updateSlidesOffset:RR,updateSlidesProgress:OR,updateProgress:LR,updateSlidesClasses:NR,updateActiveIndex:FR,updateClickedSlide:zR};function WR(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const t=this,{params:e,rtlTranslate:i,translate:s,wrapperEl:r}=t;if(e.virtualTranslate)return i?-s:s;if(e.cssMode)return s;let a=_R(r,n);return a+=t.cssOverflowAdjustment(),i&&(a=-a),a||0}function UR(n,t){const e=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:a}=e;let l=0,c=0;const h=0;e.isHorizontal()?l=i?-n:n:c=n,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?l:c,s.cssMode?r[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-l:-c:s.virtualTranslate||(e.isHorizontal()?l-=e.cssOverflowAdjustment():c-=e.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, ${h}px)`);let g;const w=e.maxTranslate()-e.minTranslate();w===0?g=0:g=(n-e.minTranslate())/w,g!==a&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)}function HR(){return-this.snapGrid[0]}function jR(){return-this.snapGrid[this.snapGrid.length-1]}function YR(n,t,e,i,s){n===void 0&&(n=0),t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=!0);const r=this,{params:a,wrapperEl:l}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const c=r.minTranslate(),h=r.maxTranslate();let g;if(i&&n>c?g=c:i&&n<h?g=h:g=n,r.updateProgress(g),a.cssMode){const w=r.isHorizontal();if(t===0)l[w?"scrollLeft":"scrollTop"]=-g;else{if(!r.support.smoothScroll)return hb({swiper:r,targetPosition:-g,side:w?"left":"top"}),!0;l.scrollTo({[w?"left":"top"]:-g,behavior:"smooth"})}return!0}return t===0?(r.setTransition(0),r.setTranslate(g),e&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(g),e&&(r.emit("beforeTransitionStart",t,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(x){!r||r.destroyed||x.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,e&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var $R={getTranslate:WR,setTranslate:UR,minTranslate:HR,maxTranslate:jR,translateTo:YR};function qR(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`,e.wrapperEl.style.transitionDelay=n===0?"0ms":""),e.emit("setTransition",n,t)}function mb(n){let{swiper:t,runCallbacks:e,direction:i,step:s}=n;const{activeIndex:r,previousIndex:a}=t;let l=i;l||(r>a?l="next":r<a?l="prev":l="reset"),t.emit(`transition${s}`),e&&l==="reset"?t.emit(`slideResetTransition${s}`):e&&r!==a&&(t.emit(`slideChangeTransition${s}`),l==="next"?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`))}function GR(n,t){n===void 0&&(n=!0);const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),mb({swiper:e,runCallbacks:n,direction:t,step:"Start"}))}function ZR(n,t){n===void 0&&(n=!0);const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),mb({swiper:e,runCallbacks:n,direction:t,step:"End"}))}var KR={setTransition:qR,transitionStart:GR,transitionEnd:ZR};function XR(n,t,e,i,s){n===void 0&&(n=0),e===void 0&&(e=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let a=n;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:h,previousIndex:g,activeIndex:w,rtlTranslate:x,wrapperEl:C,enabled:P}=r;if(!P&&!i&&!s||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=r.params.speed);const A=Math.min(r.params.slidesPerGroupSkip,a);let V=A+Math.floor((a-A)/r.params.slidesPerGroup);V>=c.length&&(V=c.length-1);const j=-c[V];if(l.normalizeSlideIndex)for(let y=0;y<h.length;y+=1){const N=-Math.floor(j*100),z=Math.floor(h[y]*100),H=Math.floor(h[y+1]*100);typeof h[y+1]<"u"?N>=z&&N<H-(H-z)/2?a=y:N>=z&&N<H&&(a=y+1):N>=z&&(a=y)}if(r.initialized&&a!==w&&(!r.allowSlideNext&&(x?j>r.translate&&j>r.minTranslate():j<r.translate&&j<r.minTranslate())||!r.allowSlidePrev&&j>r.translate&&j>r.maxTranslate()&&(w||0)!==a))return!1;a!==(g||0)&&e&&r.emit("beforeSlideChangeStart"),r.updateProgress(j);let K;a>w?K="next":a<w?K="prev":K="reset";const Q=r.virtual&&r.params.virtual.enabled;if(!(Q&&s)&&(x&&-j===r.translate||!x&&j===r.translate))return r.updateActiveIndex(a),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(j),K!=="reset"&&(r.transitionStart(e,K),r.transitionEnd(e,K)),!1;if(l.cssMode){const y=r.isHorizontal(),N=x?j:-j;if(t===0)Q&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),Q&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{C[y?"scrollLeft":"scrollTop"]=N})):C[y?"scrollLeft":"scrollTop"]=N,Q&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return hb({swiper:r,targetPosition:N,side:y?"left":"top"}),!0;C.scrollTo({[y?"left":"top"]:N,behavior:"smooth"})}return!0}const ft=pb().isSafari;return Q&&!s&&ft&&r.isElement&&r.virtual.update(!1,!1,a),r.setTransition(t),r.setTranslate(j),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,i),r.transitionStart(e,K),t===0?r.transitionEnd(e,K):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(N){!r||r.destroyed||N.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(e,K))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function QR(n,t,e,i){n===void 0&&(n=0),e===void 0&&(e=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof t>"u"&&(t=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a=a+s.virtual.slidesBefore;else{let l;if(r){const x=a*s.params.grid.rows;l=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===x).column}else l=s.getSlideIndexByData(a);const c=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params;let g=s.params.slidesPerView;g==="auto"?g=s.slidesPerViewDynamic():(g=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&g%2===0&&(g=g+1));let w=c-l<g;if(h&&(w=w||l<Math.ceil(g/2)),i&&h&&s.params.slidesPerView!=="auto"&&!r&&(w=!1),w){const x=h?l<s.activeIndex?"prev":"next":l-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?l+1:l-c+1,slideRealIndex:x==="next"?s.realIndex:void 0})}if(r){const x=a*s.params.grid.rows;a=s.slides.find(C=>C.getAttribute("data-swiper-slide-index")*1===x).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame(()=>{s.slideTo(a,t,e,i)}),s}function JR(n,t,e){t===void 0&&(t=!0);const i=this,{enabled:s,params:r,animating:a}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<r.slidesPerGroupSkip?1:l,h=i.virtual&&r.virtual.enabled;if(r.loop){if(a&&!h&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+c,n,t,e)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,n,t,e):i.slideTo(i.activeIndex+c,n,t,e)}function tO(n,t,e){t===void 0&&(t=!0);const i=this,{params:s,snapGrid:r,slidesGrid:a,rtlTranslate:l,enabled:c,animating:h}=i;if(!c||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const g=i.virtual&&s.virtual.enabled;if(s.loop){if(h&&!g&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const w=l?i.translate:-i.translate;function x(K){return K<0?-Math.floor(Math.abs(K)):Math.floor(K)}const C=x(w),P=r.map(K=>x(K)),A=s.freeMode&&s.freeMode.enabled;let V=r[P.indexOf(C)-1];if(typeof V>"u"&&(s.cssMode||A)){let K;r.forEach((Q,it)=>{C>=Q&&(K=it)}),typeof K<"u"&&(V=A?r[K]:r[K>0?K-1:K])}let j=0;if(typeof V<"u"&&(j=a.indexOf(V),j<0&&(j=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(j=j-i.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),s.rewind&&i.isBeginning){const K=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(K,n,t,e)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(j,n,t,e)}),!0;return i.slideTo(j,n,t,e)}function eO(n,t,e){t===void 0&&(t=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,t,e)}function nO(n,t,e,i){t===void 0&&(t=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let r=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,r),l=a+Math.floor((r-a)/s.params.slidesPerGroup),c=s.rtlTranslate?s.translate:-s.translate;if(c>=s.snapGrid[l]){const h=s.snapGrid[l],g=s.snapGrid[l+1];c-h>(g-h)*i&&(r+=s.params.slidesPerGroup)}else{const h=s.snapGrid[l-1],g=s.snapGrid[l];c-h<=(g-h)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,n,t,e)}function iO(){const n=this;if(n.destroyed)return;const{params:t,slidesEl:e}=n,i=t.slidesPerView==="auto"?n.slidesPerViewDynamic():t.slidesPerView;let s=n.clickedIndex,r;const a=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;r=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(ko(e,`${a}[data-swiper-slide-index="${r}"]`)[0]),Dp(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(ko(e,`${a}[data-swiper-slide-index="${r}"]`)[0]),Dp(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var sO={slideTo:XR,slideToLoop:QR,slideNext:JR,slidePrev:tO,slideReset:eO,slideToClosest:nO,slideToClickedSlide:iO};function rO(n,t){const e=this,{params:i,slidesEl:s}=e;if(!i.loop||e.virtual&&e.params.virtual.enabled)return;const r=()=>{ko(s,`.${i.slideClass}, swiper-slide`).forEach((x,C)=>{x.setAttribute("data-swiper-slide-index",C)})},a=e.grid&&i.grid&&i.grid.rows>1,l=i.slidesPerGroup*(a?i.grid.rows:1),c=e.slides.length%l!==0,h=a&&e.slides.length%i.grid.rows!==0,g=w=>{for(let x=0;x<w;x+=1){const C=e.isElement?Rp("swiper-slide",[i.slideBlankClass]):Rp("div",[i.slideClass,i.slideBlankClass]);e.slidesEl.append(C)}};if(c){if(i.loopAddBlankSlides){const w=l-e.slides.length%l;g(w),e.recalcSlides(),e.updateSlides()}else id("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(h){if(i.loopAddBlankSlides){const w=i.grid.rows-e.slides.length%i.grid.rows;g(w),e.recalcSlides(),e.updateSlides()}else id("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();e.loopFix({slideRealIndex:n,direction:i.centeredSlides?void 0:"next",initial:t})}function oO(n){let{slideRealIndex:t,slideTo:e=!0,direction:i,setTranslate:s,activeSlideIndex:r,initial:a,byController:l,byMousewheel:c}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:g,allowSlidePrev:w,allowSlideNext:x,slidesEl:C,params:P}=h,{centeredSlides:A,initialSlide:V}=P;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&P.virtual.enabled){e&&(!P.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):P.centeredSlides&&h.snapIndex<P.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=w,h.allowSlideNext=x,h.emit("loopFix");return}let j=P.slidesPerView;j==="auto"?j=h.slidesPerViewDynamic():(j=Math.ceil(parseFloat(P.slidesPerView,10)),A&&j%2===0&&(j=j+1));const K=P.slidesPerGroupAuto?j:P.slidesPerGroup;let Q=K;Q%K!==0&&(Q+=K-Q%K),Q+=P.loopAdditionalSlides,h.loopedSlides=Q;const it=h.grid&&P.grid&&P.grid.rows>1;g.length<j+Q||h.params.effect==="cards"&&g.length<j+Q*2?id("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):it&&P.grid.fill==="row"&&id("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const rt=[],ft=[],y=it?Math.ceil(g.length/P.grid.rows):g.length,N=a&&y-V<j&&!A;let z=N?V:h.activeIndex;typeof r>"u"?r=h.getSlideIndex(g.find(Pt=>Pt.classList.contains(P.slideActiveClass))):z=r;const H=i==="next"||!i,q=i==="prev"||!i;let Z=0,$=0;const Xt=(it?g[r].column:r)+(A&&typeof s>"u"?-j/2+.5:0);if(Xt<Q){Z=Math.max(Q-Xt,K);for(let Pt=0;Pt<Q-Xt;Pt+=1){const Wt=Pt-Math.floor(Pt/y)*y;if(it){const At=y-Wt-1;for(let de=g.length-1;de>=0;de-=1)g[de].column===At&&rt.push(de)}else rt.push(y-Wt-1)}}else if(Xt+j>y-Q){$=Math.max(Xt-(y-Q*2),K),N&&($=Math.max($,j-y+V+1));for(let Pt=0;Pt<$;Pt+=1){const Wt=Pt-Math.floor(Pt/y)*y;it?g.forEach((At,de)=>{At.column===Wt&&ft.push(de)}):ft.push(Wt)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&g.length<j+Q*2&&(ft.includes(r)&&ft.splice(ft.indexOf(r),1),rt.includes(r)&&rt.splice(rt.indexOf(r),1)),q&&rt.forEach(Pt=>{g[Pt].swiperLoopMoveDOM=!0,C.prepend(g[Pt]),g[Pt].swiperLoopMoveDOM=!1}),H&&ft.forEach(Pt=>{g[Pt].swiperLoopMoveDOM=!0,C.append(g[Pt]),g[Pt].swiperLoopMoveDOM=!1}),h.recalcSlides(),P.slidesPerView==="auto"?h.updateSlides():it&&(rt.length>0&&q||ft.length>0&&H)&&h.slides.forEach((Pt,Wt)=>{h.grid.updateSlide(Wt,Pt,h.slides)}),P.watchSlidesProgress&&h.updateSlidesOffset(),e){if(rt.length>0&&q){if(typeof t>"u"){const Pt=h.slidesGrid[z],At=h.slidesGrid[z+Z]-Pt;c?h.setTranslate(h.translate-At):(h.slideTo(z+Math.ceil(Z),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-At,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-At))}else if(s){const Pt=it?rt.length/P.grid.rows:rt.length;h.slideTo(h.activeIndex+Pt,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(ft.length>0&&H)if(typeof t>"u"){const Pt=h.slidesGrid[z],At=h.slidesGrid[z-$]-Pt;c?h.setTranslate(h.translate-At):(h.slideTo(z-$,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-At,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-At))}else{const Pt=it?ft.length/P.grid.rows:ft.length;h.slideTo(h.activeIndex-Pt,0,!1,!0)}}if(h.allowSlidePrev=w,h.allowSlideNext=x,h.controller&&h.controller.control&&!l){const Pt={slideRealIndex:t,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(Wt=>{!Wt.destroyed&&Wt.params.loop&&Wt.loopFix({...Pt,slideTo:Wt.params.slidesPerView===P.slidesPerView?e:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...Pt,slideTo:h.controller.control.params.slidesPerView===P.slidesPerView?e:!1})}h.emit("loopFix")}function aO(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||!e||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{e.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var lO={loopCreate:rO,loopFix:oO,loopDestroy:aO};function cO(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function uO(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var hO={setGrabCursor:cO,unsetGrabCursor:uO};function dO(n,t){t===void 0&&(t=this);function e(i){if(!i||i===sl()||i===gs())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||e(i.getRootNode().host)}return e(t)}function Oy(n,t,e){const i=gs(),{params:s}=n,r=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return r&&(e<=a||e>=i.innerWidth-a)?r==="prevent"?(t.preventDefault(),!0):!1:!0}function fO(n){const t=this,e=sl();let i=n;i.originalEvent&&(i=i.originalEvent);const s=t.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Oy(t,i,i.targetTouches[0].pageX);return}const{params:r,touches:a,enabled:l}=t;if(!l||!r.simulateTouch&&i.pointerType==="mouse"||t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let c=i.target;if(r.touchEventsTarget==="wrapper"&&!wR(c,t.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const h=!!r.noSwipingClass&&r.noSwipingClass!=="",g=i.composedPath?i.composedPath():i.path;h&&i.target&&i.target.shadowRoot&&g&&(c=g[0]);const w=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,x=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(x?dO(w,c):c.closest(w))){t.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const C=a.currentX,P=a.currentY;if(!Oy(t,i,C))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=C,a.startY=P,s.touchStartTime=nd(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let A=!0;c.matches(s.focusableElements)&&(A=!1,c.nodeName==="SELECT"&&(s.isTouched=!1)),e.activeElement&&e.activeElement.matches(s.focusableElements)&&e.activeElement!==c&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!c.matches(s.focusableElements))&&e.activeElement.blur();const V=A&&t.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||V)&&!c.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function pO(n){const t=sl(),e=this,i=e.touchEventsData,{params:s,touches:r,rtlTranslate:a,enabled:l}=e;if(!l||!s.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(i.touchId!==null||c.pointerId!==i.pointerId))return;let h;if(c.type==="touchmove"){if(h=[...c.changedTouches].find(rt=>rt.identifier===i.touchId),!h||h.identifier!==i.touchId)return}else h=c;if(!i.isTouched){i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",c);return}const g=h.pageX,w=h.pageY;if(c.preventedByNestedSwiper){r.startX=g,r.startY=w;return}if(!e.allowTouchMove){c.target.matches(i.focusableElements)||(e.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:g,startY:w,currentX:g,currentY:w}),i.touchStartTime=nd());return}if(s.touchReleaseOnEdges&&!s.loop)if(e.isVertical()){if(w<r.startY&&e.translate<=e.maxTranslate()||w>r.startY&&e.translate>=e.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(a&&(g>r.startX&&-e.translate<=e.maxTranslate()||g<r.startX&&-e.translate>=e.minTranslate()))return;if(!a&&(g<r.startX&&e.translate<=e.maxTranslate()||g>r.startX&&e.translate>=e.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,e.allowClick=!1;return}i.allowTouchCallbacks&&e.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=g,r.currentY=w;const x=r.currentX-r.startX,C=r.currentY-r.startY;if(e.params.threshold&&Math.sqrt(x**2+C**2)<e.params.threshold)return;if(typeof i.isScrolling>"u"){let rt;e.isHorizontal()&&r.currentY===r.startY||e.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:x*x+C*C>=25&&(rt=Math.atan2(Math.abs(C),Math.abs(x))*180/Math.PI,i.isScrolling=e.isHorizontal()?rt>s.touchAngle:90-rt>s.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||c.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;e.allowClick=!1,!s.cssMode&&c.cancelable&&c.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&c.stopPropagation();let P=e.isHorizontal()?x:C,A=e.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(P=Math.abs(P)*(a?1:-1),A=Math.abs(A)*(a?1:-1)),r.diff=P,P*=s.touchRatio,a&&(P=-P,A=-A);const V=e.touchesDirection;e.swipeDirection=P>0?"prev":"next",e.touchesDirection=A>0?"prev":"next";const j=e.params.loop&&!s.cssMode,K=e.touchesDirection==="next"&&e.allowSlideNext||e.touchesDirection==="prev"&&e.allowSlidePrev;if(!i.isMoved){if(j&&K&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const rt=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(rt)}i.allowMomentumBounce=!1,s.grabCursor&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",c)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&V!==e.touchesDirection&&j&&K&&Math.abs(P)>=1){Object.assign(r,{startX:g,startY:w,currentX:g,currentY:w,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}e.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=P+i.startTranslate;let Q=!0,it=s.resistanceRatio;if(s.touchReleaseOnEdges&&(it=0),P>0?(j&&K&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]-(s.slidesPerView!=="auto"&&e.slides.length-s.slidesPerView>=2?e.slidesSizesGrid[e.activeIndex+1]+e.params.spaceBetween:0)-e.params.spaceBetween:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(Q=!1,s.resistance&&(i.currentTranslate=e.minTranslate()-1+(-e.minTranslate()+i.startTranslate+P)**it))):P<0&&(j&&K&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween+(s.slidesPerView!=="auto"&&e.slides.length-s.slidesPerView>=2?e.slidesSizesGrid[e.slidesSizesGrid.length-1]+e.params.spaceBetween:0):e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-(s.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(Q=!1,s.resistance&&(i.currentTranslate=e.maxTranslate()+1-(e.maxTranslate()-i.startTranslate-P)**it))),Q&&(c.preventedByNestedSwiper=!0),!e.allowSlideNext&&e.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&e.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(P)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=e.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&e.freeMode||s.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function mO(n){const t=this,e=t.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(rt=>rt.identifier===e.touchId),!s||s.identifier!==e.touchId)return}else{if(e.touchId!==null||i.pointerId!==e.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(t.browser.isSafari||t.browser.isWebView)))return;e.pointerId=null,e.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:h,enabled:g}=t;if(!g||!a.simulateTouch&&i.pointerType==="mouse")return;if(e.allowTouchCallbacks&&t.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched){e.isMoved&&a.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1;return}a.grabCursor&&e.isMoved&&e.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const w=nd(),x=w-e.touchStartTime;if(t.allowClick){const rt=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(rt&&rt[0]||i.target,rt),t.emit("tap click",i),x<300&&w-e.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(e.lastClickTime=nd(),Dp(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||l.diff===0&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset){e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;return}e.isTouched=!1,e.isMoved=!1,e.startMoving=!1;let C;if(a.followFinger?C=c?t.translate:-t.translate:C=-e.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:C});return}const P=C>=-t.maxTranslate()&&!t.params.loop;let A=0,V=t.slidesSizesGrid[0];for(let rt=0;rt<h.length;rt+=rt<a.slidesPerGroupSkip?1:a.slidesPerGroup){const ft=rt<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[rt+ft]<"u"?(P||C>=h[rt]&&C<h[rt+ft])&&(A=rt,V=h[rt+ft]-h[rt]):(P||C>=h[rt])&&(A=rt,V=h[h.length-1]-h[h.length-2])}let j=null,K=null;a.rewind&&(t.isBeginning?K=a.virtual&&a.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(j=0));const Q=(C-h[A])/V,it=A<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(x>a.longSwipesMs){if(!a.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(Q>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?j:A+it):t.slideTo(A)),t.swipeDirection==="prev"&&(Q>1-a.longSwipesRatio?t.slideTo(A+it):K!==null&&Q<0&&Math.abs(Q)>a.longSwipesRatio?t.slideTo(K):t.slideTo(A))}else{if(!a.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(i.target===t.navigation.nextEl||i.target===t.navigation.prevEl)?i.target===t.navigation.nextEl?t.slideTo(A+it):t.slideTo(A):(t.swipeDirection==="next"&&t.slideTo(j!==null?j:A+it),t.swipeDirection==="prev"&&t.slideTo(K!==null?K:A))}}function Ly(){const n=this,{params:t,el:e}=n;if(e&&e.offsetWidth===0)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=n,a=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const l=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!l?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!a?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&r!==n.snapGrid&&n.checkOverflow()}function gO(n){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function _O(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-t.scrollLeft:n.translate=-t.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const r=n.maxTranslate()-n.minTranslate();r===0?s=0:s=(n.translate-n.minTranslate())/r,s!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function yO(n){const t=this;Ch(t,n.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function vO(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const gb=(n,t)=>{const e=sl(),{params:i,el:s,wrapperEl:r,device:a}=n,l=!!i.nested,c=t==="on"?"addEventListener":"removeEventListener",h=t;!s||typeof s=="string"||(e[c]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:l}),s[c]("touchstart",n.onTouchStart,{passive:!1}),s[c]("pointerdown",n.onTouchStart,{passive:!1}),e[c]("touchmove",n.onTouchMove,{passive:!1,capture:l}),e[c]("pointermove",n.onTouchMove,{passive:!1,capture:l}),e[c]("touchend",n.onTouchEnd,{passive:!0}),e[c]("pointerup",n.onTouchEnd,{passive:!0}),e[c]("pointercancel",n.onTouchEnd,{passive:!0}),e[c]("touchcancel",n.onTouchEnd,{passive:!0}),e[c]("pointerout",n.onTouchEnd,{passive:!0}),e[c]("pointerleave",n.onTouchEnd,{passive:!0}),e[c]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[c]("click",n.onClick,!0),i.cssMode&&r[c]("scroll",n.onScroll),i.updateOnWindowResize?n[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ly,!0):n[h]("observerUpdate",Ly,!0),s[c]("load",n.onLoad,{capture:!0}))};function wO(){const n=this,{params:t}=n;n.onTouchStart=fO.bind(n),n.onTouchMove=pO.bind(n),n.onTouchEnd=mO.bind(n),n.onDocumentTouchStart=vO.bind(n),t.cssMode&&(n.onScroll=_O.bind(n)),n.onClick=gO.bind(n),n.onLoad=yO.bind(n),gb(n,"on")}function bO(){gb(this,"off")}var TO={attachEvents:wO,detachEvents:bO};const Ny=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;function xO(){const n=this,{realIndex:t,initialized:e,params:i,el:s}=n,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const a=sl(),l=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",c=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:a.querySelector(i.breakpointsBase),h=n.getBreakpoint(r,l,c);if(!h||n.currentBreakpoint===h)return;const w=(h in r?r[h]:void 0)||n.originalParams,x=Ny(n,i),C=Ny(n,w),P=n.params.grabCursor,A=w.grabCursor,V=i.enabled;x&&!C?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!x&&C&&(s.classList.add(`${i.containerModifierClass}grid`),(w.grid.fill&&w.grid.fill==="column"||!w.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),P&&!A?n.unsetGrabCursor():!P&&A&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ft=>{if(typeof w[ft]>"u")return;const y=i[ft]&&i[ft].enabled,N=w[ft]&&w[ft].enabled;y&&!N&&n[ft].disable(),!y&&N&&n[ft].enable()});const j=w.direction&&w.direction!==i.direction,K=i.loop&&(w.slidesPerView!==i.slidesPerView||j),Q=i.loop;j&&e&&n.changeDirection(),zs(n.params,w);const it=n.params.enabled,rt=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),V&&!it?n.disable():!V&&it&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",w),e&&(K?(n.loopDestroy(),n.loopCreate(t),n.updateSlides()):!Q&&rt?(n.loopCreate(t),n.updateSlides()):Q&&!rt&&n.loopDestroy()),n.emit("breakpoint",w)}function SO(n,t,e){if(t===void 0&&(t="window"),!n||t==="container"&&!e)return;let i=!1;const s=gs(),r=t==="window"?s.innerHeight:e.clientHeight,a=Object.keys(n).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:r*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:h}=a[l];t==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(i=c):h<=e.clientWidth&&(i=c)}return i||"max"}var EO={setBreakpoint:xO,getBreakpoint:SO};function kO(n,t){const e=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&e.push(t+s)}):typeof i=="string"&&e.push(t+i)}),e}function PO(){const n=this,{classNames:t,params:e,rtl:i,el:s,device:r}=n,a=kO(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&e.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...a),s.classList.add(...t),n.emitContainerClasses()}function IO(){const n=this,{el:t,classNames:e}=n;!t||typeof t=="string"||(t.classList.remove(...e),n.emitContainerClasses())}var CO={addClasses:PO,removeClasses:IO};function MO(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const s=n.slides.length-1,r=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>r}else n.isLocked=n.snapGrid.length===1;e.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),e.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var AO={checkOverflow:MO},Vy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function DO(n,t){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){zs(t,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in r)){zs(t,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),zs(t,i)}}const Gf={eventsEmitter:CR,update:BR,translate:$R,transition:KR,slide:sO,loop:lO,grabCursor:hO,events:TO,breakpoints:EO,checkOverflow:AO,classes:CO},Zf={};class pr{constructor(){let t,e;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?e=s[0]:[t,e]=s,e||(e={}),e=zs({},e),t&&!e.el&&(e.el=t);const a=sl();if(e.el&&typeof e.el=="string"&&a.querySelectorAll(e.el).length>1){const g=[];return a.querySelectorAll(e.el).forEach(w=>{const x=zs({},e,{el:w});g.push(new pr(x))}),g}const l=this;l.__swiper__=!0,l.support=db(),l.device=fb({userAgent:e.userAgent}),l.browser=pb(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],e.modules&&Array.isArray(e.modules)&&l.modules.push(...e.modules);const c={};l.modules.forEach(g=>{g({params:e,swiper:l,extendParams:DO(e,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const h=zs({},Vy,c);return l.params=zs({},h,Zf,e),l.originalParams=zs({},l.params),l.passedParams=zs({},e),l.params&&l.params.on&&Object.keys(l.params.on).forEach(g=>{l.on(g,l.params.on[g])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,s=ko(e,`.${i.slideClass}, swiper-slide`),r=Ay(s[0]);return Ay(t)-r}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(e=>e.getAttribute("data-swiper-slide-index")*1===t))}recalcSlides(){const t=this,{slidesEl:e,params:i}=t;t.slides=ko(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const s=i.minTranslate(),a=(i.maxTranslate()-s)*t+s;i.translateTo(a,typeof e>"u"?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(e.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const s=t.getSlideClasses(i);e.push({slideEl:i,classNames:s}),t.emit("_slideClass",i,s)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){t===void 0&&(t="current"),e===void 0&&(e=!1);const i=this,{params:s,slides:r,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:h}=i;let g=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let w=r[h]?Math.ceil(r[h].swiperSlideSize):0,x;for(let C=h+1;C<r.length;C+=1)r[C]&&!x&&(w+=Math.ceil(r[C].swiperSlideSize),g+=1,w>c&&(x=!0));for(let C=h-1;C>=0;C-=1)r[C]&&!x&&(w+=r[C].swiperSlideSize,g+=1,w>c&&(x=!0))}else if(t==="current")for(let w=h+1;w<r.length;w+=1)(e?a[w]+l[w]-a[h]<c:a[w]-a[h]<c)&&(g+=1);else for(let w=h-1;w>=0;w-=1)a[h]-a[w]<c&&(g+=1);return g}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Ch(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function s(){const a=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&t.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides){const a=t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides;r=t.slideTo(a.length-1,0,!1,!0)}else r=t.slideTo(t.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){e===void 0&&(e=!0);const i=this,s=i.params.direction;return t||(t=s==="horizontal"?"vertical":"horizontal"),t===s||t!=="horizontal"&&t!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(r=>{t==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&t==="rtl"||!e.rtl&&t==="ltr"||(e.rtl=t==="rtl",e.rtlTranslate=e.params.direction==="horizontal"&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const s=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):ko(i,s())[0];return!a&&e.params.createElements&&(a=Rp("div",e.params.wrapperClass),i.append(a),ko(i,`.${e.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(e,{el:i,wrapperEl:a,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||ca(i,"direction")==="rtl",rtlTranslate:e.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||ca(i,"direction")==="rtl"),wrongRTL:ca(a,"display")==="-webkit-box"}),!0}init(t){const e=this;if(e.initialized||e.mount(t)===!1)return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(void 0,!0),e.attachEvents();const s=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&s.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?Ch(e,r):r.addEventListener("load",a=>{Ch(e,a.target)})}),Op(e),e.initialized=!0,Op(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){t===void 0&&(t=!0),e===void 0&&(e=!0);const i=this,{params:s,el:r,wrapperEl:a,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),e&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),t!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),mR(i)),i.destroyed=!0),null}static extendDefaults(t){zs(Zf,t)}static get extendedDefaults(){return Zf}static get defaults(){return Vy}static installModule(t){pr.prototype.__modules__||(pr.prototype.__modules__=[]);const e=pr.prototype.__modules__;typeof t=="function"&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>pr.installModule(e)),pr):(pr.installModule(t),pr)}}Object.keys(Gf).forEach(n=>{Object.keys(Gf[n]).forEach(t=>{pr.prototype[t]=Gf[n][t]})});pr.use([PR,IR]);const RO=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},OO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[e++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[e++],a=n[e++],l=n[e++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{const r=n[e++],a=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],a=s+1<n.length,l=a?n[s+1]:0,c=s+2<n.length,h=c?n[s+2]:0,g=r>>2,w=(r&3)<<4|l>>4;let x=(l&15)<<2|h>>6,C=h&63;c||(C=64,a||(x=64)),i.push(e[g],e[w],e[x],e[C])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_b(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):OO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=e[n.charAt(s++)],l=s<n.length?e[n.charAt(s)]:0;++s;const h=s<n.length?e[n.charAt(s)]:64;++s;const w=s<n.length?e[n.charAt(s)]:64;if(++s,r==null||l==null||h==null||w==null)throw new LO;const x=r<<2|l>>4;if(i.push(x),h!==64){const C=l<<4&240|h>>2;if(i.push(C),w!==64){const P=h<<6&192|w;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NO=function(n){const t=_b(n);return yb.encodeByteArray(t,!0)},sd=function(n){return NO(n).replace(/\./g,"")},vb=function(n){try{return yb.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>VO().__FIREBASE_DEFAULTS__,zO=()=>{if(typeof process>"u"||typeof Fy>"u")return;const n=Fy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&vb(n[1]);return t&&JSON.parse(t)},Bd=()=>{try{return RO()||FO()||zO()||BO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wb=n=>{var t,e;return(e=(t=Bd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},WO=n=>{const t=wb(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},bb=()=>{var n;return(n=Bd())===null||n===void 0?void 0:n.config},Tb=n=>{var t;return(t=Bd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){return n.endsWith(".cloudworkstations.dev")}async function xb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sd(JSON.stringify(e)),sd(JSON.stringify(a)),""].join(".")}const Lc={};function jO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Lc))Lc[t]?n.emulator.push(t):n.prod.push(t);return n}function YO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let zy=!1;function Sb(n,t){if(typeof window>"u"||typeof document>"u"||!mu(window.location.host)||Lc[n]===t||Lc[n]||zy)return;Lc[n]=t;function e(x){return`__firebase__banner__${x}`}const i="__firebase__banner",r=jO().prod.length>0;function a(){const x=document.getElementById(i);x&&x.remove()}function l(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function c(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{zy=!0,a()},x}function g(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=YO(i),C=e("text"),P=document.getElementById(C)||document.createElement("span"),A=e("learnmore"),V=document.getElementById(A)||document.createElement("a"),j=e("preprendIcon"),K=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Q=x.element;l(Q),g(V,A);const it=h();c(K,j),Q.append(K,P,V,it),document.body.appendChild(Q)}r?(P.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function qO(){var n;const t=(n=Bd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XO(){const n=is();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QO(){return!qO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JO(){try{return typeof indexedDB=="object"}catch{return!1}}function tL(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="FirebaseError";class Uo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=eL,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?nL(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Uo(s,l,i)}}function nL(n,t){return n.replace(iL,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const iL=/\{\$([^}]+)}/g;function sL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Za(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const r=n[s],a=t[s];if(By(r)&&By(a)){if(!Za(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function By(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Tc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function rL(n,t){const e=new oL(n,t);return e.subscribe.bind(e)}class oL{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");aL(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=Kf),s.error===void 0&&(s.error=Kf),s.complete===void 0&&(s.complete=Kf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aL(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n){return n&&n._delegate?n._delegate:n}class Ka{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new UO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uL(t))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=za){return this.instances.has(t)}getOptions(t=za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&t(a,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cL(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=za){return this.component?this.component.multipleInstances?t:za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cL(n){return n===za?void 0:n}function uL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new lL(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const dL={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},fL=Re.INFO,pL={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},mL=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=pL[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qm{constructor(t){this.name=t,this._logLevel=fL,this._logHandler=mL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Re))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...t),this._logHandler(this,Re.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...t),this._logHandler(this,Re.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...t),this._logHandler(this,Re.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...t),this._logHandler(this,Re.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...t),this._logHandler(this,Re.ERROR,...t)}}const gL=(n,t)=>t.some(e=>n instanceof e);let Wy,Uy;function _L(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yL(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eb=new WeakMap,Lp=new WeakMap,kb=new WeakMap,Xf=new WeakMap,Gm=new WeakMap;function vL(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{e(fa(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&Eb.set(e,n)}).catch(()=>{}),Gm.set(t,n),t}function wL(n){if(Lp.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{e(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});Lp.set(n,t)}let Np={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||kb.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return fa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function bL(n){Np=n(Np)}function TL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Qf(this),t,...e);return kb.set(i,t.sort?t.sort():[t]),fa(i)}:yL().includes(n)?function(...t){return n.apply(Qf(this),t),fa(Eb.get(this))}:function(...t){return fa(n.apply(Qf(this),t))}}function xL(n){return typeof n=="function"?TL(n):(n instanceof IDBTransaction&&wL(n),gL(n,_L())?new Proxy(n,Np):n)}function fa(n){if(n instanceof IDBRequest)return vL(n);if(Xf.has(n))return Xf.get(n);const t=xL(n);return t!==n&&(Xf.set(n,t),Gm.set(t,n)),t}const Qf=n=>Gm.get(n);function SL(n,t,{blocked:e,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(n,t),l=fa(a);return i&&a.addEventListener("upgradeneeded",c=>{i(fa(a.result),c.oldVersion,c.newVersion,fa(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const EL=["get","getKey","getAll","getAllKeys","count"],kL=["put","add","delete","clear"],Jf=new Map;function Hy(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Jf.get(t))return Jf.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=kL.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||EL.includes(e)))return;const r=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[e](...l),s&&c.done]))[0]};return Jf.set(t,r),r}bL(n=>({...n,get:(t,e,i)=>Hy(t,e)||n.get(t,e,i),has:(t,e)=>!!Hy(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(IL(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function IL(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vp="@firebase/app",jy="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new qm("@firebase/app"),CL="@firebase/app-compat",ML="@firebase/analytics-compat",AL="@firebase/analytics",DL="@firebase/app-check-compat",RL="@firebase/app-check",OL="@firebase/auth",LL="@firebase/auth-compat",NL="@firebase/database",VL="@firebase/data-connect",FL="@firebase/database-compat",zL="@firebase/functions",BL="@firebase/functions-compat",WL="@firebase/installations",UL="@firebase/installations-compat",HL="@firebase/messaging",jL="@firebase/messaging-compat",YL="@firebase/performance",$L="@firebase/performance-compat",qL="@firebase/remote-config",GL="@firebase/remote-config-compat",ZL="@firebase/storage",KL="@firebase/storage-compat",XL="@firebase/firestore",QL="@firebase/ai",JL="@firebase/firestore-compat",tN="firebase",eN="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",nN={[Vp]:"fire-core",[CL]:"fire-core-compat",[AL]:"fire-analytics",[ML]:"fire-analytics-compat",[RL]:"fire-app-check",[DL]:"fire-app-check-compat",[OL]:"fire-auth",[LL]:"fire-auth-compat",[NL]:"fire-rtdb",[VL]:"fire-data-connect",[FL]:"fire-rtdb-compat",[zL]:"fire-fn",[BL]:"fire-fn-compat",[WL]:"fire-iid",[UL]:"fire-iid-compat",[HL]:"fire-fcm",[jL]:"fire-fcm-compat",[YL]:"fire-perf",[$L]:"fire-perf-compat",[qL]:"fire-rc",[GL]:"fire-rc-compat",[ZL]:"fire-gcs",[KL]:"fire-gcs-compat",[XL]:"fire-fst",[JL]:"fire-fst-compat",[QL]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,iN=new Map,zp=new Map;function Yy(n,t){try{n.container.addComponent(t)}catch(e){Lo.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Bl(n){const t=n.name;if(zp.has(t))return Lo.debug(`There were multiple attempts to register component ${t}.`),!1;zp.set(t,n);for(const e of rd.values())Yy(e,n);for(const e of iN.values())Yy(e,n);return!0}function Zm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function tr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new gu("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=eN;function Pb(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Fp,automaticDataCollectionEnabled:!0},t),s=i.name;if(typeof s!="string"||!s)throw pa.create("bad-app-name",{appName:String(s)});if(e||(e=bb()),!e)throw pa.create("no-options");const r=rd.get(s);if(r){if(Za(e,r.options)&&Za(i,r.config))return r;throw pa.create("duplicate-app",{appName:s})}const a=new hL(s);for(const c of zp.values())a.addComponent(c);const l=new rN(e,i,a);return rd.set(s,l),l}function Ib(n=Fp){const t=rd.get(n);if(!t&&n===Fp&&bb())return Pb();if(!t)throw pa.create("no-app",{appName:n});return t}function ma(n,t,e){var i;let s=(i=nN[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${t}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Lo.warn(l.join(" "));return}Bl(new Ka(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",aN=1,tu="firebase-heartbeat-store";let tp=null;function Cb(){return tp||(tp=SL(oN,aN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(tu)}catch(e){console.warn(e)}}}}).catch(n=>{throw pa.create("idb-open",{originalErrorMessage:n.message})})),tp}async function lN(n){try{const e=(await Cb()).transaction(tu),i=await e.objectStore(tu).get(Mb(n));return await e.done,i}catch(t){if(t instanceof Uo)Lo.warn(t.message);else{const e=pa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Lo.warn(e.message)}}}async function $y(n,t){try{const i=(await Cb()).transaction(tu,"readwrite");await i.objectStore(tu).put(t,Mb(n)),await i.done}catch(e){if(e instanceof Uo)Lo.warn(e.message);else{const i=pa.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Lo.warn(i.message)}}}function Mb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1024,uN=30;class hN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new fN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>uN){const a=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Lo.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qy(),{heartbeatsToSend:i,unsentEntries:s}=dN(this._heartbeatsCache.heartbeats),r=sd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Lo.warn(e),""}}}function qy(){return new Date().toISOString().substring(0,10)}function dN(n,t=cN){const e=[];let i=n.slice();for(const s of n){const r=e.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Gy(e)>t){r.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),Gy(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class fN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JO()?tL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await lN(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return $y(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return $y(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Gy(n){return sd(JSON.stringify({version:2,heartbeats:n})).length}function pN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){Bl(new Ka("platform-logger",t=>new PL(t),"PRIVATE")),Bl(new Ka("heartbeat",t=>new hN(t),"PRIVATE")),ma(Vp,jy,n),ma(Vp,jy,"esm2017"),ma("fire-js","")}mN("");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ga,Ab;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(y,N){function z(){}z.prototype=N.prototype,y.D=N.prototype,y.prototype=new z,y.prototype.constructor=y,y.C=function(H,q,Z){for(var $=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)$[Bt-2]=arguments[Bt];return N.prototype[q].apply(H,$)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,N,z){z||(z=0);var H=Array(16);if(typeof N=="string")for(var q=0;16>q;++q)H[q]=N.charCodeAt(z++)|N.charCodeAt(z++)<<8|N.charCodeAt(z++)<<16|N.charCodeAt(z++)<<24;else for(q=0;16>q;++q)H[q]=N[z++]|N[z++]<<8|N[z++]<<16|N[z++]<<24;N=y.g[0],z=y.g[1],q=y.g[2];var Z=y.g[3],$=N+(Z^z&(q^Z))+H[0]+3614090360&4294967295;N=z+($<<7&4294967295|$>>>25),$=Z+(q^N&(z^q))+H[1]+3905402710&4294967295,Z=N+($<<12&4294967295|$>>>20),$=q+(z^Z&(N^z))+H[2]+606105819&4294967295,q=Z+($<<17&4294967295|$>>>15),$=z+(N^q&(Z^N))+H[3]+3250441966&4294967295,z=q+($<<22&4294967295|$>>>10),$=N+(Z^z&(q^Z))+H[4]+4118548399&4294967295,N=z+($<<7&4294967295|$>>>25),$=Z+(q^N&(z^q))+H[5]+1200080426&4294967295,Z=N+($<<12&4294967295|$>>>20),$=q+(z^Z&(N^z))+H[6]+2821735955&4294967295,q=Z+($<<17&4294967295|$>>>15),$=z+(N^q&(Z^N))+H[7]+4249261313&4294967295,z=q+($<<22&4294967295|$>>>10),$=N+(Z^z&(q^Z))+H[8]+1770035416&4294967295,N=z+($<<7&4294967295|$>>>25),$=Z+(q^N&(z^q))+H[9]+2336552879&4294967295,Z=N+($<<12&4294967295|$>>>20),$=q+(z^Z&(N^z))+H[10]+4294925233&4294967295,q=Z+($<<17&4294967295|$>>>15),$=z+(N^q&(Z^N))+H[11]+2304563134&4294967295,z=q+($<<22&4294967295|$>>>10),$=N+(Z^z&(q^Z))+H[12]+1804603682&4294967295,N=z+($<<7&4294967295|$>>>25),$=Z+(q^N&(z^q))+H[13]+4254626195&4294967295,Z=N+($<<12&4294967295|$>>>20),$=q+(z^Z&(N^z))+H[14]+2792965006&4294967295,q=Z+($<<17&4294967295|$>>>15),$=z+(N^q&(Z^N))+H[15]+1236535329&4294967295,z=q+($<<22&4294967295|$>>>10),$=N+(q^Z&(z^q))+H[1]+4129170786&4294967295,N=z+($<<5&4294967295|$>>>27),$=Z+(z^q&(N^z))+H[6]+3225465664&4294967295,Z=N+($<<9&4294967295|$>>>23),$=q+(N^z&(Z^N))+H[11]+643717713&4294967295,q=Z+($<<14&4294967295|$>>>18),$=z+(Z^N&(q^Z))+H[0]+3921069994&4294967295,z=q+($<<20&4294967295|$>>>12),$=N+(q^Z&(z^q))+H[5]+3593408605&4294967295,N=z+($<<5&4294967295|$>>>27),$=Z+(z^q&(N^z))+H[10]+38016083&4294967295,Z=N+($<<9&4294967295|$>>>23),$=q+(N^z&(Z^N))+H[15]+3634488961&4294967295,q=Z+($<<14&4294967295|$>>>18),$=z+(Z^N&(q^Z))+H[4]+3889429448&4294967295,z=q+($<<20&4294967295|$>>>12),$=N+(q^Z&(z^q))+H[9]+568446438&4294967295,N=z+($<<5&4294967295|$>>>27),$=Z+(z^q&(N^z))+H[14]+3275163606&4294967295,Z=N+($<<9&4294967295|$>>>23),$=q+(N^z&(Z^N))+H[3]+4107603335&4294967295,q=Z+($<<14&4294967295|$>>>18),$=z+(Z^N&(q^Z))+H[8]+1163531501&4294967295,z=q+($<<20&4294967295|$>>>12),$=N+(q^Z&(z^q))+H[13]+2850285829&4294967295,N=z+($<<5&4294967295|$>>>27),$=Z+(z^q&(N^z))+H[2]+4243563512&4294967295,Z=N+($<<9&4294967295|$>>>23),$=q+(N^z&(Z^N))+H[7]+1735328473&4294967295,q=Z+($<<14&4294967295|$>>>18),$=z+(Z^N&(q^Z))+H[12]+2368359562&4294967295,z=q+($<<20&4294967295|$>>>12),$=N+(z^q^Z)+H[5]+4294588738&4294967295,N=z+($<<4&4294967295|$>>>28),$=Z+(N^z^q)+H[8]+2272392833&4294967295,Z=N+($<<11&4294967295|$>>>21),$=q+(Z^N^z)+H[11]+1839030562&4294967295,q=Z+($<<16&4294967295|$>>>16),$=z+(q^Z^N)+H[14]+4259657740&4294967295,z=q+($<<23&4294967295|$>>>9),$=N+(z^q^Z)+H[1]+2763975236&4294967295,N=z+($<<4&4294967295|$>>>28),$=Z+(N^z^q)+H[4]+1272893353&4294967295,Z=N+($<<11&4294967295|$>>>21),$=q+(Z^N^z)+H[7]+4139469664&4294967295,q=Z+($<<16&4294967295|$>>>16),$=z+(q^Z^N)+H[10]+3200236656&4294967295,z=q+($<<23&4294967295|$>>>9),$=N+(z^q^Z)+H[13]+681279174&4294967295,N=z+($<<4&4294967295|$>>>28),$=Z+(N^z^q)+H[0]+3936430074&4294967295,Z=N+($<<11&4294967295|$>>>21),$=q+(Z^N^z)+H[3]+3572445317&4294967295,q=Z+($<<16&4294967295|$>>>16),$=z+(q^Z^N)+H[6]+76029189&4294967295,z=q+($<<23&4294967295|$>>>9),$=N+(z^q^Z)+H[9]+3654602809&4294967295,N=z+($<<4&4294967295|$>>>28),$=Z+(N^z^q)+H[12]+3873151461&4294967295,Z=N+($<<11&4294967295|$>>>21),$=q+(Z^N^z)+H[15]+530742520&4294967295,q=Z+($<<16&4294967295|$>>>16),$=z+(q^Z^N)+H[2]+3299628645&4294967295,z=q+($<<23&4294967295|$>>>9),$=N+(q^(z|~Z))+H[0]+4096336452&4294967295,N=z+($<<6&4294967295|$>>>26),$=Z+(z^(N|~q))+H[7]+1126891415&4294967295,Z=N+($<<10&4294967295|$>>>22),$=q+(N^(Z|~z))+H[14]+2878612391&4294967295,q=Z+($<<15&4294967295|$>>>17),$=z+(Z^(q|~N))+H[5]+4237533241&4294967295,z=q+($<<21&4294967295|$>>>11),$=N+(q^(z|~Z))+H[12]+1700485571&4294967295,N=z+($<<6&4294967295|$>>>26),$=Z+(z^(N|~q))+H[3]+2399980690&4294967295,Z=N+($<<10&4294967295|$>>>22),$=q+(N^(Z|~z))+H[10]+4293915773&4294967295,q=Z+($<<15&4294967295|$>>>17),$=z+(Z^(q|~N))+H[1]+2240044497&4294967295,z=q+($<<21&4294967295|$>>>11),$=N+(q^(z|~Z))+H[8]+1873313359&4294967295,N=z+($<<6&4294967295|$>>>26),$=Z+(z^(N|~q))+H[15]+4264355552&4294967295,Z=N+($<<10&4294967295|$>>>22),$=q+(N^(Z|~z))+H[6]+2734768916&4294967295,q=Z+($<<15&4294967295|$>>>17),$=z+(Z^(q|~N))+H[13]+1309151649&4294967295,z=q+($<<21&4294967295|$>>>11),$=N+(q^(z|~Z))+H[4]+4149444226&4294967295,N=z+($<<6&4294967295|$>>>26),$=Z+(z^(N|~q))+H[11]+3174756917&4294967295,Z=N+($<<10&4294967295|$>>>22),$=q+(N^(Z|~z))+H[2]+718787259&4294967295,q=Z+($<<15&4294967295|$>>>17),$=z+(Z^(q|~N))+H[9]+3951481745&4294967295,y.g[0]=y.g[0]+N&4294967295,y.g[1]=y.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,y.g[2]=y.g[2]+q&4294967295,y.g[3]=y.g[3]+Z&4294967295}i.prototype.u=function(y,N){N===void 0&&(N=y.length);for(var z=N-this.blockSize,H=this.B,q=this.h,Z=0;Z<N;){if(q==0)for(;Z<=z;)s(this,y,Z),Z+=this.blockSize;if(typeof y=="string"){for(;Z<N;)if(H[q++]=y.charCodeAt(Z++),q==this.blockSize){s(this,H),q=0;break}}else for(;Z<N;)if(H[q++]=y[Z++],q==this.blockSize){s(this,H),q=0;break}}this.h=q,this.o+=N},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var N=1;N<y.length-8;++N)y[N]=0;var z=8*this.o;for(N=y.length-8;N<y.length;++N)y[N]=z&255,z/=256;for(this.u(y),y=Array(16),N=z=0;4>N;++N)for(var H=0;32>H;H+=8)y[z++]=this.g[N]>>>H&255;return y};function r(y,N){var z=l;return Object.prototype.hasOwnProperty.call(z,y)?z[y]:z[y]=N(y)}function a(y,N){this.h=N;for(var z=[],H=!0,q=y.length-1;0<=q;q--){var Z=y[q]|0;H&&Z==N||(z[q]=Z,H=!1)}this.g=z}var l={};function c(y){return-128<=y&&128>y?r(y,function(N){return new a([N|0],0>N?-1:0)}):new a([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return w;if(0>y)return V(h(-y));for(var N=[],z=1,H=0;y>=z;H++)N[H]=y/z|0,z*=4294967296;return new a(N,0)}function g(y,N){if(y.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(y.charAt(0)=="-")return V(g(y.substring(1),N));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=h(Math.pow(N,8)),H=w,q=0;q<y.length;q+=8){var Z=Math.min(8,y.length-q),$=parseInt(y.substring(q,q+Z),N);8>Z?(Z=h(Math.pow(N,Z)),H=H.j(Z).add(h($))):(H=H.j(z),H=H.add(h($)))}return H}var w=c(0),x=c(1),C=c(16777216);n=a.prototype,n.m=function(){if(A(this))return-V(this).m();for(var y=0,N=1,z=0;z<this.g.length;z++){var H=this.i(z);y+=(0<=H?H:4294967296+H)*N,N*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(P(this))return"0";if(A(this))return"-"+V(this).toString(y);for(var N=h(Math.pow(y,6)),z=this,H="";;){var q=it(z,N).g;z=j(z,q.j(N));var Z=((0<z.g.length?z.g[0]:z.h)>>>0).toString(y);if(z=q,P(z))return Z+H;for(;6>Z.length;)Z="0"+Z;H=Z+H}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function P(y){if(y.h!=0)return!1;for(var N=0;N<y.g.length;N++)if(y.g[N]!=0)return!1;return!0}function A(y){return y.h==-1}n.l=function(y){return y=j(this,y),A(y)?-1:P(y)?0:1};function V(y){for(var N=y.g.length,z=[],H=0;H<N;H++)z[H]=~y.g[H];return new a(z,~y.h).add(x)}n.abs=function(){return A(this)?V(this):this},n.add=function(y){for(var N=Math.max(this.g.length,y.g.length),z=[],H=0,q=0;q<=N;q++){var Z=H+(this.i(q)&65535)+(y.i(q)&65535),$=(Z>>>16)+(this.i(q)>>>16)+(y.i(q)>>>16);H=$>>>16,Z&=65535,$&=65535,z[q]=$<<16|Z}return new a(z,z[z.length-1]&-2147483648?-1:0)};function j(y,N){return y.add(V(N))}n.j=function(y){if(P(this)||P(y))return w;if(A(this))return A(y)?V(this).j(V(y)):V(V(this).j(y));if(A(y))return V(this.j(V(y)));if(0>this.l(C)&&0>y.l(C))return h(this.m()*y.m());for(var N=this.g.length+y.g.length,z=[],H=0;H<2*N;H++)z[H]=0;for(H=0;H<this.g.length;H++)for(var q=0;q<y.g.length;q++){var Z=this.i(H)>>>16,$=this.i(H)&65535,Bt=y.i(q)>>>16,Xt=y.i(q)&65535;z[2*H+2*q]+=$*Xt,K(z,2*H+2*q),z[2*H+2*q+1]+=Z*Xt,K(z,2*H+2*q+1),z[2*H+2*q+1]+=$*Bt,K(z,2*H+2*q+1),z[2*H+2*q+2]+=Z*Bt,K(z,2*H+2*q+2)}for(H=0;H<N;H++)z[H]=z[2*H+1]<<16|z[2*H];for(H=N;H<2*N;H++)z[H]=0;return new a(z,0)};function K(y,N){for(;(y[N]&65535)!=y[N];)y[N+1]+=y[N]>>>16,y[N]&=65535,N++}function Q(y,N){this.g=y,this.h=N}function it(y,N){if(P(N))throw Error("division by zero");if(P(y))return new Q(w,w);if(A(y))return N=it(V(y),N),new Q(V(N.g),V(N.h));if(A(N))return N=it(y,V(N)),new Q(V(N.g),N.h);if(30<y.g.length){if(A(y)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var z=x,H=N;0>=H.l(y);)z=rt(z),H=rt(H);var q=ft(z,1),Z=ft(H,1);for(H=ft(H,2),z=ft(z,2);!P(H);){var $=Z.add(H);0>=$.l(y)&&(q=q.add(z),Z=$),H=ft(H,1),z=ft(z,1)}return N=j(y,q.j(N)),new Q(q,N)}for(q=w;0<=y.l(N);){for(z=Math.max(1,Math.floor(y.m()/N.m())),H=Math.ceil(Math.log(z)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),Z=h(z),$=Z.j(N);A($)||0<$.l(y);)z-=H,Z=h(z),$=Z.j(N);P(Z)&&(Z=x),q=q.add(Z),y=j(y,$)}return new Q(q,y)}n.A=function(y){return it(this,y).h},n.and=function(y){for(var N=Math.max(this.g.length,y.g.length),z=[],H=0;H<N;H++)z[H]=this.i(H)&y.i(H);return new a(z,this.h&y.h)},n.or=function(y){for(var N=Math.max(this.g.length,y.g.length),z=[],H=0;H<N;H++)z[H]=this.i(H)|y.i(H);return new a(z,this.h|y.h)},n.xor=function(y){for(var N=Math.max(this.g.length,y.g.length),z=[],H=0;H<N;H++)z[H]=this.i(H)^y.i(H);return new a(z,this.h^y.h)};function rt(y){for(var N=y.g.length+1,z=[],H=0;H<N;H++)z[H]=y.i(H)<<1|y.i(H-1)>>>31;return new a(z,y.h)}function ft(y,N){var z=N>>5;N%=32;for(var H=y.g.length-z,q=[],Z=0;Z<H;Z++)q[Z]=0<N?y.i(Z+z)>>>N|y.i(Z+z+1)<<32-N:y.i(Z+z);return new a(q,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ab=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=g,ga=a}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Db,xc,Rb,Mh,Bp,Ob,Lb,Nb;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,D){return p==Array.prototype||p==Object.prototype||(p[S]=D.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var S=0;S<p.length;++S){var D=p[S];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=e(this);function s(p,S){if(S)t:{var D=i;p=p.split(".");for(var Y=0;Y<p.length-1;Y++){var ot=p[Y];if(!(ot in D))break t;D=D[ot]}p=p[p.length-1],Y=D[p],S=S(Y),S!=Y&&S!=null&&t(D,p,{configurable:!0,writable:!0,value:S})}}function r(p,S){p instanceof String&&(p+="");var D=0,Y=!1,ot={next:function(){if(!Y&&D<p.length){var ut=D++;return{value:S(ut,p[ut]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return ot[Symbol.iterator]=function(){return ot},ot}s("Array.prototype.values",function(p){return p||function(){return r(this,function(S,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function h(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function g(p,S,D){return p.call.apply(p.bind,arguments)}function w(p,S,D){if(!p)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ot,Y),p.apply(S,ot)}}return function(){return p.apply(S,arguments)}}function x(p,S,D){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,x.apply(null,arguments)}function C(p,S){var D=Array.prototype.slice.call(arguments,1);return function(){var Y=D.slice();return Y.push.apply(Y,arguments),p.apply(this,Y)}}function P(p,S){function D(){}D.prototype=S.prototype,p.aa=S.prototype,p.prototype=new D,p.prototype.constructor=p,p.Qb=function(Y,ot,ut){for(var St=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)St[Ve-2]=arguments[Ve];return S.prototype[ot].apply(Y,St)}}function A(p){const S=p.length;if(0<S){const D=Array(S);for(let Y=0;Y<S;Y++)D[Y]=p[Y];return D}return[]}function V(p,S){for(let D=1;D<arguments.length;D++){const Y=arguments[D];if(c(Y)){const ot=p.length||0,ut=Y.length||0;p.length=ot+ut;for(let St=0;St<ut;St++)p[ot+St]=Y[St]}else p.push(Y)}}class j{constructor(S,D){this.i=S,this.j=D,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function K(p){return/^[\s\xa0]*$/.test(p)}function Q(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function it(p){return it[" "](p),p}it[" "]=function(){};var rt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ft(p,S,D){for(const Y in p)S.call(D,p[Y],Y,p)}function y(p,S){for(const D in p)S.call(void 0,p[D],D,p)}function N(p){const S={};for(const D in p)S[D]=p[D];return S}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(p,S){let D,Y;for(let ot=1;ot<arguments.length;ot++){Y=arguments[ot];for(D in Y)p[D]=Y[D];for(let ut=0;ut<z.length;ut++)D=z[ut],Object.prototype.hasOwnProperty.call(Y,D)&&(p[D]=Y[D])}}function q(p){var S=1;p=p.split(":");const D=[];for(;0<S&&p.length;)D.push(p.shift()),S--;return p.length&&D.push(p.join(":")),D}function Z(p){l.setTimeout(()=>{throw p},0)}function $(){var p=de;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class Bt{constructor(){this.h=this.g=null}add(S,D){const Y=Xt.get();Y.set(S,D),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Xt=new j(()=>new Pt,p=>p.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(S,D){this.h=S,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,At=!1,de=new Bt,Rt=()=>{const p=l.Promise.resolve(void 0);Wt=()=>{p.then(xt)}};var xt=()=>{for(var p;p=$();){try{p.h.call(p.g)}catch(D){Z(D)}var S=Xt;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}At=!1};function Mt(){this.s=this.s,this.C=this.C}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var Qt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};l.addEventListener("test",D,S),l.removeEventListener("test",D,S)}catch{}return p}();function yt(p,S){if(It.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var D=this.type=p.type,Y=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(rt){t:{try{it(S.nodeName);var ot=!0;break t}catch{}ot=!1}ot||(S=null)}}else D=="mouseover"?S=p.fromElement:D=="mouseout"&&(S=p.toElement);this.relatedTarget=S,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ut[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&yt.aa.h.call(this)}}P(yt,It);var Ut={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function vn(p,S,D,Y,ot){this.listener=p,this.proxy=null,this.src=S,this.type=D,this.capture=!!Y,this.ha=ot,this.key=++Ae,this.da=this.fa=!1}function Ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function On(p){this.src=p,this.g={},this.h=0}On.prototype.add=function(p,S,D,Y,ot){var ut=p.toString();p=this.g[ut],p||(p=this.g[ut]=[],this.h++);var St=Bn(p,S,Y,ot);return-1<St?(S=p[St],D||(S.fa=!1)):(S=new vn(S,this.src,ut,!!Y,ot),S.fa=D,p.push(S)),S};function cn(p,S){var D=S.type;if(D in p.g){var Y=p.g[D],ot=Array.prototype.indexOf.call(Y,S,void 0),ut;(ut=0<=ot)&&Array.prototype.splice.call(Y,ot,1),ut&&(Ye(S),p.g[D].length==0&&(delete p.g[D],p.h--))}}function Bn(p,S,D,Y){for(var ot=0;ot<p.length;++ot){var ut=p[ot];if(!ut.da&&ut.listener==S&&ut.capture==!!D&&ut.ha==Y)return ot}return-1}var Yn="closure_lm_"+(1e6*Math.random()|0),Qn={};function _i(p,S,D,Y,ot){if(Array.isArray(S)){for(var ut=0;ut<S.length;ut++)_i(p,S[ut],D,Y,ot);return null}return D=Gt(D),p&&p[Te]?p.K(S,D,h(Y)?!!Y.capture:!1,ot):Ln(p,S,D,!1,Y,ot)}function Ln(p,S,D,Y,ot,ut){if(!S)throw Error("Invalid event type");var St=h(ot)?!!ot.capture:!!ot,Ve=_s(p);if(Ve||(p[Yn]=Ve=new On(p)),D=Ve.add(S,D,Y,St,ut),D.proxy)return D;if(Y=nn(),D.proxy=Y,Y.src=p,Y.listener=D,p.addEventListener)Qt||(ot=St),ot===void 0&&(ot=!1),p.addEventListener(S.toString(),Y,ot);else if(p.attachEvent)p.attachEvent(ze(S.toString()),Y);else if(p.addListener&&p.removeListener)p.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return D}function nn(){function p(D){return S.call(p.src,p.listener,D)}const S=kn;return p}function yi(p,S,D,Y,ot){if(Array.isArray(S))for(var ut=0;ut<S.length;ut++)yi(p,S[ut],D,Y,ot);else Y=h(Y)?!!Y.capture:!!Y,D=Gt(D),p&&p[Te]?(p=p.i,S=String(S).toString(),S in p.g&&(ut=p.g[S],D=Bn(ut,D,Y,ot),-1<D&&(Ye(ut[D]),Array.prototype.splice.call(ut,D,1),ut.length==0&&(delete p.g[S],p.h--)))):p&&(p=_s(p))&&(S=p.g[S.toString()],p=-1,S&&(p=Bn(S,D,Y,ot)),(D=-1<p?S[p]:null)&&vi(D))}function vi(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[Te])cn(S.i,p);else{var D=p.type,Y=p.proxy;S.removeEventListener?S.removeEventListener(D,Y,p.capture):S.detachEvent?S.detachEvent(ze(D),Y):S.addListener&&S.removeListener&&S.removeListener(Y),(D=_s(S))?(cn(D,p),D.h==0&&(D.src=null,S[Yn]=null)):Ye(p)}}}function ze(p){return p in Qn?Qn[p]:Qn[p]="on"+p}function kn(p,S){if(p.da)p=!0;else{S=new yt(S,this);var D=p.listener,Y=p.ha||p.src;p.fa&&vi(p),p=D.call(Y,S)}return p}function _s(p){return p=p[Yn],p instanceof On?p:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gt(p){return typeof p=="function"?p:(p[As]||(p[As]=function(S){return p.handleEvent(S)}),p[As])}function ce(){Mt.call(this),this.i=new On(this),this.M=this,this.F=null}P(ce,Mt),ce.prototype[Te]=!0,ce.prototype.removeEventListener=function(p,S,D,Y){yi(this,p,S,D,Y)};function Nn(p,S){var D,Y=p.F;if(Y)for(D=[];Y;Y=Y.F)D.push(Y);if(p=p.M,Y=S.type||S,typeof S=="string")S=new It(S,p);else if(S instanceof It)S.target=S.target||p;else{var ot=S;S=new It(Y,p),H(S,ot)}if(ot=!0,D)for(var ut=D.length-1;0<=ut;ut--){var St=S.g=D[ut];ot=Ds(St,Y,!0,S)&&ot}if(St=S.g=p,ot=Ds(St,Y,!0,S)&&ot,ot=Ds(St,Y,!1,S)&&ot,D)for(ut=0;ut<D.length;ut++)St=S.g=D[ut],ot=Ds(St,Y,!1,S)&&ot}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var D=p.g[S],Y=0;Y<D.length;Y++)Ye(D[Y]);delete p.g[S],p.h--}}this.F=null},ce.prototype.K=function(p,S,D,Y){return this.i.add(String(p),S,!1,D,Y)},ce.prototype.L=function(p,S,D,Y){return this.i.add(String(p),S,!0,D,Y)};function Ds(p,S,D,Y){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var ot=!0,ut=0;ut<S.length;++ut){var St=S[ut];if(St&&!St.da&&St.capture==D){var Ve=St.listener,Xe=St.ha||St.src;St.fa&&cn(p.i,St),ot=Ve.call(Xe,Y)!==!1&&ot}}return ot&&!Y.defaultPrevented}function sr(p,S,D){if(typeof p=="function")D&&(p=x(p,D));else if(p&&typeof p.handleEvent=="function")p=x(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(p,S||0)}function Be(p){p.g=sr(()=>{p.g=null,p.i&&(p.i=!1,Be(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Er extends Mt{constructor(S,D){super(),this.m=S,this.l=D,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(p){Mt.call(this),this.h=p,this.g={}}P(Wi,Mt);var Jn=[];function wi(p){ft(p.g,function(S,D){this.g.hasOwnProperty(D)&&vi(S)},p),p.g={}}Wi.prototype.N=function(){Wi.aa.N.call(this),wi(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=l.JSON.stringify,Ws=l.JSON.parse,Ai=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function kr(){}kr.prototype.h=null;function Us(p){return p.h||(p.h=p.i())}function Kr(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){It.call(this,"d")}P(oi,It);function Hs(){It.call(this,"c")}P(Hs,It);var Di={},Dt=null;function Vn(){return Dt=Dt||new ce}Di.La="serverreachability";function Pr(p){It.call(this,Di.La,p)}P(Pr,It);function ai(p){const S=Vn();Nn(S,new Pr(S))}Di.STAT_EVENT="statevent";function Wn(p,S){It.call(this,Di.STAT_EVENT,p),this.stat=S}P(Wn,It);function te(p){const S=Vn();Nn(S,new Wn(S,p))}Di.Ma="timingevent";function rs(p,S){It.call(this,Di.Ma,p),this.size=S}P(rs,It);function xe(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},S)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function li(p,S,D,Y,ot,ut){p.info(function(){if(p.g)if(ut)for(var St="",Ve=ut.split("&"),Xe=0;Xe<Ve.length;Xe++){var _e=Ve[Xe].split("=");if(1<_e.length){var $e=_e[0];_e=_e[1];var _n=$e.split("_");St=2<=_n.length&&_n[1]=="type"?St+($e+"="+_e+"&"):St+($e+"=redacted&")}}else St=null;else St=ut;return"XMLHTTP REQ ("+Y+") [attempt "+ot+"]: "+S+`
`+D+`
`+St})}function Zt(p,S,D,Y,ot,ut,St){p.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+ot+"]: "+S+`
`+D+`
`+ut+" "+St})}function un(p,S,D,Y){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ti(p,D)+(Y?" "+Y:"")})}function Ui(p,S){p.info(function(){return"TIMEOUT: "+S})}Ri.prototype.info=function(){};function Ti(p,S){if(!p.g)return S;if(!S)return null;try{var D=JSON.parse(S);if(D){for(p=0;p<D.length;p++)if(Array.isArray(D[p])){var Y=D[p];if(!(2>Y.length)){var ot=Y[1];if(Array.isArray(ot)&&!(1>ot.length)){var ut=ot[0];if(ut!="noop"&&ut!="stop"&&ut!="close")for(var St=1;St<ot.length;St++)ot[St]=""}}}}return bi(D)}catch{return S}}var on={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function qn(){}P(qn,kr),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},ci=new qn;function ei(p,S,D,Y){this.j=p,this.i=S,this.l=D,this.R=Y||1,this.U=new Wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var ys={},js={};function Ys(p,S,D){p.L=1,p.v=hn(gn(S)),p.m=D,p.P=!0,os(p,null)}function os(p,S){p.F=Date.now(),rr(p),p.A=gn(p.v);var D=p.A,Y=p.R;Array.isArray(Y)||(Y=[String(Y)]),to(D.i,"t",Y),p.C=0,D=p.j.J,p.h=new Xr,p.g=ki(p.j,D?S:null,!p.m),0<p.O&&(p.M=new Er(x(p.Y,p,p.g),p.O)),S=p.U,D=p.g,Y=p.ca;var ot="readystatechange";Array.isArray(ot)||(ot&&(Jn[0]=ot.toString()),ot=Jn);for(var ut=0;ut<ot.length;ut++){var St=_i(D,ot[ut],Y||S.handleEvent,!1,S.h||S);if(!St)break;S.g[St.key]=St}S=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),ai(),li(p.i,p.u,p.A,p.l,p.R,p.m)}ei.prototype.ca=function(p){p=p.target;const S=this.M;S&&Un(p)==3?S.j():this.Y(p)},ei.prototype.Y=function(p){try{if(p==this.g)t:{const _n=Un(this.g);var S=this.g.Ba();const Ls=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Ke(this.g)))){this.J||_n!=4||S==7||(S==8||0>=Ls?ai(3):ai(2)),Ir(this);var D=this.g.Z();this.X=D;e:if($s(this)){var Y=Ke(this.g);p="";var ot=Y.length,ut=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Ge(this);var St="";break e}this.h.i=new l.TextDecoder}for(S=0;S<ot;S++)this.h.h=!0,p+=this.h.i.decode(Y[S],{stream:!(ut&&S==ot-1)});Y.length=0,this.h.g+=p,this.C=0,St=this.h.g}else St=this.g.oa();if(this.o=D==200,Zt(this.i,this.u,this.A,this.l,this.R,_n,D),this.o){if(this.T&&!this.K){e:{if(this.g){var Ve,Xe=this.g;if((Ve=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ve)){var _e=Ve;break e}}_e=null}if(D=_e)un(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rs(this,D);else{this.o=!1,this.s=3,te(12),ls(this),Ge(this);break t}}if(this.P){D=!0;let Lt;for(;!this.J&&this.C<St.length;)if(Lt=as(this,St),Lt==js){_n==4&&(this.s=4,te(14),D=!1),un(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==ys){this.s=4,te(15),un(this.i,this.l,St,"[Invalid Chunk]"),D=!1;break}else un(this.i,this.l,Lt,null),Rs(this,Lt);if($s(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||St.length!=0||this.h.h||(this.s=1,te(16),D=!1),this.o=this.o&&D,!D)un(this.i,this.l,St,"[Invalid Chunked Response]"),ls(this),Ge(this);else if(0<St.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+St.length),gt($e),$e.M=!0,te(11))}}else un(this.i,this.l,St,null),Rs(this,St);_n==4&&ls(this),this.o&&!this.J&&(_n==4?ee(this.j,this):(this.o=!1,rr(this)))}else lr(this.g),D==400&&0<St.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ls(this),Ge(this)}}}catch{}finally{}};function $s(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function as(p,S){var D=p.C,Y=S.indexOf(`
`,D);return Y==-1?js:(D=Number(S.substring(D,Y)),isNaN(D)?ys:(Y+=1,Y+D>S.length?js:(S=S.slice(Y,Y+D),p.C=Y+D,S)))}ei.prototype.cancel=function(){this.J=!0,ls(this)};function rr(p){p.S=Date.now()+p.I,Qr(p,p.I)}function Qr(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=xe(x(p.ba,p),S)}function Ir(p){p.B&&(l.clearTimeout(p.B),p.B=null)}ei.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ui(this.i,this.A),this.L!=2&&(ai(),te(17)),ls(this),this.s=2,Ge(this)):Qr(this,this.S-p)};function Ge(p){p.j.G==0||p.J||ee(p.j,p)}function ls(p){Ir(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,wi(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function Rs(p,S){try{var D=p.j;if(D.G!=0&&(D.g==p||Se(D.h,p))){if(!p.K&&Se(D.h,p)&&D.G==3){try{var Y=D.Da.g.parse(S)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var ot=Y;if(ot[0]==0){t:if(!D.u){if(D.g)if(D.g.F+3e3<p.F)Tt(D),T(D);else break t;dt(D),te(18)}}else D.za=ot[1],0<D.za-D.T&&37500>ot[2]&&D.F&&D.v==0&&!D.C&&(D.C=xe(x(D.Za,D),6e3));if(1>=Os(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else oe(D,11)}else if((p.K||D.g==p)&&Tt(D),!K(S))for(ot=D.Da.g.parse(S),S=0;S<ot.length;S++){let _e=ot[S];if(D.T=_e[0],_e=_e[1],D.G==2)if(_e[0]=="c"){D.K=_e[1],D.ia=_e[2];const $e=_e[3];$e!=null&&(D.la=$e,D.j.info("VER="+D.la));const _n=_e[4];_n!=null&&(D.Aa=_n,D.j.info("SVER="+D.Aa));const Ls=_e[5];Ls!=null&&typeof Ls=="number"&&0<Ls&&(Y=1.5*Ls,D.L=Y,D.j.info("backChannelRequestTimeoutMs_="+Y)),Y=D;const Lt=p.g;if(Lt){const Ns=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var ut=Y.h;ut.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(ut.j=ut.l,ut.g=new Set,ut.h&&(Ze(ut,ut.h),ut.h=null))}if(Y.D){const Cn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(Y.ya=Cn,ne(Y.I,Y.D,Cn))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-p.F,D.j.info("Handshake RTT: "+D.R+"ms")),Y=D;var St=p;if(Y.qa=fn(Y,Y.J?Y.ia:null,Y.W),St.K){Pn(Y.h,St);var Ve=St,Xe=Y.L;Xe&&(Ve.I=Xe),Ve.B&&(Ir(Ve),rr(Ve)),Y.g=St}else st(Y);0<D.i.length&&R(D)}else _e[0]!="stop"&&_e[0]!="close"||oe(D,7);else D.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?oe(D,7):_(D):_e[0]!="noop"&&D.l&&D.l.ta(_e),D.v=0)}}ai(4)}catch{}}var qs=class{constructor(p,S){this.g=p,this.map=S}};function Cr(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Os(p){return p.h?1:p.g?p.g.size:0}function Se(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Ze(p,S){p.g?p.g.add(S):p.h=S}function Pn(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}Cr.prototype.cancel=function(){if(this.i=xi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function xi(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const D of p.g.values())S=S.concat(D.D);return S}return A(p.i)}function Hi(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],D=p.length,Y=0;Y<D;Y++)S.push(p[Y]);return S}S=[],D=0;for(Y in p)S[D++]=p[Y];return S}function Ar(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var D=0;D<p;D++)S.push(D);return S}S=[],D=0;for(const Y in p)S[D++]=Y;return S}}}function fe(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var D=Ar(p),Y=Hi(p),ot=Y.length,ut=0;ut<ot;ut++)S.call(void 0,Y[ut],D&&D[ut],p)}var sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(p,S){if(p){p=p.split("&");for(var D=0;D<p.length;D++){var Y=p[D].indexOf("="),ot=null;if(0<=Y){var ut=p[D].substring(0,Y);ot=p[D].substring(Y+1)}else ut=p[D];S(ut,ot?decodeURIComponent(ot.replace(/\+/g," ")):"")}}}function ni(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ni){this.h=p.h,vs(this,p.j),this.o=p.o,this.g=p.g,ji(this,p.s),this.l=p.l;var S=p.i,D=new Oi;D.i=S.i,S.g&&(D.g=new Map(S.g),D.h=S.h),wn(this,D),this.m=p.m}else p&&(S=String(p).match(sn))?(this.h=!1,vs(this,S[1]||"",!0),this.o=cs(S[2]||""),this.g=cs(S[3]||"",!0),ji(this,S[4]),this.l=cs(S[5]||"",!0),wn(this,S[6]||"",!0),this.m=cs(S[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}ni.prototype.toString=function(){var p=[],S=this.j;S&&p.push(us(S,Si,!0),":");var D=this.g;return(D||S=="file")&&(p.push("//"),(S=this.o)&&p.push(us(S,Si,!0),"@"),p.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&p.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(us(D,D.charAt(0)=="/"?Jr:or,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",us(D,Rr)),p.join("")};function gn(p){return new ni(p)}function vs(p,S,D){p.j=D?cs(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function ji(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function wn(p,S,D){S instanceof Oi?(p.i=S,Yi(p.i,p.h)):(D||(S=us(S,ws)),p.i=new Oi(S,p.h))}function ne(p,S,D){p.i.set(S,D)}function hn(p){return ne(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function cs(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function us(p,S,D){return typeof p=="string"?(p=encodeURI(p).replace(S,hs),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function hs(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Si=/[#\/\?@]/g,or=/[#\?:]/g,Jr=/[#\?]/g,ws=/[#\?@]/g,Rr=/#/g;function Oi(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Ei(p){p.g||(p.g=new Map,p.h=0,p.i&&Dr(p.i,function(S,D){p.add(decodeURIComponent(S.replace(/\+/g," ")),D)}))}n=Oi.prototype,n.add=function(p,S){Ei(this),this.i=null,p=re(this,p);var D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(S),this.h+=1,this};function ar(p,S){Ei(p),S=re(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function Or(p,S){return Ei(p),S=re(p,S),p.g.has(S)}n.forEach=function(p,S){Ei(this),this.g.forEach(function(D,Y){D.forEach(function(ot){p.call(S,ot,Y,this)},this)},this)},n.na=function(){Ei(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),D=[];for(let Y=0;Y<S.length;Y++){const ot=p[Y];for(let ut=0;ut<ot.length;ut++)D.push(S[Y])}return D},n.V=function(p){Ei(this);let S=[];if(typeof p=="string")Or(this,p)&&(S=S.concat(this.g.get(re(this,p))));else{p=Array.from(this.g.values());for(let D=0;D<p.length;D++)S=S.concat(p[D])}return S},n.set=function(p,S){return Ei(this),this.i=null,p=re(this,p),Or(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function to(p,S,D){ar(p,S),0<D.length&&(p.i=null,p.g.set(re(p,S),A(D)),p.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var D=0;D<S.length;D++){var Y=S[D];const ut=encodeURIComponent(String(Y)),St=this.V(Y);for(Y=0;Y<St.length;Y++){var ot=ut;St[Y]!==""&&(ot+="="+encodeURIComponent(String(St[Y]))),p.push(ot)}}return this.i=p.join("&")};function re(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Yi(p,S){S&&!p.j&&(Ei(p),p.i=null,p.g.forEach(function(D,Y){var ot=Y.toLowerCase();Y!=ot&&(ar(this,Y),to(this,ot,D))},p)),p.j=S}function We(p,S){const D=new Ri;if(l.Image){const Y=new Image;Y.onload=C($i,D,"TestLoadImage: loaded",!0,S,Y),Y.onerror=C($i,D,"TestLoadImage: error",!1,S,Y),Y.onabort=C($i,D,"TestLoadImage: abort",!1,S,Y),Y.ontimeout=C($i,D,"TestLoadImage: timeout",!1,S,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=p}else S(!1)}function jo(p,S){const D=new Ri,Y=new AbortController,ot=setTimeout(()=>{Y.abort(),$i(D,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:Y.signal}).then(ut=>{clearTimeout(ot),ut.ok?$i(D,"TestPingServer: ok",!0,S):$i(D,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ot),$i(D,"TestPingServer: error",!1,S)})}function $i(p,S,D,Y,ot){try{ot&&(ot.onload=null,ot.onerror=null,ot.onabort=null,ot.ontimeout=null),Y(D)}catch{}}function eo(){this.g=new Ai}function no(p,S,D){const Y=D||"";try{fe(p,function(ot,ut){let St=ot;h(ot)&&(St=bi(ot)),S.push(Y+ut+"="+encodeURIComponent(St))})}catch(ot){throw S.push(Y+"type="+encodeURIComponent("_badmap")),ot}}function qi(p){this.l=p.Ub||null,this.j=p.eb||!1}P(qi,kr),qi.prototype.g=function(){return new Gs(this.l,this.j)},qi.prototype.i=function(p){return function(){return p}}({});function Gs(p,S){ce.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Gs,ce),n=Gs.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,ui(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dn(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?dn(this):ui(this),this.readyState==3&&Zs(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,dn(this))},n.Qa=function(p){this.g&&(this.response=p,dn(this))},n.ga=function(){this.g&&dn(this)};function dn(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ui(p)}n.setRequestHeader=function(p,S){this.u.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var D=S.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=S.next();return p.join(`\r
`)};function ui(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Lr(p){let S="";return ft(p,function(D,Y){S+=Y,S+=":",S+=D,S+=`\r
`}),S}function bs(p,S,D){t:{for(Y in D){var Y=!1;break t}Y=!0}Y||(D=Lr(D),typeof p=="string"?D!=null&&encodeURIComponent(String(D)):ne(p,S,D))}function en(p){ce.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(en,ce);var io=/^https?$/i,Ks=["POST","PUT"];n=en.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,S,D,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?Us(this.o):Us(ci),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ut){so(this,ut);return}if(p=D||"",D=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var ot in Y)D.set(ot,Y[ot]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ut of Y.keys())D.set(ut,Y.get(ut));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(D.keys()).find(ut=>ut.toLowerCase()=="content-type"),ot=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Ks,S,void 0))||Y||ot||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ut,St]of D)this.g.setRequestHeader(ut,St);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hi(this),this.u=!0,this.g.send(p),this.u=!1}catch(ut){so(this,ut)}};function so(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,ro(p),Ts(p)}function ro(p){p.A||(p.A=!0,Nn(p,"complete"),Nn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Nn(this,"complete"),Nn(this,"abort"),Ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),en.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pe(this):this.bb())},n.bb=function(){Pe(this)};function Pe(p){if(p.h&&typeof a<"u"&&(!p.v[1]||Un(p)!=4||p.Z()!=2)){if(p.u&&Un(p)==4)sr(p.Ea,0,p);else if(Nn(p,"readystatechange"),Un(p)==4){p.h=!1;try{const St=p.Z();t:switch(St){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var D;if(!(D=S)){var Y;if(Y=St===0){var ot=String(p.D).match(sn)[1]||null;!ot&&l.self&&l.self.location&&(ot=l.self.location.protocol.slice(0,-1)),Y=!io.test(ot?ot.toLowerCase():"")}D=Y}if(D)Nn(p,"complete"),Nn(p,"success");else{p.m=6;try{var ut=2<Un(p)?p.g.statusText:""}catch{ut=""}p.l=ut+" ["+p.Z()+"]",ro(p)}}finally{Ts(p)}}}}function Ts(p,S){if(p.g){hi(p);const D=p.g,Y=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||Nn(p,"ready");try{D.onreadystatechange=Y}catch{}}}function hi(p){p.I&&(l.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Un(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),Ws(S)}};function Ke(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(p){const S={};p=(p.g&&2<=Un(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<p.length;Y++){if(K(p[Y]))continue;var D=q(p[Y]);const ot=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ut=S[ot]||[];S[ot]=ut,ut.push(D)}y(S,function(Y){return Y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(p,S,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||S}function d(p){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,p),this.cb=Li("retryDelaySeedMs",1e4,p),this.Wa=Li("forwardChannelMaxRetries",2,p),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(p&&p.concurrentRequestLimit),this.Da=new eo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=d.prototype,n.la=8,n.G=1,n.connect=function(p,S,D,Y){te(0),this.W=p,this.H=S||{},D&&Y!==void 0&&(this.H.OSID=D,this.H.OAID=Y),this.F=this.X,this.I=fn(this,null,this.W),R(this)};function _(p){if(E(p),p.G==3){var S=p.U++,D=gn(p.I);if(ne(D,"SID",p.K),ne(D,"RID",S),ne(D,"TYPE","terminate"),J(p,D),S=new ei(p,p.j,S),S.L=2,S.v=hn(gn(D)),D=!1,l.navigator&&l.navigator.sendBeacon)try{D=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!D&&l.Image&&(new Image().src=S.v,D=!0),D||(S.g=ki(S.j,null),S.g.ea(S.v)),S.F=Date.now(),rr(S)}In(p)}function T(p){p.g&&(gt(p),p.g.cancel(),p.g=null)}function E(p){T(p),p.u&&(l.clearTimeout(p.u),p.u=null),Tt(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function R(p){if(!Mr(p.h)&&!p.s){p.s=!0;var S=p.Ga;Wt||Rt(),At||(Wt(),At=!0),de.add(S,p),p.B=0}}function O(p,S){return Os(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=xe(x(p.Ga,p,S),we(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ot=new ei(this,this.j,p);let ut=this.o;if(this.S&&(ut?(ut=N(ut),H(ut,this.S)):ut=this.S),this.m!==null||this.O||(ot.H=ut,ut=null),this.P)t:{for(var S=0,D=0;D<this.i.length;D++){e:{var Y=this.i[D];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break e}Y=void 0}if(Y===void 0)break;if(S+=Y,4096<S){S=D;break t}if(S===4096||D===this.i.length-1){S=D+1;break t}}S=1e3}else S=1e3;S=X(this,ot,S),D=gn(this.I),ne(D,"RID",p),ne(D,"CVER",22),this.D&&ne(D,"X-HTTP-Session-Id",this.D),J(this,D),ut&&(this.O?S="headers="+encodeURIComponent(String(Lr(ut)))+"&"+S:this.m&&bs(D,this.m,ut)),Ze(this.h,ot),this.Ua&&ne(D,"TYPE","init"),this.P?(ne(D,"$req",S),ne(D,"SID","null"),ot.T=!0,Ys(ot,D,null)):Ys(ot,D,S),this.G=2}}else this.G==3&&(p?F(this,p):this.i.length==0||Mr(this.h)||F(this))};function F(p,S){var D;S?D=S.l:D=p.U++;const Y=gn(p.I);ne(Y,"SID",p.K),ne(Y,"RID",D),ne(Y,"AID",p.T),J(p,Y),p.m&&p.o&&bs(Y,p.m,p.o),D=new ei(p,p.j,D,p.B+1),p.m===null&&(D.H=p.o),S&&(p.i=S.D.concat(p.i)),S=X(p,D,1e3),D.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ze(p.h,D),Ys(D,Y,S)}function J(p,S){p.H&&ft(p.H,function(D,Y){ne(S,Y,D)}),p.l&&fe({},function(D,Y){ne(S,Y,D)})}function X(p,S,D){D=Math.min(p.i.length,D);var Y=p.l?x(p.l.Na,p.l,p):null;t:{var ot=p.i;let ut=-1;for(;;){const St=["count="+D];ut==-1?0<D?(ut=ot[0].g,St.push("ofs="+ut)):ut=0:St.push("ofs="+ut);let Ve=!0;for(let Xe=0;Xe<D;Xe++){let _e=ot[Xe].g;const $e=ot[Xe].map;if(_e-=ut,0>_e)ut=Math.max(0,ot[Xe].g-100),Ve=!1;else try{no($e,St,"req"+_e+"_")}catch{Y&&Y($e)}}if(Ve){Y=St.join("&");break t}}}return p=p.i.splice(0,D),S.D=p,Y}function st(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;Wt||Rt(),At||(Wt(),At=!0),de.add(S,p),p.v=0}}function dt(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=xe(x(p.Fa,p),we(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,ct(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=xe(x(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),T(this),ct(this))};function gt(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function ct(p){p.g=new ei(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=gn(p.qa);ne(S,"RID","rpc"),ne(S,"SID",p.K),ne(S,"AID",p.T),ne(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&ne(S,"TO",p.ja),ne(S,"TYPE","xmlhttp"),J(p,S),p.m&&p.o&&bs(S,p.m,p.o),p.L&&(p.g.I=p.L);var D=p.g;p=p.ia,D.L=1,D.v=hn(gn(S)),D.m=null,D.P=!0,os(D,p)}n.Za=function(){this.C!=null&&(this.C=null,T(this),dt(this),te(19))};function Tt(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function ee(p,S){var D=null;if(p.g==S){Tt(p),gt(p),p.g=null;var Y=2}else if(Se(p.h,S))D=S.D,Pn(p.h,S),Y=1;else return;if(p.G!=0){if(S.o)if(Y==1){D=S.m?S.m.length:0,S=Date.now()-S.F;var ot=p.B;Y=Vn(),Nn(Y,new rs(Y,D)),R(p)}else st(p);else if(ot=S.s,ot==3||ot==0&&0<S.X||!(Y==1&&O(p,S)||Y==2&&dt(p)))switch(D&&0<D.length&&(S=p.h,S.i=S.i.concat(D)),ot){case 1:oe(p,5);break;case 4:oe(p,10);break;case 3:oe(p,6);break;default:oe(p,2)}}}function we(p,S){let D=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(D*=2),D*S}function oe(p,S){if(p.j.info("Error code "+S),S==2){var D=x(p.fb,p),Y=p.Xa;const ot=!Y;Y=new ni(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||vs(Y,"https"),hn(Y),ot?We(Y.toString(),D):jo(Y.toString(),D)}else te(2);p.G=0,p.l&&p.l.sa(S),In(p),E(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function In(p){if(p.G=0,p.ka=[],p.l){const S=xi(p.h);(S.length!=0||p.i.length!=0)&&(V(p.ka,S),V(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function fn(p,S,D){var Y=D instanceof ni?gn(D):new ni(D);if(Y.g!="")S&&(Y.g=S+"."+Y.g),ji(Y,Y.s);else{var ot=l.location;Y=ot.protocol,S=S?S+"."+ot.hostname:ot.hostname,ot=+ot.port;var ut=new ni(null);Y&&vs(ut,Y),S&&(ut.g=S),ot&&ji(ut,ot),D&&(ut.l=D),Y=ut}return D=p.D,S=p.ya,D&&S&&ne(Y,D,S),ne(Y,"VER",p.la),J(p,Y),Y}function ki(p,S,D){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new en(new qi({eb:D})):new en(p.pa),S.Ha(p.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pi(){}n=Pi.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function me(){}me.prototype.g=function(p,S){return new pn(p,S)};function pn(p,S){ce.call(this),this.g=new d(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!K(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!K(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Gn(this)}P(pn,ce),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){_(this.g)},pn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.u&&(D={},D.__data__=bi(p),p=D);S.i.push(new qs(S.Ya++,p)),S.G==3&&R(S)},pn.prototype.N=function(){this.g.l=null,delete this.j,_(this.g),delete this.g,pn.aa.N.call(this)};function ge(p){oi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){t:{for(const D in S){p=D;break t}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}P(ge,oi);function an(){Hs.call(this),this.status=1}P(an,Hs);function Gn(p){this.g=p}P(Gn,Pi),Gn.prototype.ua=function(){Nn(this.g,"a")},Gn.prototype.ta=function(p){Nn(this.g,new ge(p))},Gn.prototype.sa=function(p){Nn(this.g,new an)},Gn.prototype.ra=function(){Nn(this.g,"b")},me.prototype.createWebChannel=me.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Nb=function(){return new me},Lb=function(){return Vn()},Ob=Di,Bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,Mh=on,ti.COMPLETE="complete",Rb=ti,Kr.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ce.prototype.listen=ce.prototype.K,xc=Kr,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,Db=en}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const Ky="@firebase/firestore",Xy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new qm("@firebase/firestore");function Tl(){return Xa.logLevel}function jt(n,...t){if(Xa.logLevel<=Re.DEBUG){const e=t.map(Km);Xa.debug(`Firestore (${Jl}): ${n}`,...e)}}function No(n,...t){if(Xa.logLevel<=Re.ERROR){const e=t.map(Km);Xa.error(`Firestore (${Jl}): ${n}`,...e)}}function Wl(n,...t){if(Xa.logLevel<=Re.WARN){const e=t.map(Km);Xa.warn(`Firestore (${Jl}): ${n}`,...e)}}function Km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Vb(n,i,e)}function Vb(n,t,e){let i=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw No(i),new Error(i)}function rn(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||Vb(t,s,i)}function be(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Uo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qi.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class yN{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){rn(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,e(c)):Promise.resolve();let r=new Ao;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ao,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;t.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ao)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(rn(typeof i.accessToken=="string",31837,{l:i}),new Fb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return rn(t===null||typeof t=="string",2055,{h:t}),new Qi(t)}}class vN{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new vN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){rn(this.o===void 0,3512);const i=r=>{r.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,jt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(rn(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Qy(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=TN(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<e&&(i+=t.charAt(s[r]%62))}return i}}function Me(n,t){return n<t?-1:n>t?1:0}function Wp(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),s=t.codePointAt(e);if(i!==s){if(i<128&&s<128)return Me(i,s);{const r=zb(),a=xN(r.encode(Jy(n,e)),r.encode(Jy(t,e)));return a!==0?a:Me(i,s)}}e+=i>65535?2:1}return Me(n.length,t.length)}function Jy(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function xN(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Me(n[e],t[e]);return Me(n.length,t.length)}function Ul(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-62135596800,ev=1e6;class mi{static now(){return mi.fromMillis(Date.now())}static fromDate(t){return mi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ev);return new mi(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Kt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Kt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<tv)throw new Kt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(t){return this.seconds===t.seconds?Me(this.nanoseconds,t.nanoseconds):Me(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(t){return new ve(t)}static min(){return new ve(new mi(0,0))}static max(){return new ve(new mi(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class Fr{constructor(t,e,i){e===void 0?e=0:e>t.length&&he(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&he(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Fr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Fr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const r=Fr.compareSegments(t.get(s),e.get(s));if(r!==0)return r}return Me(t.length,e.length)}static compareSegments(t,e){const i=Fr.isNumericId(t),s=Fr.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?Fr.extractNumericId(t).compare(Fr.extractNumericId(e)):Wp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ga.fromString(t.substring(4,t.length-2))}}class bn extends Fr{construct(t,e,i){return new bn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Kt(wt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Fr{construct(t,e,i){return new zi(t,e,i)}static isValidIdentifier(t){return SN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new zi([nv])}static fromServerFormat(t){const e=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Kt(wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Kt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Kt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new Kt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zi(e)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.path=t}static fromPath(t){return new se(bn.fromString(t))}static fromName(t){return new se(bn.fromString(t).popFirst(5))}static empty(){return new se(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new se(new bn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function EN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=ve.fromTimestamp(i===1e9?new mi(e+1,0):new mi(e,i));return new wa(s,se.empty(),t)}function kN(n){return new wa(n.readTime,n.key,eu)}class wa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new wa(ve.min(),se.empty(),eu)}static max(){return new wa(ve.max(),se.empty(),eu)}}function PN(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=se.comparator(n.documentKey,t.documentKey),e!==0?e:Me(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n){if(n.code!==wt.FAILED_PRECONDITION||n.message!==IN)throw n;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new vt((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(e,r).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof vt?e:vt.resolve(e)}catch(e){return vt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):vt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):vt.reject(e)}static resolve(t){return new vt((e,i)=>{e(t)})}static reject(t){return new vt((e,i)=>{i(t)})}static waitFor(t){return new vt((e,i)=>{let s=0,r=0,a=!1;t.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&e()},c=>i(c))}),a=!0,r===s&&e()})}static or(t){let e=vt.resolve(!1);for(const i of t)e=e.next(s=>s?vt.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,r)=>{i.push(e.call(this,s,r))}),this.waitFor(i)}static mapArray(t,e){return new vt((i,s)=>{const r=t.length,a=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;e(t[h]).next(g=>{a[h]=g,++l,l===r&&i(a)},g=>s(g))}})}static doWhile(t,e){return new vt((i,s)=>{const r=()=>{t()===!0?e().next(()=>{r()},s):i()};r()})}}function MN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ec(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Wd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=-1;function Ud(n){return n==null}function od(n){return n===0&&1/n==-1/0}function AN(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="";function DN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=iv(t)),t=RN(n.get(e),t);return iv(t)}function RN(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":e+="";break;case Wb:e+="";break;default:e+=r}}return e}function iv(n){return n+Wb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function rl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ub(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,e){this.comparator=t,this.root=e||Fi.EMPTY}insert(t,e){return new zn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(t){return new zn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ch(this.root,t,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ch(this.root,t,this.comparator,!0)}}class ch{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?i(t.key,e):1,e&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fi{constructor(t,e,i,s,r){this.key=t,this.value=e,this.color=i??Fi.RED,this.left=s??Fi.EMPTY,this.right=r??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,r){return new Fi(t??this.key,e??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,e,i),null):r===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Fi.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw he(27949);return t+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(t,e,i,s,r){return this}insert(t,e,i){return new Fi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.comparator=t,this.data=new zn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof gi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new gi(this.comparator);return e.data=t,e}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this.fields=t,t.sort(zi.comparator)}static empty(){return new _r([])}unionWith(t){let e=new gi(zi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new _r(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ul(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Hb("Invalid base64 string: "+r):r}}(t);return new Bi(e)}static fromUint8Array(t){const e=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new Bi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Me(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const ON=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(n){if(rn(!!n,39018),typeof n=="string"){let t=0;const e=ON.exec(n);if(rn(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kn(n.seconds),nanos:Kn(n.nanos)}}function Kn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ta(n){return typeof n=="string"?Bi.fromBase64String(n):Bi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="server_timestamp",Yb="__type__",$b="__previous_value__",qb="__local_write_time__";function Qm(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Yb])===null||e===void 0?void 0:e.stringValue)===jb}function Hd(n){const t=n.mapValue.fields[$b];return Qm(t)?Hd(t):t}function nu(n){const t=ba(n.mapValue.fields[qb].timestampValue);return new mi(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(t,e,i,s,r,a,l,c,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=g}}const ad="(default)";class iu{constructor(t,e){this.projectId=t,this.database=e||ad}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===ad}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__type__",NN="__max__",uh={mapValue:{}},Zb="__vector__",ld="value";function xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qm(n)?4:FN(n)?9007199254740991:VN(n)?10:11:he(28295,{value:n})}function $r(n,t){if(n===t)return!0;const e=xa(n);if(e!==xa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nu(n).isEqual(nu(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ba(s.timestampValue),l=ba(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,r){return Ta(s.bytesValue).isEqual(Ta(r.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,r){return Kn(s.geoPointValue.latitude)===Kn(r.geoPointValue.latitude)&&Kn(s.geoPointValue.longitude)===Kn(r.geoPointValue.longitude)}(n,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Kn(s.integerValue)===Kn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Kn(s.doubleValue),l=Kn(r.doubleValue);return a===l?od(a)===od(l):isNaN(a)&&isNaN(l)}return!1}(n,t);case 9:return Ul(n.arrayValue.values||[],t.arrayValue.values||[],$r);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(sv(a)!==sv(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!$r(a[c],l[c])))return!1;return!0}(n,t);default:return he(52216,{left:n})}}function su(n,t){return(n.values||[]).find(e=>$r(e,t))!==void 0}function Hl(n,t){if(n===t)return 0;const e=xa(n),i=xa(t);if(e!==i)return Me(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,t.booleanValue);case 2:return function(r,a){const l=Kn(r.integerValue||r.doubleValue),c=Kn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,t);case 3:return ov(n.timestampValue,t.timestampValue);case 4:return ov(nu(n),nu(t));case 5:return Wp(n.stringValue,t.stringValue);case 6:return function(r,a){const l=Ta(r),c=Ta(a);return l.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const l=r.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const g=Me(l[h],c[h]);if(g!==0)return g}return Me(l.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const l=Me(Kn(r.latitude),Kn(a.latitude));return l!==0?l:Me(Kn(r.longitude),Kn(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return av(n.arrayValue,t.arrayValue);case 10:return function(r,a){var l,c,h,g;const w=r.fields||{},x=a.fields||{},C=(l=w[ld])===null||l===void 0?void 0:l.arrayValue,P=(c=x[ld])===null||c===void 0?void 0:c.arrayValue,A=Me(((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:av(C,P)}(n.mapValue,t.mapValue);case 11:return function(r,a){if(r===uh.mapValue&&a===uh.mapValue)return 0;if(r===uh.mapValue)return 1;if(a===uh.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=a.fields||{},g=Object.keys(h);c.sort(),g.sort();for(let w=0;w<c.length&&w<g.length;++w){const x=Wp(c[w],g[w]);if(x!==0)return x;const C=Hl(l[c[w]],h[g[w]]);if(C!==0)return C}return Me(c.length,g.length)}(n.mapValue,t.mapValue);default:throw he(23264,{Pe:e})}}function ov(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Me(n,t);const e=ba(n),i=ba(t),s=Me(e.seconds,i.seconds);return s!==0?s:Me(e.nanos,i.nanos)}function av(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const r=Hl(e[s],i[s]);if(r)return r}return Me(e.length,i.length)}function jl(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ba(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Ta(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return se.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const r of e.values||[])s?s=!1:i+=",",i+=Up(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Up(e.fields[a])}`;return s+"}"}(n.mapValue):he(61005,{value:n})}function Ah(n){switch(xa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hd(n);return t?16+Ah(t):16;case 5:return 2*n.stringValue.length;case 6:return Ta(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Ah(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return rl(i.fields,(r,a)=>{s+=r.length+Ah(a)}),s}(n.mapValue);default:throw he(13486,{value:n})}}function lv(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Hp(n){return!!n&&"integerValue"in n}function Jm(n){return!!n&&"arrayValue"in n}function cv(n){return!!n&&"nullValue"in n}function uv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dh(n){return!!n&&"mapValue"in n}function VN(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Gb])===null||e===void 0?void 0:e.stringValue)===Zb}function Nc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return rl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Nc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Nc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function FN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===NN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.value=t}static empty(){return new er({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Dh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(e)}setAll(t){let e=zi.emptyPath(),i={},s=[];t.forEach((a,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,i,s),i={},s=[],e=l.popLast()}a?i[l.lastSegment()]=Nc(a):s.push(l.lastSegment())});const r=this.getFieldsMap(e);this.applyChanges(r,i,s)}delete(t){const e=this.field(t.popLast());Dh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $r(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];Dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){rl(e,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new er(Nc(this.value))}}function Kb(n){const t=[];return rl(n.fields,(e,i)=>{const s=new zi([e]);if(Dh(i)){const r=Kb(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new _r(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,e,i,s,r,a,l){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Ji(t,0,ve.min(),ve.min(),ve.min(),er.empty(),0)}static newFoundDocument(t,e,i,s){return new Ji(t,1,e,ve.min(),i,s,0)}static newNoDocument(t,e){return new Ji(t,2,e,ve.min(),ve.min(),er.empty(),0)}static newUnknownDocument(t,e){return new Ji(t,3,e,ve.min(),ve.min(),er.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ji&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,e){this.position=t,this.inclusive=e}}function hv(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const r=t[s],a=n.position[s];if(r.field.isKeyField()?i=se.comparator(se.fromName(a.referenceValue),e.key):i=Hl(a,e.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function dv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$r(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,e="asc"){this.field=t,this.dir=e}}function zN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{}class ri extends Xb{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new WN(t,e,i):e==="array-contains"?new jN(t,i):e==="in"?new YN(t,i):e==="not-in"?new $N(t,i):e==="array-contains-any"?new qN(t,i):new ri(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new UN(t,i):new HN(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Hl(e,this.value)):e!==null&&xa(this.value)===xa(e)&&this.matchesComparison(Hl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends Xb{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Tr(t,e)}matches(t){return Qb(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qb(n){return n.op==="and"}function Jb(n){return BN(n)&&Qb(n)}function BN(n){for(const t of n.filters)if(t instanceof Tr)return!1;return!0}function jp(n){if(n instanceof ri)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(Jb(n))return n.filters.map(t=>jp(t)).join(",");{const t=n.filters.map(e=>jp(e)).join(",");return`${n.op}(${t})`}}function tT(n,t){return n instanceof ri?function(i,s){return s instanceof ri&&i.op===s.op&&i.field.isEqual(s.field)&&$r(i.value,s.value)}(n,t):n instanceof Tr?function(i,s){return s instanceof Tr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&tT(a,s.filters[l]),!0):!1}(n,t):void he(19439)}function eT(n){return n instanceof ri?function(e){return`${e.field.canonicalString()} ${e.op} ${jl(e.value)}`}(n):n instanceof Tr?function(e){return e.op.toString()+" {"+e.getFilters().map(eT).join(" ,")+"}"}(n):"Filter"}class WN extends ri{constructor(t,e,i){super(t,e,i),this.key=se.fromName(i.referenceValue)}matches(t){const e=se.comparator(t.key,this.key);return this.matchesComparison(e)}}class UN extends ri{constructor(t,e){super(t,"in",e),this.keys=nT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class HN extends ri{constructor(t,e){super(t,"not-in",e),this.keys=nT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>se.fromName(i.referenceValue))}class jN extends ri{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Jm(e)&&su(e.arrayValue,this.value)}}class YN extends ri{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&su(this.value.arrayValue,e)}}class $N extends ri{constructor(t,e){super(t,"not-in",e)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!su(this.value.arrayValue,e)}}class qN extends ri{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Jm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,e=null,i=[],s=[],r=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function fv(n,t=null,e=[],i=[],s=null,r=null,a=null){return new GN(n,t,e,i,s,r,a)}function tg(n){const t=be(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>jp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Ud(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>jl(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>jl(i)).join(",")),t.Ie=e}return t.Ie}function eg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!zN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!tT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!dv(n.startAt,t.startAt)&&dv(n.endAt,t.endAt)}function Yp(n){return se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e=null,i=[],s=[],r=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZN(n,t,e,i,s,r,a,l){return new yu(n,t,e,i,s,r,a,l)}function ng(n){return new yu(n)}function pv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iT(n){return n.collectionGroup!==null}function Vc(n){const t=be(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ee.push(r),e.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new gi(zi.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new ud(r,i))}),e.has(zi.keyField().canonicalString())||t.Ee.push(new ud(zi.keyField(),i))}return t.Ee}function Wr(n){const t=be(n);return t.de||(t.de=KN(t,Vc(n))),t.de}function KN(n,t){if(n.limitType==="F")return fv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new ud(s.field,r)});const e=n.endAt?new cd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new cd(n.startAt.position,n.startAt.inclusive):null;return fv(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function $p(n,t){const e=n.filters.concat([t]);return new yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function qp(n,t,e){return new yu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function jd(n,t){return eg(Wr(n),Wr(t))&&n.limitType===t.limitType}function sT(n){return`${tg(Wr(n))}|lt:${n.limitType}`}function xl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>eT(s)).join(", ")}]`),Ud(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>jl(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>jl(s)).join(",")),`Target(${i})`}(Wr(n))}; limitType=${n.limitType})`}function Yd(n,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):se.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,t)&&function(i,s){for(const r of Vc(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(a,l,c){const h=hv(a,l,c);return a.inclusive?h<=0:h<0}(i.startAt,Vc(i),s)||i.endAt&&!function(a,l,c){const h=hv(a,l,c);return a.inclusive?h>=0:h>0}(i.endAt,Vc(i),s))}(n,t)}function XN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rT(n){return(t,e)=>{let i=!1;for(const s of Vc(n)){const r=QN(s,t,e);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function QN(n,t,e){const i=n.field.isKeyField()?se.comparator(t.key,e.key):function(r,a,l){const c=a.data.field(r),h=l.data.field(r);return c!==null&&h!==null?Hl(c,h):he(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return he(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){rl(this.inner,(e,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return Ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new zn(se.comparator);function Vo(){return JN}const oT=new zn(se.comparator);function Sc(...n){let t=oT;for(const e of n)t=t.insert(e.key,e);return t}function aT(n){let t=oT;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ha(){return Fc()}function lT(){return Fc()}function Fc(){return new ol(n=>n.toString(),(n,t)=>n.isEqual(t))}const t2=new zn(se.comparator),e2=new gi(se.comparator);function Oe(...n){let t=e2;for(const e of n)t=t.add(e);return t}const n2=new gi(Me);function i2(){return n2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(t)?"-0":t}}function cT(n){return{integerValue:""+n}}function s2(n,t){return AN(t)?cT(t):ig(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this._=void 0}}function r2(n,t,e){return n instanceof ru?function(s,r){const a={fields:{[Yb]:{stringValue:jb},[qb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Qm(r)&&(r=Hd(r)),r&&(a.fields[$b]=r),{mapValue:a}}(e,t):n instanceof ou?hT(n,t):n instanceof au?dT(n,t):function(s,r){const a=uT(s,r),l=mv(a)+mv(s.Re);return Hp(a)&&Hp(s.Re)?cT(l):ig(s.serializer,l)}(n,t)}function o2(n,t,e){return n instanceof ou?hT(n,t):n instanceof au?dT(n,t):e}function uT(n,t){return n instanceof hd?function(i){return Hp(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class ru extends $d{}class ou extends $d{constructor(t){super(),this.elements=t}}function hT(n,t){const e=fT(t);for(const i of n.elements)e.some(s=>$r(s,i))||e.push(i);return{arrayValue:{values:e}}}class au extends $d{constructor(t){super(),this.elements=t}}function dT(n,t){let e=fT(t);for(const i of n.elements)e=e.filter(s=>!$r(s,i));return{arrayValue:{values:e}}}class hd extends $d{constructor(t,e){super(),this.serializer=t,this.Re=e}}function mv(n){return Kn(n.integerValue||n.doubleValue)}function fT(n){return Jm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,e){this.field=t,this.transform=e}}function l2(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof ou&&s instanceof ou||i instanceof au&&s instanceof au?Ul(i.elements,s.elements,$r):i instanceof hd&&s instanceof hd?$r(i.Re,s.Re):i instanceof ru&&s instanceof ru}(n.transform,t.transform)}class c2{constructor(t,e){this.version=t,this.transformResults=e}}class Do{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Do}static exists(t){return new Do(void 0,t)}static updateTime(t){return new Do(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class qd{}function pT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new gT(n.key,Do.none()):new vu(n.key,n.data,Do.none());{const e=n.data,i=er.empty();let s=new gi(zi.comparator);for(let r of t.fields)if(!s.has(r)){let a=e.field(r);a===null&&r.length>1&&(r=r.popLast(),a=e.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new al(n.key,i,new _r(s.toArray()),Do.none())}}function u2(n,t,e){n instanceof vu?function(s,r,a){const l=s.value.clone(),c=_v(s.fieldTransforms,r,a.transformResults);l.setAll(c),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,t,e):n instanceof al?function(s,r,a){if(!Rh(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=_v(s.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(mT(s)),c.setAll(l),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,t,e):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,e)}function zc(n,t,e,i){return n instanceof vu?function(r,a,l,c){if(!Rh(r.precondition,a))return l;const h=r.value.clone(),g=yv(r.fieldTransforms,c,a);return h.setAll(g),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,t,e,i):n instanceof al?function(r,a,l,c){if(!Rh(r.precondition,a))return l;const h=yv(r.fieldTransforms,c,a),g=a.data;return g.setAll(mT(r)),g.setAll(h),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):function(r,a,l){return Rh(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,t,e)}function h2(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),r=uT(i.transform,s||null);r!=null&&(e===null&&(e=er.empty()),e.set(i.field,r))}return e||null}function gv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ul(i,s,(r,a)=>l2(r,a))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class vu extends qd{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class al extends qd{constructor(t,e,i,s,r=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function mT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _v(n,t,e){const i=new Map;rn(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let s=0;s<e.length;s++){const r=n[s],a=r.transform,l=t.data.field(r.field);i.set(r.field,o2(a,l,e[s]))}return i}function yv(n,t,e){const i=new Map;for(const s of n){const r=s.transform,a=e.data.field(s.field);i.set(s.field,r2(r,a,t))}return i}class gT extends qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends qd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&u2(r,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=lT();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=e.has(s.key)?null:l;const c=pT(a,l);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Oe())}isEqual(t){return this.batchId===t.batchId&&Ul(this.mutations,t.mutations,(e,i)=>gv(e,i))&&Ul(this.baseMutations,t.baseMutations,(e,i)=>gv(e,i))}}class sg{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){rn(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return t2}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new sg(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si,He;function g2(n){switch(n){case wt.OK:return he(64938);case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0;default:return he(15467,{code:n})}}function _T(n){if(n===void 0)return No("GRPC error has no .code"),wt.UNKNOWN;switch(n){case si.OK:return wt.OK;case si.CANCELLED:return wt.CANCELLED;case si.UNKNOWN:return wt.UNKNOWN;case si.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case si.INTERNAL:return wt.INTERNAL;case si.UNAVAILABLE:return wt.UNAVAILABLE;case si.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case si.NOT_FOUND:return wt.NOT_FOUND;case si.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case si.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case si.ABORTED:return wt.ABORTED;case si.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case si.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case si.DATA_LOSS:return wt.DATA_LOSS;default:return he(39323,{code:n})}}(He=si||(si={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new ga([4294967295,4294967295],0);function vv(n){const t=zb().encode(n),e=new Ab;return e.update(t),new Uint8Array(e.digest())}function wv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new ga([e,i],0),new ga([s,r],0)]}class rg{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ec(`Invalid padding: ${e}`);if(i<0)throw new Ec(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=ga.fromNumber(this.pe)}we(t,e,i){let s=t.add(e.multiply(ga.fromNumber(i)));return s.compare(_2)===1&&(s=new ga([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=vv(t),[i,s]=wv(e);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.Se(a))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new rg(r,s,e);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.pe===0)return;const e=vv(t),[i,s]=wv(e);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.be(a)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,e,i,s,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,wu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Gd(ve.min(),s,new zn(Me),Vo(),Oe())}}class wu{constructor(t,e,i,s,r){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new wu(i,e,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e,i,s){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=s}}class yT{constructor(t,e){this.targetId=t,this.Ce=e}}class vT{constructor(t,e,i=Bi.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class bv{constructor(){this.Fe=0,this.Me=Tv(),this.xe=Bi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Oe(),e=Oe(),i=Oe();return this.Me.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:he(38017,{changeType:r})}}),new wu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=Tv()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,rn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class y2{constructor(t){this.ze=t,this.je=new Map,this.He=Vo(),this.Je=hh(),this.Ye=hh(),this.Ze=new zn(Me)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:he(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,i=t.Ce.count,s=this._t(e);if(s){const r=s.target;if(Yp(r))if(i===0){const a=new se(r.path);this.tt(e,a,Ji.newNoDocument(a,ve.min()))}else rn(i===1,20013,{expectedCount:i});else{const a=this.ut(e);if(a!==i){const l=this.ct(t),c=l?this.lt(l,t,a):1;if(c!==0){this.st(e);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,h)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=e;let a,l;try{a=Ta(i).toUint8Array()}catch(c){if(c instanceof Hb)return Wl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new rg(a,s,r)}catch(c){return Wl(c instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(l)||(this.tt(e,r,null),s++)}),s}It(t){const e=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&Yp(l.target)){const c=new se(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Ji.newNoDocument(c,t))}r.Le&&(e.set(a,r.qe()),r.Qe())}});let i=Oe();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(t));const s=new Gd(t,e,this.Ze,this.He,i);return this.He=Vo(),this.Je=hh(),this.Ye=hh(),this.Ze=new zn(Me),s}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new bv,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new gi(Me),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new gi(Me),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||jt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new bv),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function hh(){return new zn(se.comparator)}function Tv(){return new zn(se.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b2={and:"AND",or:"OR"};class T2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Gp(n,t){return n.useProto3Json||Ud(t)?t:{value:t}}function dd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function x2(n,t){return dd(n,t.toTimestamp())}function Ur(n){return rn(!!n,49232),ve.fromTimestamp(function(e){const i=ba(e);return new mi(i.seconds,i.nanos)}(n))}function og(n,t){return Zp(n,t).canonicalString()}function Zp(n,t){const e=function(s){return new bn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function bT(n){const t=bn.fromString(n);return rn(kT(t),10190,{key:t.toString()}),t}function Kp(n,t){return og(n.databaseId,t.path)}function ep(n,t){const e=bT(t);if(e.get(1)!==n.databaseId.projectId)throw new Kt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Kt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new se(xT(e))}function TT(n,t){return og(n.databaseId,t)}function S2(n){const t=bT(n);return t.length===4?bn.emptyPath():xT(t)}function Xp(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xT(n){return rn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xv(n,t,e){return{name:Kp(n,t),fields:e.value.mapValue.fields}}function E2(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:he(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(h,g){return h.useProto3Json?(rn(g===void 0||typeof g=="string",58123),Bi.fromBase64String(g||"")):(rn(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Bi.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(h){const g=h.code===void 0?wt.UNKNOWN:_T(h.code);return new Kt(g,h.message||"")}(a);e=new vT(i,s,r,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=ep(n,i.document.name),r=Ur(i.document.updateTime),a=i.document.createTime?Ur(i.document.createTime):ve.min(),l=new er({mapValue:{fields:i.document.fields}}),c=Ji.newFoundDocument(s,r,a,l),h=i.targetIds||[],g=i.removedTargetIds||[];e=new Oh(h,g,c.key,c)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=ep(n,i.document),r=i.readTime?Ur(i.readTime):ve.min(),a=Ji.newNoDocument(s,r),l=i.removedTargetIds||[];e=new Oh([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=ep(n,i.document),r=i.removedTargetIds||[];e=new Oh([],r,s,null)}else{if(!("filter"in t))return he(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new m2(s,r),l=i.targetId;e=new yT(l,a)}}return e}function k2(n,t){let e;if(t instanceof vu)e={update:xv(n,t.key,t.value)};else if(t instanceof gT)e={delete:Kp(n,t.key)};else if(t instanceof al)e={update:xv(n,t.key,t.data),updateMask:L2(t.fieldMask)};else{if(!(t instanceof d2))return he(16599,{ft:t.type});e={verify:Kp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof ru)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ou)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof au)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof hd)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw he(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:x2(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:he(27497)}(n,t.precondition)),e}function P2(n,t){return n&&n.length>0?(rn(t!==void 0,14353),n.map(e=>function(s,r){let a=s.updateTime?Ur(s.updateTime):Ur(r);return a.isEqual(ve.min())&&(a=Ur(r)),new c2(a,s.transformResults||[])}(e,t))):[]}function I2(n,t){return{documents:[TT(n,t.path)]}}function C2(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=TT(n,s);const r=function(h){if(h.length!==0)return ET(Tr.create(h,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(g=>function(x){return{field:Sl(x.field),direction:D2(x.dir)}}(g))}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=Gp(n,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{gt:e,parent:s}}function M2(n){let t=S2(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){rn(i===1,65062);const g=e.from[0];g.allDescendants?s=g.collectionId:t=t.child(g.collectionId)}let r=[];e.where&&(r=function(w){const x=ST(w);return x instanceof Tr&&Jb(x)?x.getFilters():[x]}(e.where));let a=[];e.orderBy&&(a=function(w){return w.map(x=>function(P){return new ud(El(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(e.orderBy));let l=null;e.limit&&(l=function(w){let x;return x=typeof w=="object"?w.value:w,Ud(x)?null:x}(e.limit));let c=null;e.startAt&&(c=function(w){const x=!!w.before,C=w.values||[];return new cd(C,x)}(e.startAt));let h=null;return e.endAt&&(h=function(w){const x=!w.before,C=w.values||[];return new cd(C,x)}(e.endAt)),ZN(t,s,a,r,l,"F",c,h)}function A2(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ST(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=El(e.unaryFilter.field);return ri.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=El(e.unaryFilter.field);return ri.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=El(e.unaryFilter.field);return ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=El(e.unaryFilter.field);return ri.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(n):n.fieldFilter!==void 0?function(e){return ri.create(El(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Tr.create(e.compositeFilter.filters.map(i=>ST(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(e.compositeFilter.op))}(n):he(30097,{filter:n})}function D2(n){return v2[n]}function R2(n){return w2[n]}function O2(n){return b2[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function El(n){return zi.fromServerFormat(n.fieldPath)}function ET(n){return n instanceof ri?function(e){if(e.op==="=="){if(uv(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NAN"}};if(cv(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(uv(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NOT_NAN"}};if(cv(e.value))return{unaryFilter:{field:Sl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(e.field),op:R2(e.op),value:e.value}}}(n):n instanceof Tr?function(e){const i=e.getFilters().map(s=>ET(s));return i.length===1?i[0]:{compositeFilter:{op:O2(e.op),filters:i}}}(n):he(54877,{filter:n})}function L2(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function kT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,e,i,s,r=ve.min(),a=ve.min(),l=Bi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new ua(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.wt=t}}function V2(n){const t=M2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.Cn=new z2}addToCollectionParentIndex(t,e){return this.Cn.add(e),vt.resolve()}getCollectionParents(t,e){return vt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return vt.resolve()}deleteFieldIndex(t,e){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,e){return vt.resolve()}getDocumentsMatchingTarget(t,e){return vt.resolve(null)}getIndexType(t,e){return vt.resolve(0)}getFieldIndexes(t,e){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,e){return vt.resolve(wa.min())}getMinOffsetFromCollectionGroup(t,e){return vt.resolve(wa.min())}updateCollectionGroup(t,e,i){return vt.resolve()}updateIndexEntries(t,e){return vt.resolve()}}class z2{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new gi(bn.comparator),r=!s.has(i);return this.index[e]=s.add(i),r}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new gi(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class Is{static withCacheSize(t){return new Is(t,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(PT,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Yl(0)}static lr(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",B2=1048576;function kv([n,t],[e,i]){const s=Me(n,e);return s===0?Me(t,i):s}class W2{constructor(t){this.Er=t,this.buffer=new gi(kv),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();kv(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class U2{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){jt(Ev,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ec(e)?jt(Ev,"Ignoring IndexedDB error during garbage collection: ",e):await tc(e)}await this.mr(3e5)})}}class H2{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return vt.resolve(Wd.le);const i=new W2(e);return this.gr.forEachTarget(t,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(t,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(Sv)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,s,r,a,l,c,h;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,a=Date.now(),this.nthSequenceNumber(t,s))).next(w=>(i=w,l=Date.now(),this.removeTargets(t,i,e))).next(w=>(r=w,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(w=>(h=Date.now(),Tl()<=Re.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-g}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${w} documents in `+(h-c)+`ms
Total Duration: ${h-g}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:w})))}}function j2(n,t){return new H2(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.changes=new ol(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ji.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?vt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&zc(i.mutation,s,_r.empty(),mi.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Oe()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Oe()){const s=Ha();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(r=>{let a=Sc();return r.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=Ha();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Oe()))}populateOverlays(t,e,i){const s=[];return i.forEach(r=>{e.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,l)=>{e.set(a,l)})})}computeViews(t,e,i,s){let r=Vo();const a=Fc(),l=function(){return Fc()}();return e.forEach((c,h)=>{const g=i.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof al)?r=r.insert(h.key,h):g!==void 0?(a.set(h.key,g.mutation.getFieldMask()),zc(g.mutation,h,g.mutation.getFieldMask(),mi.now())):a.set(h.key,_r.empty())}),this.recalculateAndSaveOverlays(t,r).next(c=>(c.forEach((h,g)=>a.set(h,g)),e.forEach((h,g)=>{var w;return l.set(h,new $2(g,(w=a.get(h))!==null&&w!==void 0?w:null))}),l))}recalculateAndSaveOverlays(t,e){const i=Fc();let s=new zn((a,l)=>a-l),r=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=e.get(c);if(h===null)return;let g=i.get(c)||_r.empty();g=l.applyToLocalView(h,g),i.set(c,g);const w=(s.get(l.batchId)||Oe()).add(c);s=s.insert(l.batchId,w)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,g=c.value,w=lT();g.forEach(x=>{if(!r.has(x)){const C=pT(e.get(x),i.get(x));C!==null&&w.set(x,C),r=r.add(x)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,w))}return vt.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(a){return se.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):iT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-r.size):vt.resolve(Ha());let l=eu,c=r;return a.next(h=>vt.forEach(h,(g,w)=>(l<w.largestBatchId&&(l=w.largestBatchId),r.get(g)?vt.resolve():this.remoteDocumentCache.getEntry(t,g).next(x=>{c=c.insert(g,x)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,c,h,Oe())).next(g=>({batchId:l,changes:aT(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new se(e)).next(i=>{let s=Sc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const r=e.collectionGroup;let a=Sc();return this.indexManager.getCollectionParents(t,r).next(l=>vt.forEach(l,c=>{const h=function(w,x){return new yu(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(e,c.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,s).next(g=>{g.forEach((w,x)=>{a=a.insert(w,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r,s))).next(a=>{r.forEach((c,h)=>{const g=h.getKey();a.get(g)===null&&(a=a.insert(g,Ji.newInvalidDocument(g)))});let l=Sc();return a.forEach((c,h)=>{const g=r.get(c);g!==void 0&&zc(g.mutation,h,_r.empty(),mi.now()),Yd(e,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return vt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Ur(s.createTime)}}(e)),vt.resolve()}getNamedQuery(t,e){return vt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(s){return{name:s.name,query:V2(s.bundledQuery),readTime:Ur(s.readTime)}}(e)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.overlays=new zn(se.comparator),this.Qr=new Map}getOverlay(t,e){return vt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ha();return vt.forEach(e,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,r)=>{this.bt(t,e,r)}),vt.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),vt.resolve()}getOverlaysForCollection(t,e,i){const s=Ha(),r=e.length+1,a=new se(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!e.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return vt.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let r=new zn((h,g)=>h-g);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===e&&h.largestBatchId>i){let g=r.get(h.largestBatchId);g===null&&(g=Ha(),r=r.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const l=Ha(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,g)=>l.set(h,g)),!(l.size()>=s)););return vt.resolve(l)}bt(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new p2(e,i));let r=this.Qr.get(e);r===void 0&&(r=Oe(),this.Qr.set(e,r)),this.Qr.set(e,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.sessionToken=Bi.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.$r=new gi(Ci.Ur),this.Kr=new gi(Ci.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new Ci(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new Ci(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new se(new bn([])),i=new Ci(e,t),s=new Ci(e,t+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new se(new bn([])),i=new Ci(e,t),s=new Ci(e,t+1);let r=Oe();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const e=new Ci(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ci{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return se.comparator(t.key,e.key)||Me(t.Zr,e.Zr)}static Wr(t,e){return Me(t.Zr,e.Zr)||se.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new gi(Ci.Ur)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new f2(r,e,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new Ci(l.key,r)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return vt.resolve(a)}lookupMutationBatch(t,e){return vt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.ti(i),r=s<0?0:s;return vt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?Xm:this.nr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ci(e,0),s=new Ci(e,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),vt.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new gi(Me);return e.forEach(s=>{const r=new Ci(s,0),a=new Ci(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),vt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let r=i;se.isDocumentKey(r)||(r=r.child(""));const a=new Ci(new se(r),0);let l=new gi(Me);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Zr)),!0)},a),vt.resolve(this.ni(l))}ni(t){const e=[];return t.forEach(i=>{const s=this.ei(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){rn(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return vt.forEach(e.mutations,s=>{const r=new Ci(s.key,e.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new Ci(e,0),s=this.Xr.firstAfterOrEqual(i);return vt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.ii=t,this.docs=function(){return new zn(se.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return vt.resolve(i?i.document.mutableCopy():Ji.newInvalidDocument(e))}getEntries(t,e){let i=Vo();return e.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ji.newInvalidDocument(s))}),vt.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let r=Vo();const a=e.path,l=new se(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:g}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||PN(kN(g),i)<=0||(s.has(g.key)||Yd(e,g))&&(r=r.insert(g.key,g.mutableCopy()))}return vt.resolve(r)}getAllFromCollectionGroup(t,e,i,s){he(9500)}si(t,e){return vt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new J2(this)}getSize(t){return vt.resolve(this.size)}}class J2 extends Y2{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Br.addEntry(t,s)):this.Br.removeEntry(i)}),vt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t){this.persistence=t,this.oi=new ol(e=>tg(e),eg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this._i=0,this.ai=new ag,this.targetCount=0,this.ui=Yl.cr()}forEachTarget(t,e){return this.oi.forEach((i,s)=>e(s)),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),vt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Yl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,vt.resolve()}updateTargetData(t,e){return this.Tr(e),vt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,e,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=e&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),vt.waitFor(r).next(()=>s)}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return vt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),vt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const s=this.persistence.referenceDelegate,r=[];return s&&e.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),vt.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),vt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return vt.resolve(i)}containsKey(t,e){return vt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,e){this.ci={},this.overlays={},this.li=new Wd(0),this.hi=!1,this.hi=!0,this.Pi=new K2,this.referenceDelegate=t(this),this.Ti=new tV(this),this.indexManager=new F2,this.remoteDocumentCache=function(s){return new Q2(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new N2(e),this.Ei=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Z2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new X2(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){jt("MemoryPersistence","Starting transaction:",t);const s=new eV(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(t,e){return vt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class eV extends CN{constructor(t){super(),this.currentSequenceNumber=t}}class lg{constructor(t){this.persistence=t,this.Vi=new ag,this.mi=null}static fi(t){return new lg(t)}get gi(){if(this.mi)return this.mi;throw he(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),vt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),vt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),vt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.gi,i=>{const s=se.fromPath(i);return this.pi(t,s).next(r=>{r||e.removeEntry(s,ve.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return vt.or([()=>vt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class fd{constructor(t,e){this.persistence=t,this.yi=new ol(i=>DN(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=j2(this,e)}static fi(t,e){return new fd(t,e)}di(){}Ai(t){return vt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Sr(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return vt.forEach(this.yi,(i,s)=>this.Dr(t,i,s).next(r=>r?vt.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(t,a=>this.Dr(t,a,e).next(l=>{l||(i++,r.removeEntry(a,ve.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),vt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),vt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),vt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ah(t.data.value)),e}Dr(t,e,i){return vt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.yi.get(e);return vt.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.ds=i,this.As=s}static Rs(t,e){let i=Oe(),s=Oe();for(const r of e.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new cg(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QO()?8:MN(is())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,s){const r={result:null};return this.ws(t,e).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.Ss(t,e,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new nV;return this.bs(t,e,a).next(l=>{if(r.result=l,this.fs)return this.Ds(t,e,a,l.size)})}).next(()=>r.result)}Ds(t,e,i,s){return i.documentReadCount<this.gs?(Tl()<=Re.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",xl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),vt.resolve()):(Tl()<=Re.DEBUG&&jt("QueryEngine","Query:",xl(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Tl()<=Re.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",xl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wr(e))):vt.resolve())}ws(t,e){if(pv(e))return vt.resolve(null);let i=Wr(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=qp(e,null,"F"),i=Wr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=Oe(...r);return this.ys.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(c=>{const h=this.vs(e,l);return this.Cs(e,h,a,c.readTime)?this.ws(t,qp(e,null,"F")):this.Fs(t,h,e,c)}))})))}Ss(t,e,i,s){return pv(e)||s.isEqual(ve.min())?vt.resolve(null):this.ys.getDocuments(t,i).next(r=>{const a=this.vs(e,r);return this.Cs(e,a,i,s)?vt.resolve(null):(Tl()<=Re.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xl(e)),this.Fs(t,a,e,EN(s,eu)).next(l=>l))})}vs(t,e){let i=new gi(rT(t));return e.forEach((s,r)=>{Yd(t,r)&&(i=i.add(r))}),i}Cs(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const r=t.limitType==="F"?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}bs(t,e,i){return Tl()<=Re.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",xl(e)),this.ys.getDocumentsMatchingQuery(t,e,wa.min(),i)}Fs(t,e,i,s){return this.ys.getDocumentsMatchingQuery(t,i,s).next(r=>(e.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LocalStore",sV=3e8;class rV{constructor(t,e,i,s){this.persistence=t,this.Ms=e,this.serializer=s,this.xs=new zn(Me),this.Os=new ol(r=>tg(r),eg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new q2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function oV(n,t,e,i){return new rV(n,t,e,i)}async function CT(n,t){const e=be(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let c=Oe();for(const h of s){a.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}for(const h of r){l.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}return e.localDocuments.getDocuments(i,c).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function aV(n,t){const e=be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=e.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,g){const w=h.batch,x=w.keys();let C=vt.resolve();return x.forEach(P=>{C=C.next(()=>g.getEntry(c,P)).next(A=>{const V=h.docVersions.get(P);rn(V!==null,48541),A.version.compareTo(V)<0&&(w.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),g.addEntry(A)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(c,w))}(e,i,t,r).next(()=>r.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=Oe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function MT(n){const t=be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function lV(n,t){const e=be(n),i=t.snapshotVersion;let s=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=e.Bs.newChangeBuffer({trackRemovals:!0});s=e.xs;const l=[];t.targetChanges.forEach((g,w)=>{const x=s.get(w);if(!x)return;l.push(e.Ti.removeMatchingKeys(r,g.removedDocuments,w).next(()=>e.Ti.addMatchingKeys(r,g.addedDocuments,w)));let C=x.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(w)!==null?C=C.withResumeToken(Bi.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,i)),s=s.insert(w,C),function(A,V,j){return A.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=sV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(x,C,g)&&l.push(e.Ti.updateTargetData(r,C))});let c=Vo(),h=Oe();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(r,g))}),l.push(cV(r,a,t.documentUpdates).next(g=>{c=g.qs,h=g.Qs})),!i.isEqual(ve.min())){const g=e.Ti.getLastRemoteSnapshotVersion(r).next(w=>e.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(g)}return vt.waitFor(l).next(()=>a.apply(r)).next(()=>e.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(e.xs=s,r))}function cV(n,t,e){let i=Oe(),s=Oe();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let a=Vo();return e.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ve.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):jt(ug,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function uV(n,t){const e=be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Xm),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function hV(n,t){const e=be(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Ti.getTargetData(i,t).next(r=>r?(s=r,vt.resolve(s)):e.Ti.allocateTargetId(i).next(a=>(s=new ua(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function Qp(n,t,e){const i=be(n),s=i.xs.get(t),r=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ec(a))throw a;jt(ug,`Failed to update sequence numbers for target ${t}: ${a}`)}i.xs=i.xs.remove(t),i.Os.delete(s.target)}function Pv(n,t,e){const i=be(n);let s=ve.min(),r=Oe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,g){const w=be(c),x=w.Os.get(g);return x!==void 0?vt.resolve(w.xs.get(x)):w.Ti.getTargetData(h,g)}(i,a,Wr(t)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{r=c})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,t,e?s:ve.min(),e?r:Oe())).next(l=>(dV(i,XN(t),l),{documents:l,$s:r})))}function dV(n,t,e){let i=n.Ns.get(t)||ve.min();e.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Ns.set(t,i)}class Iv{constructor(){this.activeTargetIds=i2()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fV{constructor(){this.xo=new Iv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Iv,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Mv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){jt(Cv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){jt(Cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Jp(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",mV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gV{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===ad?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(t,e,i,s,r){const a=Jp(),l=this.jo(t,e.toUriEncodedString());jt(np,`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,r);const{host:h}=new URL(l),g=mu(h);return this.Jo(t,l,c,i,g).then(w=>(jt(np,`Received RPC '${t}' ${a}: `,w),w),w=>{throw Wl(np,`RPC '${t}' ${a} failed with error: `,w,"url: ",l,"request:",i),w})}Yo(t,e,i,s,r,a){return this.zo(t,e,i,s,r)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}jo(t,e){const i=mV[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="WebChannelConnection";class yV extends gV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,s,r){const a=Jp();return new Promise((l,c)=>{const h=new Db;h.setWithCredentials(!0),h.listenOnce(Rb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mh.NO_ERROR:const w=h.getResponseJson();jt(Ki,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(w)),l(w);break;case Mh.TIMEOUT:jt(Ki,`RPC '${t}' ${a} timed out`),c(new Kt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const x=h.getStatus();if(jt(Ki,`RPC '${t}' ${a} failed with status:`,x,"response text:",h.getResponseText()),x>0){let C=h.getResponseJson();Array.isArray(C)&&(C=C[0]);const P=C==null?void 0:C.error;if(P&&P.status&&P.message){const A=function(j){const K=j.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(K)>=0?K:wt.UNKNOWN}(P.status);c(new Kt(A,P.message))}else c(new Kt(wt.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Kt(wt.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{jt(Ki,`RPC '${t}' ${a} completed.`)}});const g=JSON.stringify(s);jt(Ki,`RPC '${t}' ${a} sending request:`,s),h.send(e,"POST",g,i,15)})}T_(t,e,i){const s=Jp(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Nb(),l=Lb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const g=r.join("");jt(Ki,`Creating RPC '${t}' stream ${s}: ${g}`,c);const w=a.createWebChannel(g,c);let x=!1,C=!1;const P=new _V({Zo:V=>{C?jt(Ki,`Not sending because RPC '${t}' stream ${s} is closed:`,V):(x||(jt(Ki,`Opening RPC '${t}' stream ${s} transport.`),w.open(),x=!0),jt(Ki,`RPC '${t}' stream ${s} sending:`,V),w.send(V))},Xo:()=>w.close()}),A=(V,j,K)=>{V.listen(j,Q=>{try{K(Q)}catch(it){setTimeout(()=>{throw it},0)}})};return A(w,xc.EventType.OPEN,()=>{C||(jt(Ki,`RPC '${t}' stream ${s} transport opened.`),P.__())}),A(w,xc.EventType.CLOSE,()=>{C||(C=!0,jt(Ki,`RPC '${t}' stream ${s} transport closed`),P.u_())}),A(w,xc.EventType.ERROR,V=>{C||(C=!0,Wl(Ki,`RPC '${t}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),P.u_(new Kt(wt.UNAVAILABLE,"The operation could not be completed")))}),A(w,xc.EventType.MESSAGE,V=>{var j;if(!C){const K=V.data[0];rn(!!K,16349);const Q=K,it=(Q==null?void 0:Q.error)||((j=Q[0])===null||j===void 0?void 0:j.error);if(it){jt(Ki,`RPC '${t}' stream ${s} received error:`,it);const rt=it.status;let ft=function(z){const H=si[z];if(H!==void 0)return _T(H)}(rt),y=it.message;ft===void 0&&(ft=wt.INTERNAL,y="Unknown error status: "+rt+" with message "+it.message),C=!0,P.u_(new Kt(ft,y)),w.close()}else jt(Ki,`RPC '${t}' stream ${s} received:`,K),P.c_(K)}}),A(l,Ob.STAT_EVENT,V=>{V.stat===Bp.PROXY?jt(Ki,`RPC '${t}' stream ${s} detected buffering proxy`):V.stat===Bp.NOPROXY&&jt(Ki,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new T2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,e,i=1e3,s=1.5,r=6e4){this.xi=t,this.timerId=e,this.I_=i,this.E_=s,this.d_=r,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),s=Math.max(0,e-i);s>0&&jt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="PersistentStream";class DT{constructor(t,e,i,s,r,a,l,c){this.xi=t,this.y_=i,this.w_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new AT(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===wt.RESOURCE_EXHAUSTED?(No(e.toString()),No("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.S_===e&&this.K_(i,s)},i=>{t(()=>{const s=new Kt(wt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(s)})})}K_(t,e){const i=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.W_(s))}),this.stream.onMessage(s=>{i(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return jt(Av,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(jt(Av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vV extends DT{constructor(t,e,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,a),this.serializer=r}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=E2(this.serializer,t),i=function(r){if(!("targetChange"in r))return ve.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Ur(a.readTime):ve.min()}(t);return this.listener.j_(e,i)}H_(t){const e={};e.database=Xp(this.serializer),e.addTarget=function(r,a){let l;const c=a.target;if(l=Yp(c)?{documents:I2(r,c)}:{query:C2(r,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=wT(r,a.resumeToken);const h=Gp(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ve.min())>0){l.readTime=dd(r,a.snapshotVersion.toTimestamp());const h=Gp(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,t);const i=A2(this.serializer,t);i&&(e.labels=i),this.L_(e)}J_(t){const e={};e.database=Xp(this.serializer),e.removeTarget=t,this.L_(e)}}class wV extends DT{constructor(t,e,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,a),this.serializer=r}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return rn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,rn(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){rn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=P2(t.writeResults,t.commitTime),i=Ur(t.commitTime);return this.listener.ea(i,e)}ta(){const t={};t.database=Xp(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>k2(this.serializer,i))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{}class TV extends bV{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Kt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(t,Zp(e,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Kt(wt.UNKNOWN,r.toString())})}Yo(t,e,i,s,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(t,Zp(e,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Kt(wt.UNKNOWN,a.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class xV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(No(e),this.oa=!1):jt("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class SV{constructor(t,e,i,s,r){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=r,this.Ea.No(a=>{i.enqueueAndForget(async()=>{ll(this)&&(jt(Qa,"Restarting streams for network reachability change."),await async function(c){const h=be(c);h.Ta.add(4),await bu(h),h.da.set("Unknown"),h.Ta.delete(4),await Kd(h)}(this))})}),this.da=new xV(i,s)}}async function Kd(n){if(ll(n))for(const t of n.Ia)await t(!0)}async function bu(n){for(const t of n.Ia)await t(!1)}function RT(n,t){const e=be(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),pg(e)?fg(e):nc(e).M_()&&dg(e,t))}function hg(n,t){const e=be(n),i=nc(e);e.Pa.delete(t),i.M_()&&OT(e,t),e.Pa.size===0&&(i.M_()?i.N_():ll(e)&&e.da.set("Unknown"))}function dg(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}nc(n).H_(t)}function OT(n,t){n.Aa.Ke(t),nc(n).J_(t)}function fg(n){n.Aa=new y2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),nc(n).start(),n.da._a()}function pg(n){return ll(n)&&!nc(n).F_()&&n.Pa.size>0}function ll(n){return be(n).Ta.size===0}function LT(n){n.Aa=void 0}async function EV(n){n.da.set("Online")}async function kV(n){n.Pa.forEach((t,e)=>{dg(n,t)})}async function PV(n,t){LT(n),pg(n)?(n.da.ca(t),fg(n)):n.da.set("Unknown")}async function IV(n,t,e){if(n.da.set("Online"),t instanceof vT&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Pa.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Pa.delete(l),s.Aa.removeTarget(l))}(n,t)}catch(i){jt(Qa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await pd(n,i)}else if(t instanceof Oh?n.Aa.Xe(t):t instanceof yT?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(ve.min()))try{const i=await MT(n.localStore);e.compareTo(i)>=0&&await function(r,a){const l=r.Aa.It(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const g=r.Pa.get(h);g&&r.Pa.set(h,g.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const g=r.Pa.get(c);if(!g)return;r.Pa.set(c,g.withResumeToken(Bi.EMPTY_BYTE_STRING,g.snapshotVersion)),OT(r,c);const w=new ua(g.target,c,h,g.sequenceNumber);dg(r,w)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e)}catch(i){jt(Qa,"Failed to raise snapshot:",i),await pd(n,i)}}async function pd(n,t,e){if(!ec(t))throw t;n.Ta.add(1),await bu(n),n.da.set("Offline"),e||(e=()=>MT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{jt(Qa,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await Kd(n)})}function NT(n,t){return t().catch(e=>pd(n,e,t))}async function Xd(n){const t=be(n),e=Sa(t);let i=t.ha.length>0?t.ha[t.ha.length-1].batchId:Xm;for(;CV(t);)try{const s=await uV(t.localStore,i);if(s===null){t.ha.length===0&&e.N_();break}i=s.batchId,MV(t,s)}catch(s){await pd(t,s)}VT(t)&&FT(t)}function CV(n){return ll(n)&&n.ha.length<10}function MV(n,t){n.ha.push(t);const e=Sa(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function VT(n){return ll(n)&&!Sa(n).F_()&&n.ha.length>0}function FT(n){Sa(n).start()}async function AV(n){Sa(n).ta()}async function DV(n){const t=Sa(n);for(const e of n.ha)t.Z_(e.mutations)}async function RV(n,t,e){const i=n.ha.shift(),s=sg.from(i,t,e);await NT(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xd(n)}async function OV(n,t){t&&Sa(n).Y_&&await async function(i,s){if(function(a){return g2(a)&&a!==wt.ABORTED}(s.code)){const r=i.ha.shift();Sa(i).O_(),await NT(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Xd(i)}}(n,t),VT(n)&&FT(n)}async function Dv(n,t){const e=be(n);e.asyncQueue.verifyOperationInProgress(),jt(Qa,"RemoteStore received new credentials");const i=ll(e);e.Ta.add(3),await bu(e),i&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await Kd(e)}async function LV(n,t){const e=be(n);t?(e.Ta.delete(2),await Kd(e)):t||(e.Ta.add(2),await bu(e),e.da.set("Unknown"))}function nc(n){return n.Ra||(n.Ra=function(e,i,s){const r=be(e);return r.ra(),new vV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:EV.bind(null,n),n_:kV.bind(null,n),i_:PV.bind(null,n),j_:IV.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),pg(n)?fg(n):n.da.set("Unknown")):(await n.Ra.stop(),LT(n))})),n.Ra}function Sa(n){return n.Va||(n.Va=function(e,i,s){const r=be(e);return r.ra(),new wV(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AV.bind(null,n),i_:OV.bind(null,n),X_:DV.bind(null,n),ea:RV.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await Xd(n)):(await n.Va.stop(),n.ha.length>0&&(jt(Qa,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,e,i,s,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,r){const a=Date.now()+i,l=new mg(t,e,a,s,r);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(n,t){if(No("AsyncQueue",`${t}: ${n}`),ec(n))return new Kt(wt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(t){return new Rl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||se.comparator(e.key,i.key):(e,i)=>se.comparator(e.key,i.key),this.keyedMap=Sc(),this.sortedSet=new zn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Rl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.ma=new zn(se.comparator)}track(t){const e=t.doc.key,i=this.ma.get(e);i?t.type!==0&&i.type===3?this.ma=this.ma.insert(e,t):t.type===3&&i.type!==1?this.ma=this.ma.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ma=this.ma.remove(e):t.type===1&&i.type===2?this.ma=this.ma.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):he(63341,{Vt:t,fa:i}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,i)=>{t.push(i)}),t}}class $l{constructor(t,e,i,s,r,a,l,c,h){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(t,e,i,s,r){const a=[];return e.forEach(l=>{a.push({type:0,doc:l})}),new $l(t,e,Rl.emptySet(e),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class VV{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,i){const s=be(e),r=s.queries;s.queries=Ov(),r.forEach((a,l)=>{for(const c of l.ya)c.onError(i)})})(this,new Kt(wt.ABORTED,"Firestore shutting down"))}}function Ov(){return new ol(n=>sT(n),jd)}async function zT(n,t){const e=be(n);let i=3;const s=t.query;let r=e.queries.get(s);r?!r.wa()&&t.Sa()&&(i=2):(r=new NV,i=t.Sa()?0:1);try{switch(i){case 0:r.pa=await e.onListen(s,!0);break;case 1:r.pa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const l=gg(a,`Initialization of query '${xl(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,r),r.ya.push(t),t.Da(e.onlineState),r.pa&&t.va(r.pa)&&_g(e)}async function BT(n,t){const e=be(n),i=t.query;let s=3;const r=e.queries.get(i);if(r){const a=r.ya.indexOf(t);a>=0&&(r.ya.splice(a,1),r.ya.length===0?s=t.Sa()?0:1:!r.wa()&&t.Sa()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function FV(n,t){const e=be(n);let i=!1;for(const s of t){const r=s.query,a=e.queries.get(r);if(a){for(const l of a.ya)l.va(s)&&(i=!0);a.pa=s}}i&&_g(e)}function zV(n,t,e){const i=be(n),s=i.queries.get(t);if(s)for(const r of s.ya)r.onError(e);i.queries.delete(t)}function _g(n){n.ba.forEach(t=>{t.next()})}var tm,Lv;(Lv=tm||(tm={})).Ca="default",Lv.Cache="cache";class WT{constructor(t,e,i){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new $l(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const i=e!=="Offline";return(!this.options.La||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=$l.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t){this.key=t}}class HT{constructor(t){this.key=t}}class BV{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Oe(),this.mutatedKeys=Oe(),this.Ha=rT(t),this.Ja=new Rl(this.Ha)}get Ya(){return this.Ga}Za(t,e){const i=e?e.Xa:new Rv,s=e?e.Ja:this.Ja;let r=e?e.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((g,w)=>{const x=s.get(g),C=Yd(this.query,w)?w:null,P=!!x&&this.mutatedKeys.has(x.key),A=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;x&&C?x.data.isEqual(C.data)?P!==A&&(i.track({type:3,doc:C}),V=!0):this.eu(x,C)||(i.track({type:2,doc:C}),V=!0,(c&&this.Ha(C,c)>0||h&&this.Ha(C,h)<0)&&(l=!0)):!x&&C?(i.track({type:0,doc:C}),V=!0):x&&!C&&(i.track({type:1,doc:x}),V=!0,(c||h)&&(l=!0)),V&&(C?(a=a.add(C),r=A?r.add(g):r.delete(g)):(a=a.delete(g),r=r.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),r=r.delete(g.key),i.track({type:1,doc:g})}return{Ja:a,Xa:i,Cs:l,mutatedKeys:r}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const r=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const a=t.Xa.ga();a.sort((g,w)=>function(C,P){const A=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:V})}};return A(C)-A(P)}(g.type,w.type)||this.Ha(g.doc,w.doc)),this.tu(i),s=s!=null&&s;const l=e&&!s?this.nu():[],c=this.ja.size===0&&this.current&&!s?1:0,h=c!==this.za;return this.za=c,a.length!==0||h?{snapshot:new $l(this.query,t.Ja,r,a,t.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:l}:{ru:l}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Oe(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const e=[];return t.forEach(i=>{this.ja.has(i)||e.push(new HT(i))}),this.ja.forEach(i=>{t.has(i)||e.push(new UT(i))}),e}su(t){this.Ga=t.$s,this.ja=Oe();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return $l.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const yg="SyncEngine";class WV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class UV{constructor(t){this.key=t,this._u=!1}}class HV{constructor(t,e,i,s,r,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.au={},this.uu=new ol(l=>sT(l),jd),this.cu=new Map,this.lu=new Set,this.hu=new zn(se.comparator),this.Pu=new Map,this.Tu=new ag,this.Iu={},this.Eu=new Map,this.du=Yl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function jV(n,t,e=!0){const i=ZT(n);let s;const r=i.uu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ou()):s=await jT(i,t,e,!0),s}async function YV(n,t){const e=ZT(n);await jT(e,t,!0,!1)}async function jT(n,t,e,i){const s=await hV(n.localStore,Wr(t)),r=s.targetId,a=n.sharedClientState.addLocalQueryTarget(r,e);let l;return i&&(l=await $V(n,t,r,a==="current",s.resumeToken)),n.isPrimaryClient&&e&&RT(n.remoteStore,s),l}async function $V(n,t,e,i,s){n.Ru=(w,x,C)=>async function(A,V,j,K){let Q=V.view.Za(j);Q.Cs&&(Q=await Pv(A.localStore,V.query,!1).then(({documents:y})=>V.view.Za(y,Q)));const it=K&&K.targetChanges.get(V.targetId),rt=K&&K.targetMismatches.get(V.targetId)!=null,ft=V.view.applyChanges(Q,A.isPrimaryClient,it,rt);return Vv(A,V.targetId,ft.ru),ft.snapshot}(n,w,x,C);const r=await Pv(n.localStore,t,!0),a=new BV(t,r.$s),l=a.Za(r.documents),c=wu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),h=a.applyChanges(l,n.isPrimaryClient,c);Vv(n,e,h.ru);const g=new WV(t,e,a);return n.uu.set(t,g),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),h.snapshot}async function qV(n,t,e){const i=be(n),s=i.uu.get(t),r=i.cu.get(s.targetId);if(r.length>1)return i.cu.set(s.targetId,r.filter(a=>!jd(a,t))),void i.uu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Qp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&hg(i.remoteStore,s.targetId),em(i,s.targetId)}).catch(tc)):(em(i,s.targetId),await Qp(i.localStore,s.targetId,!0))}async function GV(n,t){const e=be(n),i=e.uu.get(t),s=e.cu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),hg(e.remoteStore,i.targetId))}async function ZV(n,t,e){const i=nF(n);try{const s=await function(a,l){const c=be(a),h=mi.now(),g=l.reduce((C,P)=>C.add(P.key),Oe());let w,x;return c.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=Vo(),A=Oe();return c.Bs.getEntries(C,g).next(V=>{P=V,P.forEach((j,K)=>{K.isValidDocument()||(A=A.add(j))})}).next(()=>c.localDocuments.getOverlayedDocuments(C,P)).next(V=>{w=V;const j=[];for(const K of l){const Q=h2(K,w.get(K.key).overlayedDocument);Q!=null&&j.push(new al(K.key,Q,Kb(Q.value.mapValue),Do.exists(!0)))}return c.mutationQueue.addMutationBatch(C,h,j,l)}).next(V=>{x=V;const j=V.applyToLocalDocumentSet(w,A);return c.documentOverlayCache.saveOverlays(C,V.batchId,j)})}).then(()=>({batchId:x.batchId,changes:aT(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let h=a.Iu[a.currentUser.toKey()];h||(h=new zn(Me)),h=h.insert(l,c),a.Iu[a.currentUser.toKey()]=h}(i,s.batchId,e),await Tu(i,s.changes),await Xd(i.remoteStore)}catch(s){const r=gg(s,"Failed to persist write");e.reject(r)}}async function YT(n,t){const e=be(n);try{const i=await lV(e.localStore,t);t.targetChanges.forEach((s,r)=>{const a=e.Pu.get(r);a&&(rn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a._u=!0:s.modifiedDocuments.size>0?rn(a._u,14607):s.removedDocuments.size>0&&(rn(a._u,42227),a._u=!1))}),await Tu(e,i,t)}catch(i){await tc(i)}}function Nv(n,t,e){const i=be(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.uu.forEach((r,a)=>{const l=a.view.Da(t);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=be(a);c.onlineState=l;let h=!1;c.queries.forEach((g,w)=>{for(const x of w.ya)x.Da(l)&&(h=!0)}),h&&_g(c)}(i.eventManager,t),s.length&&i.au.j_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function KV(n,t,e){const i=be(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Pu.get(t),r=s&&s.key;if(r){let a=new zn(se.comparator);a=a.insert(r,Ji.newNoDocument(r,ve.min()));const l=Oe().add(r),c=new Gd(ve.min(),new Map,new zn(Me),a,l);await YT(i,c),i.hu=i.hu.remove(r),i.Pu.delete(t),vg(i)}else await Qp(i.localStore,t,!1).then(()=>em(i,t,e)).catch(tc)}async function XV(n,t){const e=be(n),i=t.batch.batchId;try{const s=await aV(e.localStore,t);qT(e,i,null),$T(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Tu(e,s)}catch(s){await tc(s)}}async function QV(n,t,e){const i=be(n);try{const s=await function(a,l){const c=be(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return c.mutationQueue.lookupMutationBatch(h,l).next(w=>(rn(w!==null,37113),g=w.keys(),c.mutationQueue.removeMutationBatch(h,w))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,g,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>c.localDocuments.getDocuments(h,g))})}(i.localStore,t);qT(i,t,e),$T(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Tu(i,s)}catch(s){await tc(s)}}function $T(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function qT(n,t,e){const i=be(n);let s=i.Iu[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(e?r.reject(e):r.resolve(),s=s.remove(t)),i.Iu[i.currentUser.toKey()]=s}}function em(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.cu.get(t))n.uu.delete(i),e&&n.au.Vu(i,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(i=>{n.Tu.containsKey(i)||GT(n,i)})}function GT(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(hg(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),vg(n))}function Vv(n,t,e){for(const i of e)i instanceof UT?(n.Tu.addReference(i.key,t),JV(n,i)):i instanceof HT?(jt(yg,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,t),n.Tu.containsKey(i.key)||GT(n,i.key)):he(19791,{mu:i})}function JV(n,t){const e=t.key,i=e.path.canonicalString();n.hu.get(e)||n.lu.has(i)||(jt(yg,"New document in limbo: "+e),n.lu.add(i),vg(n))}function vg(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new se(bn.fromString(t)),i=n.du.next();n.Pu.set(i,new UV(e)),n.hu=n.hu.insert(e,i),RT(n.remoteStore,new ua(Wr(ng(e.path)),i,"TargetPurposeLimboResolution",Wd.le))}}async function Tu(n,t,e){const i=be(n),s=[],r=[],a=[];i.uu.isEmpty()||(i.uu.forEach((l,c)=>{a.push(i.Ru(c,t,e).then(h=>{var g;if((h||e)&&i.isPrimaryClient){const w=h?!h.fromCache:(g=e==null?void 0:e.targetChanges.get(c.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(c.targetId,w?"current":"not-current")}if(h){s.push(h);const w=cg.Rs(c.targetId,h);r.push(w)}}))}),await Promise.all(a),i.au.j_(s),await async function(c,h){const g=be(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>vt.forEach(h,x=>vt.forEach(x.ds,C=>g.persistence.referenceDelegate.addReference(w,x.targetId,C)).next(()=>vt.forEach(x.As,C=>g.persistence.referenceDelegate.removeReference(w,x.targetId,C)))))}catch(w){if(!ec(w))throw w;jt(ug,"Failed to update sequence numbers: "+w)}for(const w of h){const x=w.targetId;if(!w.fromCache){const C=g.xs.get(x),P=C.snapshotVersion,A=C.withLastLimboFreeSnapshotVersion(P);g.xs=g.xs.insert(x,A)}}}(i.localStore,r))}async function tF(n,t){const e=be(n);if(!e.currentUser.isEqual(t)){jt(yg,"User change. New user:",t.toKey());const i=await CT(e.localStore,t);e.currentUser=t,function(r,a){r.Eu.forEach(l=>{l.forEach(c=>{c.reject(new Kt(wt.CANCELLED,a))})}),r.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Tu(e,i.ks)}}function eF(n,t){const e=be(n),i=e.Pu.get(t);if(i&&i._u)return Oe().add(i.key);{let s=Oe();const r=e.cu.get(t);if(!r)return s;for(const a of r){const l=e.uu.get(a);s=s.unionWith(l.view.Ya)}return s}}function ZT(n){const t=be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KV.bind(null,t),t.au.j_=FV.bind(null,t.eventManager),t.au.Vu=zV.bind(null,t.eventManager),t}function nF(n){const t=be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QV.bind(null,t),t}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Zd(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return oV(this.persistence,new iV,t.initialUser,this.serializer)}yu(t){return new IT(lg.fi,this.serializer)}pu(t){return new fV}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class iF extends md{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){rn(this.persistence.referenceDelegate instanceof fd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U2(i,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new IT(i=>fd.fi(i,e),this.serializer)}}class nm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tF.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new VV}()}createDatastore(t){const e=Zd(t.databaseInfo.databaseId),i=function(r){return new yV(r)}(t.databaseInfo);return function(r,a,l,c){return new TV(r,a,l,c)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,r,a,l){return new SV(i,s,r,a,l)}(this.localStore,this.datastore,t.asyncQueue,e=>Nv(this.syncEngine,e,0),function(){return Mv.C()?new Mv:new pV}())}createSyncEngine(t,e){return function(s,r,a,l,c,h,g){const w=new HV(s,r,a,l,c,h);return g&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const r=be(s);jt(Qa,"RemoteStore shutting down."),r.Ta.add(5),await bu(r),r.Ea.shutdown(),r.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):No("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class sF{constructor(t,e,i,s,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=Qi.UNAUTHENTICATED,this.clientId=Bb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{jt(Ea,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(jt(Ea,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=gg(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function sp(n,t){n.asyncQueue.verifyOperationInProgress(),jt(Ea,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await CT(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function Fv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await rF(n);jt(Ea,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>Dv(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Dv(t.remoteStore,s)),n._onlineComponents=t}async function rF(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){jt(Ea,"Using user provided OfflineComponentProvider");try{await sp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===wt.FAILED_PRECONDITION||s.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Wl("Error using user provided cache. Falling back to memory cache: "+e),await sp(n,new md)}}else jt(Ea,"Using default OfflineComponentProvider"),await sp(n,new iF(void 0));return n._offlineComponents}async function XT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(jt(Ea,"Using user provided OnlineComponentProvider"),await Fv(n,n._uninitializedComponentsProvider._online)):(jt(Ea,"Using default OnlineComponentProvider"),await Fv(n,new nm))),n._onlineComponents}function oF(n){return XT(n).then(t=>t.syncEngine)}async function QT(n){const t=await XT(n),e=t.eventManager;return e.onListen=jV.bind(null,t.syncEngine),e.onUnlisten=qV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=YV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=GV.bind(null,t.syncEngine),e}function aF(n,t,e={}){const i=new Ao;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const g=new KT({next:x=>{g.Cu(),a.enqueueAndForget(()=>BT(r,w));const C=x.docs.has(l);!C&&x.fromCache?h.reject(new Kt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&c&&c.source==="server"?h.reject(new Kt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),w=new WT(ng(l.path),g,{includeMetadataChanges:!0,La:!0});return zT(r,w)}(await QT(n),n.asyncQueue,t,e,i)),i.promise}function lF(n,t,e={}){const i=new Ao;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const g=new KT({next:x=>{g.Cu(),a.enqueueAndForget(()=>BT(r,w)),x.fromCache&&c.source==="server"?h.reject(new Kt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),w=new WT(l,g,{includeMetadataChanges:!0,La:!0});return zT(r,w)}(await QT(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,t,e){if(!e)throw new Kt(wt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function cF(n,t,e,i){if(t===!0&&i===!0)throw new Kt(wt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Bv(n){if(!se.isDocumentKey(n))throw new Kt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wv(n){if(se.isDocumentKey(n))throw new Kt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":he(12329,{type:typeof n})}function Ja(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Kt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Qd(n);throw new Kt(wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="firestore.googleapis.com",Uv=!0;class Hv{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Kt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ex,this.ssl=Uv}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Uv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<B2)throw new Kt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Kt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jd{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Kt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gN;switch(i.type){case"firstParty":return new wN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Kt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=zv.get(e);i&&(jt("ComponentProvider","Removing Datastore"),zv.delete(e),i.terminate())}(this),Promise.resolve()}}function uF(n,t,e,i={}){var s;n=Ja(n,Jd);const r=mu(t),a=n._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${t}:${e}`;r&&(xb(`https://${c}`),Sb("Firestore",!0)),a.host!==ex&&a.host!==c&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:r,emulatorOptions:i});if(!Za(h,l)&&(n._setSettings(h),i.mockUserToken)){let g,w;if(typeof i.mockUserToken=="string")g=i.mockUserToken,w=Qi.MOCK_USER;else{g=HO(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new Kt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Qi(x)}n._authCredentials=new _N(new Fb(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ic(this.firestore,t,this._query)}}class Ms{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ms(this.firestore,t,this._key)}}class _a extends ic{constructor(t,e,i){super(t,e,ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ms(this.firestore,null,new se(t))}withConverter(t){return new _a(this.firestore,t,this._path)}}function hF(n,t,...e){if(n=ss(n),tx("collection","path",t),n instanceof Jd){const i=bn.fromString(t,...e);return Wv(i),new _a(n,null,i)}{if(!(n instanceof Ms||n instanceof _a))throw new Kt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return Wv(i),new _a(n.firestore,null,i)}}function wg(n,t,...e){if(n=ss(n),arguments.length===1&&(t=Bb.newId()),tx("doc","path",t),n instanceof Jd){const i=bn.fromString(t,...e);return Bv(i),new Ms(n,null,new se(i))}{if(!(n instanceof Ms||n instanceof _a))throw new Kt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return Bv(i),new Ms(n.firestore,n instanceof _a?n.converter:null,new se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new AT(this,"async_queue_retry"),this.ec=()=>{const i=ip();i&&jt(jv,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=t;const e=ip();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=ip();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new Ao;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!ec(t))throw t;jt(jv,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(i=>{throw this.Ju=i,this.Yu=!1,No("INTERNAL UNHANDLED ERROR: ",$v(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=e,e}enqueueAfterDelay(t,e,i){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const s=mg.createAndSchedule(this,t,e,i,r=>this.oc(r));return this.Hu.push(s),s}nc(){this.Ju&&he(47125,{_c:$v(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function $v(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class tf extends Jd{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new Yv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function dF(n,t){const e=typeof n=="object"?n:Ib(),i=typeof n=="string"?n:ad,s=Zm(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=WO("firestore");r&&uF(s,...r)}return s}function bg(n){if(n._terminated)throw new Kt(wt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fF(n),n._firestoreClient}function fF(n){var t,e,i;const s=n._freezeSettings(),r=function(l,c,h,g){return new LN(l,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,JT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new sF(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ql(Bi.fromBase64String(t))}catch(e){throw new Kt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ql(Bi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Kt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Kt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Kt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Me(this._lat,t._lat)||Me(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=/^__.*__$/;class mF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new al(t,this.data,this.fieldMask,e,this.fieldTransforms):new vu(t,this.data,e,this.fieldTransforms)}}function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{hc:n})}}class kg{constructor(t,e,i,s,r,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Pc(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new kg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Tc({path:i,Ec:!1});return s.dc(t),s}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.Tc({path:i,Ec:!1});return s.Pc(),s}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return gd(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(nx(this.hc)&&pF.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class gF{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Zd(t)}gc(t,e,i,s=!1){return new kg({hc:t,methodName:e,fc:i,path:zi.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ix(n){const t=n._freezeSettings(),e=Zd(n._databaseId);return new gF(n._databaseId,!!t.ignoreUndefinedProperties,e)}function _F(n,t,e,i,s,r={}){const a=n.gc(r.merge||r.mergeFields?2:0,t,e,s);ox("Data must be an object, but it was:",a,i);const l=sx(i,a);let c,h;if(r.merge)c=new _r(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const g=[];for(const w of r.mergeFields){const x=vF(t,w,e);if(!a.contains(x))throw new Kt(wt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);bF(g,x)||g.push(x)}c=new _r(g),h=a.fieldTransforms.filter(w=>c.covers(w.field))}else c=null,h=a.fieldTransforms;return new mF(new er(l),c,h)}class Pg extends xg{_toFieldTransform(t){return new a2(t.path,new ru)}isEqual(t){return t instanceof Pg}}function yF(n,t,e,i=!1){return Ig(e,n.gc(i?4:3,t))}function Ig(n,t){if(rx(n=ss(n)))return ox("Unsupported field value:",t,n),sx(n,t);if(n instanceof xg)return function(i,s){if(!nx(s.hc))throw s.Vc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let c=Ig(l,s.Rc(a));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),a++}return{arrayValue:{values:r}}}(n,t)}return function(i,s){if((i=ss(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return s2(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=mi.fromDate(i);return{timestampValue:dd(s.serializer,r)}}if(i instanceof mi){const r=new mi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:dd(s.serializer,r)}}if(i instanceof Sg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ql)return{bytesValue:wT(s.serializer,i._byteString)};if(i instanceof Ms){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.Vc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:og(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Eg)return function(a,l){return{mapValue:{fields:{[Gb]:{stringValue:Zb},[ld]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Vc("VectorValues must only contain numeric values.");return ig(l.serializer,h)})}}}}}}(i,s);throw s.Vc(`Unsupported field value: ${Qd(i)}`)}(n,t)}function sx(n,t){const e={};return Ub(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rl(n,(i,s)=>{const r=Ig(s,t.Ic(i));r!=null&&(e[i]=r)}),{mapValue:{fields:e}}}function rx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mi||n instanceof Sg||n instanceof ql||n instanceof Ms||n instanceof xg||n instanceof Eg)}function ox(n,t,e){if(!rx(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=Qd(e);throw i==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+i)}}function vF(n,t,e){if((t=ss(t))instanceof Tg)return t._internalPath;if(typeof t=="string")return ax(n,t);throw gd("Field path arguments must be of type string or ",n,!1,void 0,e)}const wF=new RegExp("[~\\*/\\[\\]]");function ax(n,t,e){if(t.search(wF)>=0)throw gd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Tg(...t.split("."))._internalPath}catch{throw gd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function gd(n,t,e,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||a)&&(c+=" (found",r&&(c+=` in field ${i}`),a&&(c+=` in document ${s}`),c+=")"),new Kt(wt.INVALID_ARGUMENT,l+n+c)}function bF(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,e,i,s,r){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Cg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class TF extends lx{data(){return super.data()}}function Cg(n,t){return typeof t=="string"?ax(n,t):t instanceof Tg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Kt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class SF extends Mg{}function EF(n,t,...e){let i=[];t instanceof Mg&&i.push(t),i=i.concat(e),function(r){const a=r.filter(c=>c instanceof Ag).length,l=r.filter(c=>c instanceof ef).length;if(a>1||a>0&&l>0)throw new Kt(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class ef extends SF{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ef(t,e,i)}_apply(t){const e=this._parse(t);return cx(t._query,e),new ic(t.firestore,t.converter,$p(t._query,e))}_parse(t){const e=ix(t.firestore);return function(r,a,l,c,h,g,w){let x;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Kt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Gv(w,g);const P=[];for(const A of w)P.push(qv(c,r,A));x={arrayValue:{values:P}}}else x=qv(c,r,w)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Gv(w,g),x=yF(l,a,w,g==="in"||g==="not-in");return ri.create(h,g,x)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function kF(n,t,e){const i=t,s=Cg("where",n);return ef._create(s,i,e)}class Ag extends Mg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ag(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Tr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const c of l)cx(a,c),a=$p(a,c)}(t._query,e),new ic(t.firestore,t.converter,$p(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function qv(n,t,e){if(typeof(e=ss(e))=="string"){if(e==="")throw new Kt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iT(t)&&e.indexOf("/")!==-1)throw new Kt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(bn.fromString(e));if(!se.isDocumentKey(i))throw new Kt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lv(n,new se(i))}if(e instanceof Ms)return lv(n,e._key);throw new Kt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(e)}.`)}function Gv(n,t){if(!Array.isArray(n)||n.length===0)throw new Kt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cx(n,t){const e=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Kt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Kt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class PF{convertValue(t,e="none"){switch(xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ta(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw he(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return rl(t,(s,r)=>{i[s]=this.convertValue(r,e)}),i}convertVectorValue(t){var e,i,s;const r=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[ld].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Kn(a.doubleValue));return new Eg(r)}convertGeoPoint(t){return new Sg(Kn(t.latitude),Kn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Hd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const e=ba(t);return new mi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=bn.fromString(t);rn(kT(i),9688,{name:t});const s=new iu(i.get(1),i.get(3)),r=new se(i.popFirst(5));return s.isEqual(e)||No(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ux extends lx{constructor(t,e,i,s,r,a){super(t,e,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Cg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Lh extends ux{data(t={}){return super.data(t)}}class CF{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new kc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Lh(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Kt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Lh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new kc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new Lh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new kc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:MF(l.type),doc:c,oldIndex:h,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){n=Ja(n,Ms);const t=Ja(n.firestore,tf);return aF(bg(t),n._key).then(e=>OF(t,n,e))}class dx extends PF{constructor(t){super(),this.firestore=t}convertBytes(t){return new ql(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ms(this.firestore,null,e)}}function AF(n){n=Ja(n,ic);const t=Ja(n.firestore,tf),e=bg(t),i=new dx(t);return xF(n._query),lF(e,n._query).then(s=>new CF(t,i,n,s))}function DF(n,t,e){n=Ja(n,Ms);const i=Ja(n.firestore,tf),s=IF(n.converter,t);return RF(i,[_F(ix(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Do.none())])}function RF(n,t){return function(i,s){const r=new Ao;return i.asyncQueue.enqueueAndForget(async()=>ZV(await oF(i),s,r)),r.promise}(bg(n),t)}function OF(n,t,e){const i=e.docs.get(t._key),s=new dx(n);return new ux(n,s,t._key,i,new kc(e.hasPendingWrites,e.fromCache),t.converter)}function LF(){return new Pg("serverTimestamp")}(function(t,e=!0){(function(s){Jl=s})(Ql),Bl(new Ka("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new tf(new yN(i.getProvider("auth-internal")),new bN(a,i.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Kt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(h.options.projectId,g)}(a,s),a);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),ma(Ky,Xy,t),ma(Ky,Xy,"esm2017")})();function Dg(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NF=fx,px=new gu("auth","Firebase",fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new qm("@firebase/auth");function VF(n,...t){_d.logLevel<=Re.WARN&&_d.warn(`Auth (${Ql}): ${n}`,...t)}function Nh(n,...t){_d.logLevel<=Re.ERROR&&_d.error(`Auth (${Ql}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,...t){throw Rg(n,...t)}function Hr(n,...t){return Rg(n,...t)}function mx(n,t,e){const i=Object.assign(Object.assign({},NF()),{[t]:e});return new gu("auth","Firebase",i).create(t,{appName:n.name})}function Ro(n){return mx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return px.create(n,...t)}function ue(n,t,...e){if(!n)throw Rg(t,...e)}function Po(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Nh(t),new Error(t)}function Fo(n,t){n||Po(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function FF(){return Zv()==="http:"||Zv()==="https:"}function Zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FF()||ZO()||"connection"in navigator)?navigator.onLine:!0}function BF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Fo(e>t,"Short delay should be less than long delay!"),this.isMobile=$O()||KO()}get(){return zF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n,t){Fo(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Po("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Po("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Po("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HF=new xu(3e4,6e4);function Ho(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Zr(n,t,e,i,s={}){return _x(n,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const l=_u(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:t,headers:c},r);return GO()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&mu(n.emulatorConfig.host)&&(h.credentials="include"),gx.fetch()(await yx(n,n.config.apiHost,e,l),h)})}async function _x(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},WF),t);try{const s=new YF(n),r=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw fh(n,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw fh(n,"user-disabled",a);const g=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw mx(n,g,h);xr(n,g)}}catch(s){if(s instanceof Uo)throw s;xr(n,"network-request-failed",{message:String(s)})}}async function Su(n,t,e,i,s={}){const r=await Zr(n,t,e,i,s);return"mfaPendingCredential"in r&&xr(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function yx(n,t,e,i){const s=`${t}${e}?${i}`,r=n,a=r.config.emulator?Og(n.config,s):`${n.config.apiScheme}://${s}`;return UF.includes(e)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function jF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Hr(this.auth,"network-request-failed")),HF.get())})}}function fh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Hr(n,t,i);return s.customData._tokenResponse=e,s}function Kv(n){return n!==void 0&&n.enterprise!==void 0}class $F{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return jF(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qF(n,t){return Zr(n,"GET","/v2/recaptchaConfig",Ho(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(n,t){return Zr(n,"POST","/v1/accounts:delete",t)}async function yd(n,t){return Zr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZF(n,t=!1){const e=ss(n),i=await e.getIdToken(t),s=Lg(i);ue(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Bc(rp(s.auth_time)),issuedAtTime:Bc(rp(s.iat)),expirationTime:Bc(rp(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function rp(n){return Number(n)*1e3}function Lg(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const s=vb(e);return s?JSON.parse(s):(Nh("Failed to decode base64 JWT payload"),null)}catch(s){return Nh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Xv(n){const t=Lg(n);return ue(t,"internal-error"),ue(typeof t.exp<"u","internal-error"),ue(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Uo&&KF(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function KF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(n){var t;const e=n.auth,i=await n.getIdToken(),s=await Gl(n,yd(e,{idToken:i}));ue(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const a=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?vx(r.providerUserInfo):[],l=JF(n.providerData,a),c=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),g=c?h:!1,w={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new sm(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(n,w)}async function QF(n){const t=ss(n);await vd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function JF(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function vx(n){return n.map(t=>{var{providerId:e}=t,i=Dg(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(n,t){const e=await _x(n,{},async()=>{const i=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,a=await yx(n,s,"/v1/token",`key=${r}`),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",gx.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ez(n,t){return Zr(n,"POST","/v2/accounts:revokeToken",Ho(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ue(t.idToken,"internal-error"),ue(typeof t.idToken<"u","internal-error"),ue(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ue(t.length!==0,"internal-error");const e=Xv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:r}=await tz(t,e);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:r}=e,a=new Ol;return i&&(ue(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(ue(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(ue(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Po("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(n,t){ue(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class yr{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,r=Dg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return ue(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ZF(this,t)}reload(){return QF(this)}_assign(t){this!==t&&(ue(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new yr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await vd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ro(this.auth));const t=await this.getIdToken();return await Gl(this,GF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,r,a,l,c,h,g;const w=(i=e.displayName)!==null&&i!==void 0?i:void 0,x=(s=e.email)!==null&&s!==void 0?s:void 0,C=(r=e.phoneNumber)!==null&&r!==void 0?r:void 0,P=(a=e.photoURL)!==null&&a!==void 0?a:void 0,A=(l=e.tenantId)!==null&&l!==void 0?l:void 0,V=(c=e._redirectEventId)!==null&&c!==void 0?c:void 0,j=(h=e.createdAt)!==null&&h!==void 0?h:void 0,K=(g=e.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:Q,emailVerified:it,isAnonymous:rt,providerData:ft,stsTokenManager:y}=e;ue(Q&&y,t,"internal-error");const N=Ol.fromJSON(this.name,y);ue(typeof Q=="string",t,"internal-error"),Xo(w,t.name),Xo(x,t.name),ue(typeof it=="boolean",t,"internal-error"),ue(typeof rt=="boolean",t,"internal-error"),Xo(C,t.name),Xo(P,t.name),Xo(A,t.name),Xo(V,t.name),Xo(j,t.name),Xo(K,t.name);const z=new yr({uid:Q,auth:t,email:x,emailVerified:it,displayName:w,isAnonymous:rt,photoURL:P,phoneNumber:C,tenantId:A,stsTokenManager:N,createdAt:j,lastLoginAt:K});return ft&&Array.isArray(ft)&&(z.providerData=ft.map(H=>Object.assign({},H))),V&&(z._redirectEventId=V),z}static async _fromIdTokenResponse(t,e,i=!1){const s=new Ol;s.updateFromServerResponse(e);const r=new yr({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await vd(r),r}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];ue(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?vx(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Ol;l.updateFromIdToken(i);const c=new yr({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new sm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function Io(n){Fo(n instanceof Function,"Expected a class definition");let t=Qv.get(n);return t?(Fo(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Qv.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}wx.type="NONE";const Jv=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n,t,e){return`firebase:${n}:${t}:${e}`}class Ll{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Vh(this.userKey,s.apiKey,r),this.fullPersistenceKey=Vh("persistence",s.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await yd(this.auth,{idToken:t}).catch(()=>{});return e?yr._fromGetAccountInfoResponse(this.auth,e,t):null}return yr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Ll(Io(Jv),t,i);const s=(await Promise.all(e.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Io(Jv);const a=Vh(i,t.config.apiKey,t.name);let l=null;for(const h of e)try{const g=await h._get(a);if(g){let w;if(typeof g=="string"){const x=await yd(t,{idToken:g}).catch(()=>{});if(!x)break;w=await yr._fromGetAccountInfoResponse(t,x,g)}else w=yr._fromJSON(t,g);h!==r&&(l=w),r=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Ll(r,t,i):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(e.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Ll(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Sx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kx(t))return"Blackberry";if(Px(t))return"Webos";if(Tx(t))return"Safari";if((t.includes("chrome/")||xx(t))&&!t.includes("edge/"))return"Chrome";if(Ex(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function bx(n=is()){return/firefox\//i.test(n)}function Tx(n=is()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xx(n=is()){return/crios\//i.test(n)}function Sx(n=is()){return/iemobile/i.test(n)}function Ex(n=is()){return/android/i.test(n)}function kx(n=is()){return/blackberry/i.test(n)}function Px(n=is()){return/webos/i.test(n)}function Ng(n=is()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nz(n=is()){var t;return Ng(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function iz(){return XO()&&document.documentMode===10}function Ix(n=is()){return Ng(n)||Ex(n)||Px(n)||kx(n)||/windows phone/i.test(n)||Sx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n,t=[]){let e;switch(n){case"Browser":e=t0(is());break;case"Worker":e=`${t0(is())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ql}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=r=>new Promise((a,l)=>{try{const c=t(r);a(c)}catch(c){l(c)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,t={}){return Zr(n,"GET","/v2/passwordPolicy",Ho(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=6;class az{constructor(t){var e,i,s,r;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=a.minPasswordLength)!==null&&e!==void 0?e:oz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=t.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,r,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(e=c.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new sz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Io(e)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await yd(this,{idToken:t}),i=await yr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(tr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BF()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(tr(this.app))return Promise.reject(Ro(this));const e=t?ss(t):null;return e&&ue(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ue(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return tr(this.app)?Promise.reject(Ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Io(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await rz(this),e=new az(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await ez(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Io(t)||this._popupRedirectResolver;ue(e,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[Io(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const r=typeof e=="function"?e:e.next.bind(e);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,i,s);return()=>{a=!0,c()}}else{const c=t.addObserver(e);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&VF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cl(n){return ss(n)}class e0{constructor(t){this.auth=t,this.observer=null,this.addObserver=rL(e=>this.observer=e)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cz(n){nf=n}function Mx(n){return nf.loadJS(n)}function uz(){return nf.recaptchaEnterpriseScript}function hz(){return nf.gapiScript}function dz(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fz{constructor(){this.enterprise=new pz}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class pz{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const mz="recaptcha-enterprise",Ax="NO_RECAPTCHA";class gz{constructor(t){this.type=mz,this.auth=cl(t)}async verify(t="verify",e=!1){async function i(r){if(!e){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{qF(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new $F(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function s(r,a,l){const c=window.grecaptcha;Kv(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:t}).then(h=>{a(h)}).catch(()=>{a(Ax)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fz().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!e&&Kv(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=uz();c.length!==0&&(c+=l),Mx(c).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function n0(n,t,e,i=!1,s=!1){const r=new gz(n);let a;if(s)a=Ax;else try{a=await r.verify(e)}catch{a=await r.verify(e,!0)}const l=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function rm(n,t,e,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await n0(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await n0(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(n,t){const e=Zm(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),r=e.getOptions();if(Za(r,t??{}))return s;xr(s,"already-initialized")}return e.initialize({options:t})}function yz(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Io);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function vz(n,t,e){const i=cl(n);ue(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=Dx(t),{host:a,port:l}=wz(t),c=l===null?"":`:${l}`,h={url:`${r}//${a}${c}/`},g=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ue(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ue(Za(h,i.config.emulator)&&Za(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,mu(a)?(xb(`${r}//${a}${c}`),Sb("Auth",!0)):bz()}function Dx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function wz(n){const t=Dx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:i0(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:i0(a)}}}function i0(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function bz(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Po("not implemented")}_getIdTokenResponse(t){return Po("not implemented")}_linkToIdToken(t,e){return Po("not implemented")}_getReauthenticationResolver(t){return Po("not implemented")}}async function Tz(n,t){return Zr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(n,t){return Su(n,"POST","/v1/accounts:signInWithPassword",Ho(n,t))}async function Sz(n,t){return Zr(n,"POST","/v1/accounts:sendOobCode",Ho(n,t))}async function Ez(n,t){return Sz(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(n,t){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Ho(n,t))}async function Pz(n,t){return Su(n,"POST","/v1/accounts:signInWithEmailLink",Ho(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Vg{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new lu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new lu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(t,e,"signInWithPassword",xz);case"emailLink":return kz(t,{email:this._email,oobCode:this._password});default:xr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(t,i,"signUpPassword",Tz);case"emailLink":return Pz(t,{idToken:e,email:this._email,oobCode:this._password});default:xr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n,t){return Su(n,"POST","/v1/accounts:signInWithIdp",Ho(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="http://localhost";class tl extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new tl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):xr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,r=Dg(e,["providerId","signInMethod"]);if(!i||!s)return null;const a=new tl(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Nl(t,e)}buildRequest(){const t={requestUri:Iz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=_u(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mz(n){const t=bc(Tc(n)).link,e=t?bc(Tc(t)).deep_link_id:null,i=bc(Tc(n)).deep_link_id;return(i?bc(Tc(i)).link:null)||i||e||t||n}class Fg{constructor(t){var e,i,s,r,a,l;const c=bc(Tc(t)),h=(e=c.apiKey)!==null&&e!==void 0?e:null,g=(i=c.oobCode)!==null&&i!==void 0?i:null,w=Cz((s=c.mode)!==null&&s!==void 0?s:null);ue(h&&g&&w,"argument-error"),this.apiKey=h,this.operation=w,this.code=g,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const e=Mz(t);try{return new Fg(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(t,e){return lu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Fg.parseLink(e);return ue(i,"argument-error"),lu._fromEmailAndCode(t,i.code,i.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Rx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Eu{constructor(){super("facebook.com")}static credential(t){return tl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jo.credentialFromTaggedObject(t)}static credentialFromError(t){return Jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jo.credential(t.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return tl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ta.credentialFromTaggedObject(t)}static credentialFromError(t){return ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ta.credential(e,i)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Eu{constructor(){super("github.com")}static credential(t){return tl._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ea.credential(t.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Eu{constructor(){super("twitter.com")}static credential(t,e){return tl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return na.credential(e,i)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(n,t){return Su(n,"POST","/v1/accounts:signUp",Ho(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const r=await yr._fromIdTokenResponse(t,i,s),a=s0(i);return new el({user:r,providerId:a,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=s0(i);return new el({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function s0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends Uo{constructor(t,e,i,s){var r;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new wd(t,e,i,s)}}function Ox(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(n,r,t,i):r})}async function Dz(n,t,e=!1){const i=await Gl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return el._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(n,t,e=!1){const{auth:i}=n;if(tr(i.app))return Promise.reject(Ro(i));const s="reauthenticate";try{const r=await Gl(n,Ox(i,s,t,n),e);ue(r.idToken,i,"internal-error");const a=Lg(r.idToken);ue(a,i,"internal-error");const{sub:l}=a;return ue(n.uid===l,i,"user-mismatch"),el._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&xr(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(n,t,e=!1){if(tr(n.app))return Promise.reject(Ro(n));const i="signIn",s=await Ox(n,i,t),r=await el._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(r.user),r}async function Oz(n,t){return Lx(cl(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(n){const t=cl(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Lz(n,t,e){if(tr(n.app))return Promise.reject(Ro(n));const i=cl(n),a=await rm(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Az).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Nx(n),c}),l=await el._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Nz(n,t,e){return tr(n.app)?Promise.reject(Ro(n)):Oz(ss(n),sc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Nx(n),i})}async function Vz(n,t){const e=ss(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await Ez(e.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(n,t){return Zr(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=ss(n),r={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},a=await Gl(i,Fz(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function Bz(n,t,e,i){return ss(n).onIdTokenChanged(t,e,i)}function Wz(n,t,e){return ss(n).beforeAuthStateChanged(t,e)}function Uz(n,t,e,i){return ss(n).onAuthStateChanged(t,e,i)}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=1e3,jz=10;class Fx extends Vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ix(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!e&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);iz()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,jz):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},Hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Fx.type="LOCAL";const Yz=Fx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends Vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}zx.type="SESSION";const Bx=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new sf(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:r}=e.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(e.origin,r)),c=await $z(l);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const h=zg("",20);s.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(w){const x=w;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(g),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(x.data.response);break;default:clearTimeout(g),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:e},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function Gz(n){jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function Zz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Xz(){return Wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebaseLocalStorageDb",Qz=1,Td="firebaseLocalStorage",Hx="fbase_key";class ku{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function rf(n,t){return n.transaction([Td],t?"readwrite":"readonly").objectStore(Td)}function Jz(){const n=indexedDB.deleteDatabase(Ux);return new ku(n).toPromise()}function om(){const n=indexedDB.open(Ux,Qz);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Td,{keyPath:Hx})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Td)?t(i):(i.close(),await Jz(),t(await om()))})})}async function r0(n,t,e){const i=rf(n,!0).put({[Hx]:t,value:e});return new ku(i).toPromise()}async function tB(n,t){const e=rf(n,!1).get(t),i=await new ku(e).toPromise();return i===void 0?null:i.value}function o0(n,t){const e=rf(n,!0).delete(t);return new ku(e).toPromise()}const eB=800,nB=3;class jx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>nB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(Xz()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await Zz(),!this.activeServiceWorker)return;this.sender=new qz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await r0(t,bd,"1"),await o0(t,bd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>r0(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>tB(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>o0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=rf(s,!1).getAll();return new ku(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jx.type="LOCAL";const iB=jx;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(n,t){return t?Io(t):(ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Vg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function rB(n){return Lx(n.auth,new Bg(n),n.bypassAuthState)}function oB(n){const{auth:t,user:e}=n;return ue(e,t,"internal-error"),Rz(e,new Bg(n),n.bypassAuthState)}async function aB(n){const{auth:t,user:e}=n;return ue(e,t,"internal-error"),Dz(e,new Bg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,e,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:e,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rB;case"linkViaPopup":case"linkViaRedirect":return aB;case"reauthViaPopup":case"reauthViaRedirect":return oB;default:xr(this.auth,"internal-error")}}resolve(t){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new xu(2e3,1e4);class Pl extends Yx{constructor(t,e,i,s,r){super(t,e,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ue(t,this.auth,"internal-error"),t}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const t=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lB.get())};t()}}Pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="pendingRedirect",Fh=new Map;class uB extends Yx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Fh.get(this.auth._key());if(!t){try{const i=await hB(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Fh.set(this.auth._key(),t)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hB(n,t){const e=pB(t),i=fB(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function dB(n,t){Fh.set(n._key(),t)}function fB(n){return Io(n._redirectPersistence)}function pB(n){return Vh(cB,n.config.apiKey,n.name)}async function mB(n,t,e=!1){if(tr(n.app))return Promise.reject(Ro(n));const i=cl(n),s=sB(i,t),a=await new uB(i,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=10*60*1e3;class _B{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yB(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!$x(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Hr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gB&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(t))}saveEventToCache(t){this.cachedEventUids.add(a0(t)),this.lastProcessedEventTime=Date.now()}}function a0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $x({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function yB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $x(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(n,t={}){return Zr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bB=/^https?/;async function TB(n){if(n.config.emulator)return;const{authorizedDomains:t}=await vB(n);for(const e of t)try{if(xB(e))return}catch{}xr(n,"unauthorized-domain")}function xB(n){const t=im(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===i}if(!bB.test(e))return!1;if(wB.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new xu(3e4,6e4);function l0(){const n=jr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function EB(n){return new Promise((t,e)=>{var i,s,r;function a(){l0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{l0(),e(Hr(n,"network-request-failed"))},timeout:SB.get()})}if(!((s=(i=jr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=jr().gapi)===null||r===void 0)&&r.load)a();else{const l=dz("iframefcb");return jr()[l]=()=>{gapi.load?a():e(Hr(n,"network-request-failed"))},Mx(`${hz()}?onload=${l}`).catch(c=>e(c))}}).catch(t=>{throw zh=null,t})}let zh=null;function kB(n){return zh=zh||EB(n),zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=new xu(5e3,15e3),IB="__/auth/iframe",CB="emulator/auth/iframe",MB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DB(n){const t=n.config;ue(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Og(t,CB):`https://${n.config.authDomain}/${IB}`,i={apiKey:t.apiKey,appName:n.name,v:Ql},s=AB.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${e}?${_u(i).slice(1)}`}async function RB(n){const t=await kB(n),e=jr().gapi;return ue(e,n,"internal-error"),t.open({where:document.body,url:DB(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MB,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Hr(n,"network-request-failed"),l=jr().setTimeout(()=>{r(a)},PB.get());function c(){jr().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LB=500,NB=600,VB="_blank",FB="http://localhost";class c0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zB(n,t,e,i=LB,s=NB){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},OB),{width:i.toString(),height:s.toString(),top:r,left:a}),h=is().toLowerCase();e&&(l=xx(h)?VB:e),bx(h)&&(t=t||FB,c.scrollbars="yes");const g=Object.entries(c).reduce((x,[C,P])=>`${x}${C}=${P},`,"");if(nz(h)&&l!=="_self")return BB(t||"",l),new c0(null);const w=window.open(t||"",l,g);ue(w,n,"popup-blocked");try{w.focus()}catch{}return new c0(w)}function BB(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="__/auth/handler",UB="emulator/auth/handler",HB=encodeURIComponent("fac");async function u0(n,t,e,i,s,r){ue(n.config.authDomain,n,"auth-domain-config-required"),ue(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ql,eventId:s};if(t instanceof Rx){t.setDefaultLanguage(n.languageCode),a.providerId=t.providerId||"",sL(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,w]of Object.entries({}))a[g]=w}if(t instanceof Eu){const g=t.getScopes().filter(w=>w!=="");g.length>0&&(a.scopes=g.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const c=await n._getAppCheckToken(),h=c?`#${HB}=${encodeURIComponent(c)}`:"";return`${jB(n)}?${_u(l).slice(1)}${h}`}function jB({config:n}){return n.emulator?Og(n,UB):`https://${n.authDomain}/${WB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class YB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bx,this._completeRedirectFn=mB,this._overrideRedirectResult=dB}async _openPopup(t,e,i,s){var r;Fo((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await u0(t,e,i,im(),s);return zB(t,a,zg())}async _openRedirect(t,e,i,s){await this._originValidation(t);const r=await u0(t,e,i,im(),s);return Gz(r),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:r}=this.eventManagers[e];return s?Promise.resolve(s):(Fo(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await RB(t),i=new _B(t);return e.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(op,{type:op},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[op];a!==void 0&&e(!!a),xr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=TB(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ix()||Tx()||Ng()}}const $B=YB;var h0="@firebase/auth",d0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZB(n){Bl(new Ka("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cx(n)},h=new lz(i,s,r,c);return yz(h,e),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Bl(new Ka("auth-internal",t=>{const e=cl(t.getProvider("auth").getImmediate());return(i=>new qB(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ma(h0,d0,GB(n)),ma(h0,d0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=5*60,XB=Tb("authIdTokenMaxAge")||KB;let f0=null;const QB=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>XB)return;const s=e==null?void 0:e.token;f0!==s&&(f0=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JB(n=Ib()){const t=Zm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=_z(n,{popupRedirectResolver:$B,persistence:[iB,Yz,Bx]}),i=Tb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=QB(r.toString());Wz(e,a,()=>a(e.currentUser)),Bz(e,l=>a(l))}}const s=wb("auth");return s&&vz(e,`http://${s}`),e}function tW(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}cz({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const r=Hr("internal-error");r.customData=s,e(r)},i.type="text/javascript",i.charset="UTF-8",tW().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZB("Browser");var eW="firebase",nW="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma(eW,nW,"app");const iW={apiKey:"AIzaSyApY6GJA-usnLjgFx3UMODAE6JhdKJuIVI",authDomain:"witime.firebaseapp.com",projectId:"witime",storageBucket:"witime.firebasestorage.app",messagingSenderId:"51383625352",appId:"1:51383625352:web:0e8b19e836d70ba55f613d"},qx=Pb(iW),Wg=JB(qx),of=dF(qx);function sW(n,t="error"){const e={success:"fa-check-circle",error:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"},s=W(`
        <div class="notification" style="
            background: #fff;
            border-left: 4px solid ${{success:"#2E7D32",error:"#D32F2F",warning:"#F9A825",info:"#0288D1"}[t]};
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-radius: 8px;
        ">
            <div class="notification-content">
                <i class="fas ${e[t]}"></i>
                <span>${n}</span>
            </div>
            <button class="notification-close">&times;</button>
        </div>
    `);W("#notificationsContainer").append(s),setTimeout(()=>s.addClass("show"),10),s.find(".notification-close").on("click",()=>{s.removeClass("show"),setTimeout(()=>s.remove(),300)}),setTimeout(()=>{s.removeClass("show"),setTimeout(()=>s.remove(),300)},5e3)}const Bh=(n,t="error")=>{W(".alert-box").remove();const e={error:{bg:"#FFE8E6",txt:"#D32F2F",border:"#FFCDD2",icon:"fa-circle-exclamation"},success:{bg:"#E8F5E9",txt:"#2E7D32",border:"#C8E6C9",icon:"fa-circle-check"}},{bg:i,txt:s,border:r,icon:a}=e[t]||e.error,l=W(`
        <div class="alert-box" style="
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 20px;
            border-radius: 8px;
            background: ${i};
            color: ${s};
            border-left: 4px solid ${r};
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 300px;
            max-width: 90%;
        ">
            <i class="fas ${a}"></i>
            <span>${n}</span>
        </div>
    `).appendTo("body").hide().fadeIn(300);setTimeout(()=>l.fadeOut(300,()=>l.remove()),3e3)};function rW(n,t,e){localStorage.setItem(n,JSON.stringify({value:t,expiry:Date.now()+e*36e5}))}function p0(n){const t=JSON.parse(localStorage.getItem(n));return!t||Date.now()>t.expiry?(localStorage.removeItem(n),null):t.value}W(`<style>
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:100;justify-content:center;align-items:center;animation:fadeInModal 0.3s ease;}
.modal.active{display:flex;}
@keyframes fadeInModal{from{opacity:0;}to{opacity:1;}}
.modal-content{background-color:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow);width:90%;max-width:600px;max-height:90vh;overflow-y:auto;animation:slideInModal 0.3s ease;border-radius:1vh}
@keyframes slideInModal{from{transform:translateY(-30px);opacity:0;}to{transform:translateY(0);opacity:1;}}
.modal-header{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center;}
.modal-title{color:var(--navy-blue);font-size:1.2rem;font-weight:600;}
.close-modal{background:none;border:none;font-size:1.5rem;cursor:pointer;color:#777;transition:color 0.2s;}
.close-modal:hover{color:var(--navy-blue);}
.modal-body{padding:20px;}
.modal-footer{padding:15px 20px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:10px;}
</style>`).appendTo("head");const wl=n=>{W(`#${n}`).addClass("active"),W("body").addClass("modal-open")},Pc=n=>{W(`#${n}`).removeClass("active"),W("body").removeClass("modal-open")},Wc=()=>{W(".modal").removeClass("active"),W("body").removeClass("modal-open")},oW=()=>{W(document).on("click",".close-modal",()=>Wc()),W(document).on("click",".modal",n=>{W(n.target).hasClass("modal")&&Wc()}),W(document).on("keydown",n=>{n.key==="Escape"&&Wc()})};oW();const aW=n=>{const[t,e,i]=n.split("-").map(Number);return new Date(t,e-1,i)};function Ba(n,t,e="top",i=1800){const s={success:"--success",error:"--error",warning:"--warning",info:"--info"},r=s[e]?e:null,a=r?"top":e;if(W("#witip-styles").length||W('<style id="witip-styles">.witip{position:fixed;background:var(--mco);color:var(--txa);z-index:10000;padding:8px 12px;border-radius:4px;font-size:.85rem;max-width:250px;box-shadow:0 2px 8px rgba(0,0,0,.2);opacity:0;transition:opacity .2s;pointer-events:none}.witip::after{content:"";position:absolute;border:6px solid transparent}.witip.show{opacity:1}.witip.top::after{top:100%;left:50%;margin-left:-6px;border-top-color:inherit}.witip.bottom::after{bottom:100%;left:50%;margin-left:-6px;border-bottom-color:inherit}.witip.left::after{left:100%;top:50%;margin-top:-6px;border-left-color:inherit}.witip.right::after{right:100%;top:50%;margin-top:-6px;border-right-color:inherit}.witip.success{background:var(--success);color:#fff}.witip.error{background:var(--error);color:#fff}.witip.warning{background:var(--warning);color:#000}.witip.info{background:var(--info);color:#fff}</style>').appendTo("head"),typeof n=="string"&&(n.includes(",")||n.match(/^[.#a-z]/i)))return W(n).each((rt,ft)=>Ba(ft,t,e,i)),W(n);const l=W(n);if(!l.length)return;clearTimeout(l.data("witip-timer")),W(".witip").remove();const c=l.attr("id")||l.attr("id",`wtip-${Date.now()}-${Math.floor(Math.random()*1e3)}`).attr("id"),h=W("<div>",{class:`witip ${a} ${r||""}`,"data-for":c,text:t,css:{"border-color":r?`var(${s[r]})`:"var(--mco)"}});r&&h.css("background-color",`var(${s[r]})`),W("body").append(h);const{left:g,top:w,right:x,bottom:C,width:P,height:A}=l[0].getBoundingClientRect(),V=h.outerWidth(),j=h.outerHeight(),K={top:{x:g+P/2-V/2,y:w-j-8},bottom:{x:g+P/2-V/2,y:C+8},left:{x:g-V-8,y:w+A/2-j/2},right:{x:x+8,y:w+A/2-j/2}};let{x:Q,y:it}=K[a];return Q=Math.max(8,Math.min(Q,window.innerWidth-V-8)),it=Math.max(8,Math.min(it,window.innerHeight-j-8)),h.css({left:Q,top:it}),l.data("witip-timer",setTimeout(()=>{h.addClass("show"),i>0&&setTimeout(()=>{h.removeClass("show"),setTimeout(()=>h.remove(),200)},i)},10)),l}(()=>{const n=e=>{const[i,s]=W(e).data("tema").split("|");W("html").attr("data-theme",i),W('meta[name="theme-color"]').length?W('meta[name="theme-color"]').attr("content",s):W("<meta>").attr({name:"theme-color",content:s}).appendTo("head"),rW("witema",W(e).data("tema"),720),W(".mtha").removeClass("mtha"),W(e).addClass("mtha")},t=p0("witema")?W(`[data-tema="${p0("witema")}"]`)[0]:W(".mtha")[0]||W("[data-tema]").first()[0];return t&&n(t),W("[data-tema]").click(e=>n(e.currentTarget)),{setTema:n}})();const lW=`
<div id="loginModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Login <span>Beneficios</span></h2>
      
      <form id="loginForm" class="dfd">
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" placeholder="Correo electrÃ³nico" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" placeholder="ContraseÃ±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <div class="form-check">
          <input type="checkbox" id="rememberMe">
          <label for="rememberMe">Recordar mis datos</label>
        </div>
        <button type="button" id="Login" class="btn-auth">Iniciar SesiÃ³n</button>
      </form>
      
      <div class="auth-links">
        <span class="olvidastePass">Â¿Olvidaste tu contraseÃ±a?</span>
        <span class="crearCuenta">Crear cuenta</span>
      </div>
    </div>
  </div>
</div>`,cW=`
<div id="registroModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Crear <span>Cuenta</span></h2>
      
      <form id="registroForm" class="dfd">
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-envelope"></i>
            <input type="email" id="regEmail" placeholder="Correo electrÃ³nico" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user"></i>
            <input type="text" id="regUsuario" placeholder="Crear usuario" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user-tie"></i>
            <input type="text" id="regNombre" placeholder="Nombre" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user-tie"></i>
            <input type="text" id="regApellidos" placeholder="Apellidos" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-phone"></i>
            <input type="text" id="regCelular" placeholder="Celular" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-cake-candles"></i>
            <input type="date" id="regFechaNacimiento" placeholder="Fecha de nacimiento" class="datepicker" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-lock"></i>
            <input type="password" id="regPassword" placeholder="ContraseÃ±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-lock"></i>
            <input type="password" id="regPassword1" placeholder="Confirmar ContraseÃ±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <button type="button" id="Registrar" class="btn-auth inactivo">Registrarme</button>
      </form>
      
      <div class="auth-links">
        <span class="conCuenta">Ya tengo cuenta</span>
      </div>
    </div>
  </div>
</div>`,uW=`
<div id="recuperarModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Restablecer <span>ContraseÃ±a</span></h2>
      
      <form id="recuperarForm" class="dfd">
        <p class="auth-text">Ingresa tu Correo:</p>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="recEmail" placeholder="Correo electrÃ³nico" required>
          </div>
        </div>
        <p class="auth-text">Valida tu fecha de nacimiento:</p>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-cake-candles"></i>
            <input type="date" id="recFechaNacimiento" placeholder="Fecha Nacimiento" class="datepicker" required>
          </div>
        </div>
        <button type="button" id="Recuperar" class="btn-auth">Restablecer ContraseÃ±a</button>
      </form>
      
      <div class="auth-links">
        <span class="volverLogin"><i class="fas fa-arrow-left"></i> Volver a Inicio</span>
      </div>
    </div>
  </div>
</div>`,m0={regEmail:[n=>n.toLowerCase(),n=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(n)||"Correo invÃ¡lido"],regUsuario:[n=>n.toLowerCase().replace(/[^a-z0-9_]/g,""),n=>n.length>=4||"Usuario 4-20 caracteres"],regNombre:[n=>n.trim(),n=>n.length>0||"Ingrese nombre"],regApellidos:[n=>n.trim(),n=>n.length>0||"Ingrese apellidos"],regCelular:[n=>n.replace(/\D/g,""),n=>n.length>=8||"MÃ­nimo 8 dÃ­gitos"],regFechaNacimiento:[n=>n,n=>new Date(n)<=new Date||"Fecha invÃ¡lida"],regPassword:[n=>n,n=>n.length>=6||"MÃ­nimo 6 caracteres"],regPassword1:[n=>n,n=>n===W("#regPassword").val()||"ContraseÃ±as no coinciden"]},g0=async n=>{try{const t=wg(of,"usuarios",n);return(await hx(t)).exists()}catch(t){return console.error("evdUsuario",t),!1}},hW=async n=>{try{const t=EF(hF(of,"usuarios"),kF("email","==",n));return!(await AF(t)).empty}catch(t){return console.error("evdEmail",t),!1}},dW=async n=>{if(n.includes("@"))return n;try{const t=await hx(wg(of,"usuarios",n));return t.exists()?t.data().email:null}catch(t){return console.error("ebdUsuario",t),null}},fW=async()=>{try{const n=["regEmail","regUsuario","regNombre","regApellidos","regCelular","regPassword"],[t,e,i,s,r,a]=n.map(c=>W("#"+c).val().trim().toLowerCase()),{user:l}=await Lz(Wg,t,a);return await Promise.all([zz(l,{displayName:e}),Vz(l)]),await DF(wg(of,"usuarios",e),{email:t,nombre:i,apellidos:s,celular:r,usuario:e,uid:l.uid,fechaCreacion:LF(),fechaNacimiento:aW(W("#regFechaNacimiento").val())}),l}catch(n){throw console.error("eRegistro",n),n}},pW=async(n,t)=>{try{const e=await dW(n),{user:i}=await Nz(Wg,e,t);return i}catch(e){throw e}},mW=()=>{W(".login").click(()=>wl("loginModal")),W(".registrar").click(()=>wl("registroModal")),W(".crearCuenta").click(()=>{wl("registroModal"),Pc("loginModal")}),W(".conCuenta").click(()=>{wl("loginModal"),Pc("registroModal")}),W(".olvidastePass").click(()=>{wl("recuperarModal"),Pc("loginModal")}),W(".volverLogin").click(()=>{wl("loginModal"),Pc("recuperarModal")}),W(".togglePass").click(function(){const n=W(this).siblings("input"),t=n.attr("type")==="password";n.attr("type",t?"text":"password"),W(this).toggleClass("fa-eye fa-eye-slash")}),W("input").on("click",function(){Ba(this,W(this).attr("placeholder"))}),W.each(m0,function(n,[t,e]){W(`#${n}`).on("blur",function(){const i=t(W(this).val());W(this).val(i);const s=e(i);s!==!0&&Ba(this,s,"error")})}),W(document).on("input","#regUsuario, #email",function(){W(this).val(W(this).val().toLowerCase().trim())}),W(document).on("blur focus","#regUsuario",async function(){const n=W(this).val();if(n.length>=3){const t=await g0(n);Ba(this,`Usuario ${t?"no disponible":"disponible"}`,t?"error":"success"),W("#Registrar").removeClass("inactivo")}}),W(document).on("blur","#regEmail",async function(){const n=W(this).val();if(n.length>=3){const t=await hW(n);Ba(this,`Email ${t?"no disponible":"disponible"}`,t?"error":"success")}}),W("#Registrar").click(async function(){if(await g0(W("#regUsuario").val()))return Ba(W("#regUsuario")[0],"Usuario no disponible","error");for(const[n,[t,e]]of Object.entries(m0)){const i=W(`#${n}`),s=t(i.val()),r=e(s);if(r!==!0){Ba(i[0],r,"error"),i.focus();return}}try{W(this).addClass("inactivo"),await fW(),Bh("Â¡Registro exitoso!","success"),Wc()}catch(n){Bh("Error en el registro",n)}finally{W(this).addClass("inactivo")}}),W("#Login").click(async function(){try{W(this).addClass("inactivo");const[n,t]=["#email","#password"].map(i=>W(i).val().trim()),e=await pW(n,t);Wc()}catch(n){Bh({"auth/invalid-credential":"ContraseÃ±a incorrecta","auth/invalid-email":"Falta registrar Email","auth/missing-email":"Email no registrado"}[n.code]||`Error: ${n.message}`,"error"),console.error(n)}finally{W(this).removeClass("inactivo")}}),W("#password").on("keydown",function(n){n.key==="Enter"&&W("#Login").click()})},gW=()=>{const n=lW+cW+uW;W(".wiauth").html(n),mW()};W(document).ready(()=>{gW()});Uz(Wg,async n=>{if(!n)return _W();window.location.href="/smile.html"});function _W(){console.log("ð Modo pÃºblico - SEO genial"),W(".auth-buttons").show()}W(document).ready(function(){window.WiTime=window.WiTime||{};const n=window.WiTime;n.activeSection="dashboard",n.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n.days=["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"],n.CURRENT_UTC_DATETIME="2025-05-20 17:49:43",n.userLocation={city:"Cargando...",country:"Cargando...",timezone:"UTC"},n.USERNAME="wtaype",n.activeNoteId="note1",n.notes={note1:{title:"ReuniÃ³n de proyecto",content:`<p>Puntos a tratar en la reuniÃ³n del lunes:</p>
<ul>
    <li>RevisiÃ³n de avances del proyecto</li>
    <li>PlanificaciÃ³n para la siguiente fase</li>
    <li>DistribuciÃ³n de tareas</li>
    <li>DiscusiÃ³n sobre el presupuesto</li>
</ul>
<p>Recordar llevar la documentaciÃ³n actualizada y las estadÃ­sticas del mes anterior.</p>
<p>La reuniÃ³n estÃ¡ programada para las <b>10:30</b> en la sala de conferencias.</p>`,date:"20 de mayo, 2025"},note2:{title:"Lista de tareas",content:`<p>1. Revisar documentaciÃ³n</p>
<p>2. Contactar al cliente para la reuniÃ³n de seguimiento</p>
<p>3. Terminar el informe de progreso</p>
<p>4. Preparar la presentaciÃ³n para el jueves</p>
<p>5. Actualizar el cronograma del proyecto</p>`,date:"19 de mayo, 2025"},note3:{title:"Ideas para vacaciones",content:`<h2>Posibles destinos:</h2>
<ul>
    <li>Barcelona
        <ul>
            <li>Sagrada Familia</li>
            <li>Parque GÃ¼ell</li>
            <li>Barrio GÃ³tico</li>
        </ul>
    </li>
    <li>Tokyo
        <ul>
            <li>Shibuya</li>
            <li>Templo Senso-ji</li>
            <li>Tokyo Skytree</li>
        </ul>
    </li>
    <li>Nueva York
        <ul>
            <li>Central Park</li>
            <li>Times Square</li>
            <li>Empire State</li>
        </ul>
    </li>
</ul>
<p>Mejor Ã©poca para viajar: <b>Septiembre-Octubre</b></p>`,date:"15 de mayo, 2025"}},n.quickNotes=[{text:"ReuniÃ³n con el equipo a las 16:30 - No olvidar revisar el reporte mensual.",date:"Hoy - 15:45"},{text:"Llamar al proveedor para confirmar entrega del viernes.",date:"Ayer - 17:20"}],t();function t(){h(),it(i()),K(),P(),y(),c(),r(),e(),a(),Wh(),s()}function e(){const N=[{tnm:"Cielo",co:"#0EBEFF"},{tnm:"Dulce",co:"#FF5C69"},{tnm:"Paz",co:"#29C72E"},{tnm:"Mora",co:"#7000FF"},{tnm:"Futuro",co:"#21273B"}],z=document.createElement("div");z.className="mthemes",N.forEach(({tnm:q,co:Z})=>{const $=document.createElement("div");$.className="tema",$.dataset.tema=`${q}|${Z}`,$.style.background=Z,$.onclick=()=>mithm($),z.appendChild($)}),document.body.appendChild(z),window.mithm=function(q){const[Z,$]=q.dataset.tema.split("|");document.documentElement.dataset.theme=Z;let Bt=document.querySelector('meta[name="theme-color"]');Bt||(Bt=document.createElement("meta"),Bt.name="theme-color",document.head.appendChild(Bt)),Bt.content=$,localStorage.mtheme=q.dataset.tema;const Xt=document.querySelector(".mtha");Xt&&Xt.classList.remove("mtha"),q.classList.add("mtha"),Bh(`Tema ${Z} activado`,"success")};const H=document.querySelector(`[data-tema="${localStorage.mtheme}"]`)||z.firstChild;H&&window.mithm(H)}function i(){const N=window.location.hash.substr(1);return N&&W(`#${N}`).length>0?N:"dashboard"}function s(){W(".nav-links li").each(function(){const N=W(this).data("section");W(this).attr("data-href",`#${N}`)}),W(window).on("hashchange",function(){const N=window.location.hash.substr(1);N&&W(`#${N}`).length>0&&it(N)})}function r(){W(".menu-toggle").on("click",function(){W(".sidebar").toggleClass("active")}),W(".tab-button").on("click",function(){W(".tab-button").removeClass("active"),W(this).addClass("active")}),W(".refresh-btn").on("click",function(){W(this).addClass("loading"),setTimeout(()=>{W(this).removeClass("loading"),w(!0),Wh(),showToast("Datos actualizados correctamente","success")},1200)}),ft(),W(document).on("click",function(N){W(window).width()<992&&!W(N.target).closest(".sidebar").length&&!W(N.target).closest(".menu-toggle").length&&W(".sidebar").hasClass("active")&&W(".sidebar").removeClass("active")}),W(document).on("keydown",function(N){(N.ctrlKey||N.metaKey)&&N.which===75&&(N.preventDefault(),W(".search-container input").focus()),(N.ctrlKey||N.metaKey)&&N.which===83&&n.activeSection==="notepad"&&(N.preventDefault(),Ic(),showToast("Nota guardada correctamente","success"))}),W("#logo").on("dblclick",function(){W(".sidebar").toggleClass("collapsed");const N=W(".sidebar").hasClass("collapsed");localStorage.setItem("sidebarCollapsed",N),showToast(N?"MenÃº compactado":"MenÃº expandido","info")}),W("#logo").on("click",function(N){W(this).data("doubleClicked")||(W(this).data("doubleClicked",!0),setTimeout(()=>{W(this).data("doubleClicked")&&(W(this).data("doubleClicked",!1),n.activeSection!=="dashboard"&&(it("dashboard"),Q("dashboard"),window.location.hash="dashboard"))},300))}),localStorage.getItem("sidebarCollapsed")==="true"&&W(".sidebar").addClass("collapsed")}function a(){const z=new Date().toISOString().substring(0,10);W('input[name="end-date"]').val(z);const H=new Date;H.setFullYear(H.getFullYear()-1);const q=H.toISOString().substring(0,10);W('input[name="start-date"]').val(q),setTimeout(l,500)}function l(){W(".calc-button").each(function(){const N=W(this).data("calc");N&&_0(N,W(this))})}function c(){W(".user-name").text(n.USERNAME),W(".user-avatar span").text(n.USERNAME.substring(0,2).toUpperCase())}function h(){g(),w(),setInterval(w,1e3)}function g(){const N=W(".clock-markings");for(let z=1;z<=12;z++){const H=z*30,q=W('<div class="hour-marker"></div>');q.css({position:"absolute",width:"4px",height:"15px",background:"currentColor","border-radius":"2px",transform:`rotate(${H}deg)`,"transform-origin":"center 140px",left:"calc(50% - 2px)",top:"0"}),N.append(q);const Z=W('<div class="hour-number"></div>'),$=z*30,Bt=113,Xt=Math.sin($*Math.PI/180)*Bt,Pt=-Math.cos($*Math.PI/180)*Bt;Z.text(z),Z.css({position:"absolute","font-size":"14px","font-weight":"600",transform:"translate(-50%, -50%)",left:`calc(50% + ${Xt}px)`,top:`calc(50% + ${Pt}px)`,color:"currentColor"}),N.append(Z)}for(let z=1;z<=60;z++)if(z%5!==0){const H=z*6,q=W('<div class="minute-marker"></div>');q.css({position:"absolute",width:"2px",height:"8px",background:"rgba(var(--tx-rgb, 0, 0, 0), 0.5)","border-radius":"1px",transform:`rotate(${H}deg)`,"transform-origin":"center 140px",left:"calc(50% - 1px)",top:"0"}),N.append(q)}}function w(N=!1){const z=new Date,H=String(z.getHours()).padStart(2,"0"),q=String(z.getMinutes()).padStart(2,"0"),Z=String(z.getSeconds()).padStart(2,"0"),$=n.days[z.getDay()],Bt=z.getDate(),Xt=n.months[z.getMonth()],Pt=z.getFullYear();W(".digital-time").text(`${H}:${q}`).addClass("time-update"),W(".digital-seconds").text(Z),W(".date-display").text(`${$}, ${Bt} de ${Xt} de ${Pt}`),setTimeout(()=>{W(".digital-time").removeClass("time-update")},500);const Wt=z.getSeconds()/60*360,At=(z.getMinutes()+z.getSeconds()/60)/60*360,de=(z.getHours()%12+z.getMinutes()/60)/12*360;W(".second-hand").css("transform",`translateX(-50%) rotate(${Wt}deg)`),W(".minute-hand").css("transform",`translateX(-50%) rotate(${At}deg)`),W(".hour-hand").css("transform",`translateX(-50%) rotate(${de}deg)`);const Rt=new Date(n.CURRENT_UTC_DATETIME);if(!N){const xt=Math.floor((z-window.performance.timing.navigationStart)/1e3);Rt.setSeconds(Rt.getSeconds()+xt)}W("#utc-time").text(C(Rt)),x(Rt)}function x(N){const z=[{city:"Madrid",offset:2,day:"Martes"},{city:"Lima",offset:-5,day:"Martes"},{city:"Tokyo",offset:9,day:"MiÃ©rcoles"},{city:"New York",offset:-4,day:"Martes"}];W(".world-time-item").each(function(H){if(H<z.length){const q=z[H],Z=new Date(N);Z.setHours(Z.getHours()+q.offset);const $=String(Z.getHours()).padStart(2,"0"),Bt=String(Z.getMinutes()).padStart(2,"0");W(this).find(".time-value").text(`${$}:${Bt}`),W(this).find(".time-offset").text(`UTC${q.offset>=0?"+":""}${q.offset}:00`)}}),W(".timezone-item").each(function(H){if(H<z.length-1){const q=z[H],Z=new Date(N);Z.setHours(Z.getHours()+q.offset);const $=String(Z.getHours()).padStart(2,"0"),Bt=String(Z.getMinutes()).padStart(2,"0");W(this).find(".timezone-time").text(`${$}:${Bt}`)}})}function C(N){return`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")} ${String(N.getHours()).padStart(2,"0")}:${String(N.getMinutes()).padStart(2,"0")}:${String(N.getSeconds()).padStart(2,"0")}`}function P(){W(".location-text, .timezone-text").html('<span class="loading-spinner"></span>'),setTimeout(()=>{n.userLocation={city:"Lima",country:"PE",timezone:"America/Lima",loc:"-12.0464,-77.0428",region:"Lima"},A()},1500)}function A(){W(".location-text").text(`${n.userLocation.city}, ${n.userLocation.country}`);const N=j(n.userLocation.timezone);W(".timezone-text").text(N),W(".location-info, .timezone").css("opacity","0"),setTimeout(()=>{W(".location-info, .timezone").css({opacity:"1",transform:"translateX(0)",transition:"all 0.5s ease"})},100),V()}function V(){const N=n.userLocation.city;W(".world-time-item").removeClass("active"),W(".world-time-item").each(function(){W(this).find(".time-city").text()===N&&W(this).addClass("active")})}function j(N){return{"America/Lima":"UTC-05:00","Europe/Madrid":"UTC+02:00","America/New_York":"UTC-04:00","Asia/Tokyo":"UTC+09:00"}[N]||"UTC"}function K(){W(".nav-links li").on("click",function(){const N=W(this).data("section");it(N),Q(N),window.location.hash=N,W(window).width()<992&&W(".sidebar").removeClass("active")}),W(".widget").on("click",function(){const N=W(this).data("section");it(N),Q(N),window.location.hash=N})}function Q(N){const z={dashboard:"Dashboard",calculators:"Calculadoras Laborales",globe:"Globo TerrÃ¡queo",notepad:"Bloc de Notas","time-calc":"Calculadora de Tiempo",converters:"Conversores de Tiempo",epoch:"Epoch & UTC Center",calendar:"Calendario Inteligente",timer:"Sistema de Temporizador",stopwatch:"CronÃ³metros Avanzados",movies:"PelÃ­culas de Viajes en el Tiempo",dimensions:"Tiempo en otras Dimensiones",settings:"Ajustes y PersonalizaciÃ³n"},H={dashboard:"Bienvenido a tu centro de control del tiempo",calculators:"Herramientas para calcular perÃ­odos laborales",globe:"Zonas horarias alrededor del mundo",notepad:"Gestiona tus notas y apuntes","time-calc":"Calcula diferencias temporales precisas",converters:"Convierte entre formatos temporales",epoch:"Centro de timestamps y UTC",calendar:"GestiÃ³n avanzada de eventos",timer:"Temporizadores configurables",stopwatch:"CronÃ³metros de alta precisiÃ³n",movies:"Explorando los viajes en el tiempo en el cine",dimensions:"El tiempo a travÃ©s del universo",settings:"Personaliza tu experiencia WiTime"};W(".page-title h1").text(z[N]||"WiTime"),W(".page-title p").text(H[N]||"")}function it(N){W(".nav-links li").removeClass("active"),W(`.nav-links li[data-section="${N}"]`).addClass("active"),W(".section").fadeOut(300),setTimeout(()=>{W(".section").removeClass("active"),W(`#${N}`).addClass("active").fadeIn(300),rt(N),N==="notepad"&&Il(n.activeNoteId)},300),n.activeSection=N}function rt(N){W(`#${N} .glass-card`).each(function(z){W(this).css({opacity:0,transform:"translateY(20px)"}),setTimeout(()=>{W(this).css({opacity:1,transform:"translateY(0)",transition:`all 0.5s ease ${z*.1}s`})},100)})}function ft(){W("[data-tooltip]").each(function(){const N=W('<div class="tooltip"></div>');N.text(W(this).data("tooltip")),W(this).on("mouseenter",function(){W("body").append(N);const z=this.getBoundingClientRect();N.css({position:"fixed",top:z.bottom+10+"px",left:z.left+z.width/2+"px",transform:"translateX(-50%)",backgroundColor:"var(--mco)",color:"var(--txa)",padding:"6px 10px",borderRadius:"4px",fontSize:"12px",zIndex:9999,opacity:0,transition:"opacity 0.2s ease"}),setTimeout(()=>N.css("opacity",1),10)}).on("mouseleave",function(){N.css("opacity",0),setTimeout(()=>N.remove(),200)})})}function y(){W(document).on("mousemove",function(N){const z=(N.pageX-W(window).width()/2)/50,H=(N.pageY-W(window).height()/2)/50;W(".parallax-bg").each(function(){const q=W(this).data("depth")||1;W(this).css("transform",`translate(${z*q}px, ${H*q}px)`)}),W(".analog-clock").css("transform",`translate(${z*.5}px, ${H*.5}px)`),W(".globe-placeholder").css("transform",`translate(${z*2}px, ${H*2}px) rotate(${z*5}deg)`)})}window.showToast=function(N,z="info",H=3e3){let q="fas fa-info-circle",Z="info";switch(z){case"success":q="fas fa-check-circle",Z="success";break;case"warning":q="fas fa-exclamation-triangle",Z="warning";break;case"error":q="fas fa-times-circle",Z="error";break}const $=W(`
            <div class="toast ${Z}">
                <i class="${q}"></i>
                <span>${N}</span>
                <span class="toast-close">&times;</span>
            </div>
        `);W(".toast-container").length===0&&W("body").append('<div class="toast-container"></div>'),W(".toast-container").append($);const Bt=setTimeout(()=>{Xt($)},H);$.find(".toast-close").on("click",()=>{clearTimeout(Bt),Xt($)});function Xt(Pt){Pt.addClass("closing"),Pt.css({opacity:0,transform:"translateX(20px)",transition:"all 0.3s ease"}),setTimeout(()=>{Pt.remove(),W(".toast-container").children().length===0&&W(".toast-container").remove()},300)}},window.WiTime.updateActiveSection=it,window.WiTime.updateClock=w,window.WiTime.updateAdvancedTimeInfo=Wh,window.WiTime.performCalculation=_0,window.WiTime.showToast=showToast});function _0(n,t){const e=t.closest(".calc-form");t.addClass("calculating").html('<i class="fas fa-spinner fa-spin"></i> <span>Calculando...</span>'),setTimeout(()=>{let i;switch(n){case"company-time":i=xW(e);break;case"company-years":i=SW(e);break;case"company-months":i=EW(e);break;case"company-periods":i=kW(e);break;case"company-weeks":i=PW(e);break;case"hours":i=IW(e);break;default:i="Tipo de cÃ¡lculo no reconocido"}t.removeClass("calculating").html('<i class="fas fa-calculator"></i> <span>Calcular</span>'),i&&sW("CÃ¡lculo completado")},800)}W(document).ready(function(){TW(),CW(),DW(),Wh()});function Wh(){const n=new Date,t=new Date(n.getFullYear(),0,0),e=n-t,i=Math.floor(e/(1e3*60*60*24)),s=y0(n.getFullYear())?366:365;W("#day-of-year").text(`${i} / ${s}`),W("#iso-date").text(n.toISOString().split("T")[0]);const r=-n.getTimezoneOffset()/60,a=r>=0?"+":"";W("#gmt-time").text(`GMT${a}${r}:00`),vW(n),wW(n);const l=yW(n);W("#week-of-year").text(l);const c=Math.floor(n.getMonth()/3)+1;W("#quarter").text(`Q${c}`);const h=Math.floor(n.getTime()/1e3);W("#unix-timestamp").text(h),W("#milliseconds").text(n.getTime());const g=new Date(n.getFullYear(),n.getMonth()+1,0).getDate();W("#days-in-month").text(g),bW(n),W("#leap-year").text(y0(n.getFullYear())?"SÃ­":"No")}function yW(n){const t=new Date(n.getTime());t.setDate(t.getDate()+3-(t.getDay()+6)%7);const e=new Date(t.getFullYear(),0,4),i=new Date(e.getTime());return i.setDate(e.getDate()+3-(e.getDay()+6)%7),1+Math.round(((t.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)}function vW(n){const t=["Luna nueva","Luna creciente","Cuarto creciente","Luna gibosa creciente","Luna llena","Luna gibosa menguante","Cuarto menguante","Luna menguante"],e=new Date(2023,0,21),s=Math.floor((n-e)/(1e3*60*60*24))%29.53,r=Math.floor(s/29.53*8)%8;W("#moon-phase").text(t[r])}function wW(n){const t=n.getMonth()+1,e=n.getDate();let i;t===3&&e>=20||t===4||t===5||t===6&&e<21?i="Primavera":t===6&&e>=21||t===7||t===8||t===9&&e<22?i="Verano":t===9&&e>=22||t===10||t===11||t===12&&e<21?i="OtoÃ±o":i="Invierno",W("#season").text(i)}function bW(n){const t=n.getMonth()+1;let e;t===12||t===1?e="9h 15m":t===2||t===10?e="10h 30m":t===3||t===9?e="12h 00m":t===4||t===8?e="13h 30m":t===5||t===7?e="14h 45m":t===6?e="15h 30m":e="12h 00m",W("#day-duration").text(e)}function y0(n){return n%4===0&&n%100!==0||n%400===0}function TW(){W(".calc-button").on("click",function(){const n=W(this).data("calc");window.WiTime.performCalculation(n,W(this))}),W('input[name="start-date"], input[name="end-date"]').on("change",function(){const n=W(this).closest(".calc-form").find(".calc-button"),t=n.data("calc");window.WiTime.performCalculation(t,n)})}function xW(n){const t=new Date(n.find('input[name="start-date"]').val()),e=new Date(n.find('input[name="end-date"]').val());if(isNaN(t)||isNaN(e))return n.find("#company-time-result .result-value").text("Error de fechas"),n.find("#company-time-result .result-detail").text("Por favor ingrese fechas vÃ¡lidas"),!1;const i=af(t,e);let s="Total: ",r="";i.years>0&&(s+=`${i.years} aÃ±o${i.years!==1?"s":""}`,(i.months>0||i.days>0)&&(s+=", ")),i.months>0&&(s+=`${i.months} mes${i.months!==1?"es":""}`,i.days>0&&(s+=" y ")),(i.days>0||i.years===0&&i.months===0)&&(s+=`${i.days} dÃ­a${i.days!==1?"s":""}`);const a=Math.floor((e-t)/(1e3*60*60*24));return r=`${a} dÃ­a${a!==1?"s":""} en total`,n.find("#company-time-result .result-value").addClass("updated").text(s),n.find("#company-time-result .result-detail").text(r),setTimeout(()=>{n.find("#company-time-result .result-value").removeClass("updated")},600),!0}function SW(n){const t=new Date(n.find('input[name="start-date"]').val()),e=new Date(n.find('input[name="end-date"]').val());if(isNaN(t)||isNaN(e))return n.find("#company-years-result .result-value").text("Error de fechas"),n.find("#company-years-result .result-detail").text("Por favor ingrese fechas vÃ¡lidas"),!1;const i=af(t,e),s=i.years;let r=`Total: ${s} aÃ±o${s!==1?"s":""}`,a="";return(i.months>0||i.days>0)&&(a+="(",i.months>0&&(a+=`${i.months} mes${i.months!==1?"es":""}`,i.days>0&&(a+=" y ")),i.days>0&&(a+=`${i.days} dÃ­a${i.days!==1?"s":""}`),a+=" adicionales)"),n.find("#company-years-result .result-value").addClass("updated").text(r),n.find("#company-years-result .result-detail").text(a),setTimeout(()=>{n.find("#company-years-result .result-value").removeClass("updated")},600),!0}function EW(n){const t=new Date(n.find('input[name="start-date"]').val()),e=new Date(n.find('input[name="end-date"]').val());if(isNaN(t)||isNaN(e))return n.find("#company-months-result .result-value").text("Error de fechas"),n.find("#company-months-result .result-detail").text("Por favor ingrese fechas vÃ¡lidas"),!1;const i=af(t,e),s=i.years*12+i.months;let r=`Total: ${s} mes${s!==1?"es":""}`,a="";return i.days>0&&(a=`(${i.days} dÃ­a${i.days!==1?"s":""} adicionales)`),n.find("#company-months-result .result-value").addClass("updated").text(r),n.find("#company-months-result .result-detail").text(a),setTimeout(()=>{n.find("#company-months-result .result-value").removeClass("updated")},600),!0}function kW(n){const t=new Date(n.find('input[name="start-date"]').val()),e=new Date(n.find('input[name="end-date"]').val());if(isNaN(t)||isNaN(e))return n.find("#company-periods-result .period-value").text("-"),!1;const i=af(t,e),s=i.years*12+i.months,r=Math.floor(s/3),a=Math.floor(s/4),l=Math.floor(s/6);return n.find("#company-periods-result .period-value").each(function(c){switch(W(this).addClass("updated"),c){case 0:W(this).text(r);break;case 1:W(this).text(a);break;case 2:W(this).text(l);break}setTimeout(()=>{W(this).removeClass("updated")},600)}),!0}function PW(n){const t=new Date(n.find('input[name="start-date"]').val()),e=new Date(n.find('input[name="end-date"]').val());if(isNaN(t)||isNaN(e))return n.find("#company-weeks-result .result-value").text("Error de fechas"),n.find("#company-weeks-result .result-detail").text("Por favor ingrese fechas vÃ¡lidas"),!1;const i=Math.floor((e-t)/(1e3*60*60*24)),s=Math.floor(i/7),r=i%7;let a=`Total: ${s} semana${s!==1?"s":""}`,l="";return r>0&&(l=`(${r} dÃ­a${r!==1?"s":""} adicionales)`),n.find("#company-weeks-result .result-value").addClass("updated").text(a),n.find("#company-weeks-result .result-detail").text(l),setTimeout(()=>{n.find("#company-weeks-result .result-value").removeClass("updated")},600),!0}function IW(n){const t=n.find('input[name="start-time"]').val(),e=n.find('input[name="end-time"]').val(),i=parseInt(n.find('input[name="break-time"]').val())||0;if(!t||!e)return n.find("#hours-result").text("Por favor ingresa horas vÃ¡lidas"),!1;const[s,r]=t.split(":").map(Number),[a,l]=e.split(":").map(Number),c=s*60+r;let g=a*60+l-c;g<0&&(g+=24*60),g-=i;const w=Math.floor(g/60),x=g%60,C=`Total: ${w} hora${w!==1?"s":""}${x>0?` y ${x} minuto${x!==1?"s":""}`:""}`;return n.find("#hours-result").addClass("updated").text(C),setTimeout(()=>{n.find("#hours-result").removeClass("updated")},600),!0}function af(n,t){let e=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth(),s=t.getDate()-n.getDate();if(s<0){const r=new Date(t.getFullYear(),t.getMonth(),0);s+=r.getDate(),i-=1}return i<0&&(i+=12,e-=1),{years:e,months:i,days:s}}function CW(){Il(window.WiTime.activeNoteId),W(".note-item").on("click",function(){const n=W(this).data("id");Ic(),Il(n)}),W(".new-note-btn").on("click",function(){const n="note"+Date.now(),t=new Date,e=t.getDate(),i=window.WiTime.months[t.getMonth()].toLowerCase(),s=t.getFullYear(),r=`${e} de ${i}, ${s}`;window.WiTime.notes[n]={title:"Nueva nota",content:"<p>Escribe aquÃ­ tu contenido...</p>",date:r};const a=W(`
            <div class="note-item note-add" data-id="${n}">
                <div class="note-title">Nueva nota</div>
                <div class="note-preview">Escribe aquÃ­ tu contenido...</div>
                <div class="note-date">${r}</div>
            </div>
        `);W(".notes-list").prepend(a),Ic(),Il(n),W(`.note-item[data-id="${n}"]`).on("click",function(){const l=W(this).data("id");Ic(),Il(l)}),window.showToast("Nueva nota creada","success"),setTimeout(()=>{a.removeClass("note-add")},1e3)}),W(".editor-tool").on("click",function(){const n=W(this).data("command");if(n==="createLink"){const t=prompt("Introduce la URL del enlace:");t&&document.execCommand(n,!1,t)}else document.execCommand(n,!1,null);ap()}),W(".editor-select").on("change",function(){const n=W(this).val();n==="normal"?document.execCommand("formatBlock",!1,"p"):document.execCommand("formatBlock",!1,n),ap()}),W(".editor-actions .action-button").on("click",function(){const n=W(this).find("i").attr("class");n.includes("save")?(Ic(),window.showToast("Nota guardada correctamente","success")):n.includes("trash")&&OW({title:"Eliminar nota",content:"<p>Â¿EstÃ¡s seguro de que quieres eliminar esta nota? Esta acciÃ³n no se puede deshacer.</p>",confirmText:"Eliminar",cancelText:"Cancelar",onConfirm:function(){AW()}})}),W(".editor-content").on("input",function(){ap()}),W(".editor-title").on("input",function(){MW()}),W(".notepad-search input").on("input",function(){const n=W(this).val().toLowerCase();if(n===""){W(".note-item").show();return}W(".note-item").each(function(){const t=W(this).find(".note-title").text().toLowerCase(),e=W(this).find(".note-preview").text().toLowerCase();t.includes(n)||e.includes(n)?W(this).show():W(this).hide()})})}function Il(n){const t=window.WiTime.notes[n];if(!t){window.showToast("Error al cargar la nota","error");return}window.WiTime.activeNoteId=n,W(".editor-title").val(t.title),W(".editor-content").html(t.content),W(".note-item").removeClass("active"),W(`.note-item[data-id="${n}"]`).addClass("active")}function Ic(){if(!window.WiTime.activeNoteId)return;const n=W(".editor-title").val(),t=W(".editor-content").html();if(window.WiTime.notes[window.WiTime.activeNoteId]){window.WiTime.notes[window.WiTime.activeNoteId].title=n,window.WiTime.notes[window.WiTime.activeNoteId].content=t;const e=W(`.note-item[data-id="${window.WiTime.activeNoteId}"]`);e.find(".note-title").text(n);const s=W("<div>").html(t).text(),r=s.substring(0,50)+(s.length>50?"...":"");e.find(".note-preview").text(r)}}function ap(){if(!window.WiTime.activeNoteId)return;const n=W(".editor-content").html(),e=W("<div>").html(n).text(),i=e.substring(0,50)+(e.length>50?"...":"");W(`.note-item[data-id="${window.WiTime.activeNoteId}"] .note-preview`).text(i)}function MW(){if(!window.WiTime.activeNoteId)return;const n=W(".editor-title").val();W(`.note-item[data-id="${window.WiTime.activeNoteId}"] .note-title`).text(n)}function AW(){if(!window.WiTime.activeNoteId||Object.keys(window.WiTime.notes).length<=1){window.showToast("No se puede eliminar la Ãºltima nota","warning");return}W(`.note-item[data-id="${window.WiTime.activeNoteId}"]`).remove(),delete window.WiTime.notes[window.WiTime.activeNoteId];const n=Object.keys(window.WiTime.notes)[0];window.WiTime.activeNoteId=n,Il(n),window.showToast("Nota eliminada","success")}function DW(){v0(),W(".notepad-quick-save").on("click",function(){const n=W(".notepad-quick-textarea").val();if(n.trim()===""){window.showToast("Ingrese texto para la nota","warning");return}const t=new Date,e=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`;window.WiTime.quickNotes.unshift({text:n,date:`Hoy - ${e}`}),W(".notepad-quick-textarea").val(""),v0(),window.showToast("Nota rÃ¡pida guardada","success")}),W(".notepad-quick-view").on("click",function(){window.WiTime.updateActiveSection("notepad"),RW("notepad"),window.location.hash="notepad"})}function v0(){const n=W(".notepad-quick-list");n.empty(),window.WiTime.quickNotes.slice(0,3).forEach(e=>{const i=W(`
            <div class="quick-note-item">
                <p>${e.text}</p>
                <span class="quick-note-date">${e.date}</span>
            </div>
        `);n.append(i)})}function RW(n){const t={dashboard:"Dashboard",calculators:"Calculadoras Laborales",globe:"Globo TerrÃ¡queo",notepad:"Bloc de Notas","time-calc":"Calculadora de Tiempo",converters:"Conversores de Tiempo",epoch:"Epoch & UTC Center",calendar:"Calendario Inteligente",timer:"Sistema de Temporizador",stopwatch:"CronÃ³metros Avanzados",movies:"PelÃ­culas de Viajes en el Tiempo",dimensions:"Tiempo en otras Dimensiones",settings:"Ajustes y PersonalizaciÃ³n"},e={dashboard:"Bienvenido a tu centro de control del tiempo",calculators:"Herramientas para calcular perÃ­odos laborales",globe:"Zonas horarias alrededor del mundo",notepad:"Gestiona tus notas y apuntes","time-calc":"Calcula diferencias temporales precisas",converters:"Convierte entre formatos temporales",epoch:"Centro de timestamps y UTC",calendar:"GestiÃ³n avanzada de eventos",timer:"Temporizadores configurables",stopwatch:"CronÃ³metros de alta precisiÃ³n",movies:"Explorando los viajes en el tiempo en el cine",dimensions:"El tiempo a travÃ©s del universo",settings:"Personaliza tu experiencia WiTime"};W(".page-title h1").text(t[n]),W(".page-title p").text(e[n])}function OW(n){const t=W(`
        <div class="modal-overlay">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>${n.title}</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-content">
                    ${n.content}
                </div>
                <div class="modal-footer">
                    <button class="sky-button modal-cancel">${n.cancelText||"Cancelar"}</button>
                    <button class="sky-button primary-button modal-confirm">${n.confirmText||"Aceptar"}</button>
                </div>
            </div>
        </div>
    `);return W("body").append(t),t.css("opacity",0),setTimeout(()=>{t.css({opacity:1,transition:"opacity 0.3s ease"})},10),t.find(".modal-close, .modal-cancel").on("click",function(){Pc(t),n.onCancel&&n.onCancel(t)}),t.find(".modal-confirm").on("click",function(){n.onConfirm&&n.onConfirm(t)}),t}W(document).ready(function(){n();function n(){t(),i(),l(),h(),x(),C()}function t(){W("[data-tooltip]").each(function(){const P=W('<div class="tooltip"></div>');P.text(W(this).data("tooltip")),W(this).on("mouseenter",function(){W("body").append(P);const A=this.getBoundingClientRect();P.css({position:"fixed",top:A.bottom+10+"px",left:A.left+A.width/2+"px",transform:"translateX(-50%)",backgroundColor:"var(--mco)",color:"var(--txa)",padding:"6px 10px",borderRadius:"4px",fontSize:"var(--fz_s3)",zIndex:9999,opacity:0,transition:"opacity 0.2s ease"}),setTimeout(()=>P.css("opacity",1),10)}).on("mouseleave",function(){P.css("opacity",0),setTimeout(()=>P.remove(),200)})}),W(".glass-card").each(function(){W(this).on("mousemove",function(P){const A=this.getBoundingClientRect(),V=P.clientX-A.left,j=P.clientY-A.top,K=V/A.width,Q=j/A.height,it=document.documentElement.dataset.theme==="Futuro"?.05:.1,rt=document.documentElement.dataset.theme==="Futuro"?K*.05:K*.1;W(this).css("background",`
                    linear-gradient(
                        135deg,
                        rgba(255, 255, 255, ${it}) 0%,
                        rgba(255, 255, 255, ${it+rt}) ${30+Q*20}%,
                        rgba(255, 255, 255, ${it}) 100%
                    )
                `)}),W(this).on("mouseleave",function(){const P=document.documentElement.dataset.theme==="Futuro"?.1:.2;W(this).css("background",`rgba(255, 255, 255, ${P})`)})}),W(".widget").each(function(){W(this).on("click",function(P){const A=this.getBoundingClientRect(),V=P.clientX-A.left,j=P.clientY-A.top,K=W('<div class="ripple-effect"></div>');K.css({position:"absolute",top:j+"px",left:V+"px",background:"rgba(255, 255, 255, 0.4)",borderRadius:"50%",transform:"translate(-50%, -50%) scale(0)",width:"100%",paddingTop:"100%",opacity:"1",transition:"all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",pointerEvents:"none"}),W(this).append(K),setTimeout(()=>{K.css({transform:"translate(-50%, -50%) scale(2.5)",opacity:"0"}),setTimeout(()=>K.remove(),600)},10)})}),e(),W(".tab-button").on("click",function(){const P=W(this),A=W(".tab-button"),V=A.index(A.filter(".active")),j=A.index(P),K=j>V?"right":"left";A.removeClass("active"),P.addClass("active");const Q=W(".tab-content");if(Q.length){const it=Q.filter(".active"),rt=Q.eq(j);it.removeClass("active").addClass("leaving-"+K),rt.addClass("active entering-"+K),setTimeout(()=>{it.removeClass("leaving-"+K),rt.removeClass("entering-"+K)},500)}})}function e(){const P=new IntersectionObserver(A=>{A.forEach(V=>{V.isIntersecting&&V.target.classList.add("in-viewport")})},{threshold:.1});W(".animate-on-scroll").each(function(){P.observe(this)})}function i(){W(".globe-3d").on("mousemove",function(P){const A=W(this),V=A.height(),j=A.width(),K=P.offsetX-j/2,Q=P.offsetY-V/2,it=K/(j/2)*20,rt=Q/(V/2)*20;W(".globe-placeholder").css("transform",`rotateY(${it}deg) rotateX(${-rt}deg)`)}),W(".globe-3d").on("mouseleave",function(){W(".globe-placeholder").css("transform","rotateY(0deg) rotateX(0deg)")}),s(),setInterval(s,30*60*1e3),W(".timezone-item").on("click",function(){if(!W(this).hasClass("add-timezone")){W(".timezone-item").removeClass("active"),W(this).addClass("active");const P=W(this).find(".timezone-city").text(),A=W(this).find(".timezone-offset").text();showToast(`Zona horaria seleccionada: ${P} (${A})`,"info")}}),W(".add-timezone").on("click",function(){r()})}function s(){const A=new Date().getHours(),V=A/24*100;W(".day-night-indicator").css("background",`linear-gradient(to right, 
            rgba(252, 211, 77, 0.3) 0%, 
            rgba(252, 211, 77, 0.3) ${V}%, 
            rgba(30, 58, 138, 0.3) ${V}%, 
            rgba(30, 58, 138, 0.3) 100%)`),A>=6&&A<18?(W(".day-side").css("font-weight","bold"),W(".night-side").css("font-weight","normal")):(W(".day-side").css("font-weight","normal"),W(".night-side").css("font-weight","bold"))}function r(){const P=[{name:"Sydney",timezone:"Australia/Sydney",offset:10},{name:"Berlin",timezone:"Europe/Berlin",offset:2},{name:"Rio de Janeiro",timezone:"America/Sao_Paulo",offset:-3},{name:"Chicago",timezone:"America/Chicago",offset:-5},{name:"Los Angeles",timezone:"America/Los_Angeles",offset:-7},{name:"Dubai",timezone:"Asia/Dubai",offset:4},{name:"Ciudad de MÃ©xico",timezone:"America/Mexico_City",offset:-6},{name:"Bangkok",timezone:"Asia/Bangkok",offset:7},{name:"Delhi",timezone:"Asia/Kolkata",offset:5.5}];let A="";P.forEach(V=>{A+=`
                <div class="city-item" data-name="${V.name}" data-timezone="${V.timezone}" data-offset="${V.offset}">
                    <div class="city-name">${V.name}</div>
                    <div class="city-timezone">UTC${V.offset>=0?"+":""}${V.offset}:00</div>
                </div>
            `}),g({title:"AÃ±adir Zona Horaria",content:`
                <div class="search-container" style="margin-bottom: 20px;">
                    <input type="text" class="sky-input" id="city-search" placeholder="Buscar ciudad...">
                    <i class="fas fa-search"></i>
                </div>
                <div class="cities-list" style="max-height: 300px; overflow-y: auto;">
                    ${A}
                </div>
            `,size:"medium",onOpen:function(V){V.find("#city-search").on("input",function(){const j=W(this).val().toLowerCase();V.find(".city-item").each(function(){W(this).data("name").toLowerCase().includes(j)?W(this).show():W(this).hide()})}),V.find(".city-item").on("click",function(){const j=W(this).data("name");W(this).data("timezone");const K=W(this).data("offset");a(j,K),w(V),showToast(`Zona horaria ${j} aÃ±adida`,"success")}),document.documentElement.dataset.theme,V.find(".city-item").css({padding:"12px 15px","border-radius":"8px",background:"rgba(255, 255, 255, 0.05)","margin-bottom":"10px",cursor:"pointer",transition:"all 0.2s ease","border-left":"3px solid transparent"}),V.find(".city-item").hover(function(){W(this).css({background:"var(--hv)",transform:"translateX(5px)",color:"var(--txa)","border-left-color":"var(--mco)"})},function(){W(this).css({background:"rgba(255, 255, 255, 0.05)",transform:"none",color:"","border-left-color":"transparent"})}),V.find(".city-name").css({"font-weight":"500","font-size":"var(--fz_m1)","margin-bottom":"4px"}),V.find(".city-timezone").css({"font-size":"var(--fz_s3)",color:"var(--txe)"})}})}function a(P,A){const V=new Date,j=new Date(V.getTime()+A*60*60*1e3),K=String(j.getHours()).padStart(2,"0"),Q=String(j.getMinutes()).padStart(2,"0"),it=W(`
            <div class="timezone-item" data-city="${P}">
                <div class="timezone-info">
                    <div class="timezone-city">${P}</div>
                    <div class="timezone-offset">UTC${A>=0?"+":""}${A}:00</div>
                </div>
                <div class="timezone-time">${K}:${Q}</div>
            </div>
        `);W(".add-timezone").before(it),it.css({opacity:0,transform:"translateX(-20px)"}),setTimeout(()=>{it.css({opacity:1,transform:"translateX(0)",transition:"all 0.3s ease"})},10),it.on("click",function(){W(".timezone-item").removeClass("active"),W(this).addClass("active");const rt=W(this).data("city");showToast(`Zona horaria seleccionada: ${rt}`,"info")})}function l(){c(),W(".notepad-quick-save").on("click",function(){const P=W(".notepad-quick-textarea").val();if(P.trim()===""){showToast("Ingrese texto para la nota","warning");return}const A=new Date,V=`${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}`;window.WiTime.quickNotes.unshift({text:P,date:`Hoy - ${V}`}),W(".notepad-quick-textarea").val(""),c(),showToast("Nota guardada correctamente","success"),W(this).addClass("success-bounce"),setTimeout(()=>{W(this).removeClass("success-bounce")},500)}),W(".notepad-quick-view").on("click",function(){window.WiTime.updateActiveSection("notepad"),window.location.hash="notepad"}),W(".notepad-quick-textarea").on({focus:function(){W(this).animate({height:"120px"},200),W(".notepad-quick-actions").slideDown(200)},blur:function(){W(this).val()===""&&(W(this).animate({height:"80px"},200),W(".notepad-quick-actions").slideUp(200))}}),W(".notepad-quick-textarea").val()===""&&W(".notepad-quick-actions").hide()}function c(){const P=W(".notepad-quick-list");P.empty();const V=(window.WiTime.quickNotes||[]).slice(0,3);V.forEach((j,K)=>{const Q=W(`
                <div class="quick-note-item" style="animation-delay: ${K*.1}s">
                    <p>${j.text}</p>
                    <span class="quick-note-date">${j.date}</span>
                </div>
            `);Q.addClass("animate-fade-in"),Q.hover(function(){W(this).css({background:"var(--hv)",transform:"translateX(5px)",color:"var(--txa)"})},function(){W(this).css({background:"rgba(255, 255, 255, 0.05)",transform:"none",color:""})}),P.append(Q),Q.on("click",function(){g({title:"Nota",content:`<div style="white-space: pre-wrap;">${j.text}</div>`,footer:`<em>${j.date}</em>`,size:"small"})})}),V.length===0&&P.append(`
                <div class="empty-notes-message">
                    <i class="fas fa-sticky-note" style="font-size: 24px; opacity: 0.5; margin-bottom: 10px;"></i>
                    <p>No hay notas guardadas.</p>
                </div>
            `)}function h(){W("#modal-styles").length===0&&W("head").append(`
                <style id="modal-styles">
                    .modal-overlay {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0, 0, 0, 0.5);
                        backdrop-filter: blur(5px);
                        -webkit-backdrop-filter: blur(5px);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 9999;
                        opacity: 0;
                        transition: opacity 0.3s ease;
                    }
                    
                    .modal-container {
                        background: var(--wb);
                        border-radius: var(--border-radius-lg);
                        box-shadow: var(--box-shadow-lg);
                        border: 1px solid var(--bdr);
                        overflow: hidden;
                        width: 90%;
                        max-width: 500px;
                        max-height: 90vh;
                        display: flex;
                        flex-direction: column;
                        transform: translateY(20px);
                        transition: transform 0.3s ease;
                    }
                    
                    .modal-container.small {
                        max-width: 400px;
                    }
                    
                    .modal-container.large {
                        max-width: 700px;
                    }
                    
                    .modal-container.full {
                        max-width: 90%;
                        height: 90%;
                    }
                    
                    .modal-header {
                        padding: 15px 20px;
                        border-bottom: 1px solid var(--bdr);
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                    }
                    
                    .modal-header h3 {
                        margin: 0;
                        font-size: var(--fz_l1);
                        color: var(--txh);
                    }
                    
                    .modal-close {
                        background: none;
                        border: none;
                        font-size: 24px;
                        cursor: pointer;
                        color: var(--tx);
                        padding: 0;
                        margin: 0;
                        width: 30px;
                        height: 30px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        border-radius: 50%;
                        transition: all 0.2s ease;
                    }
                    
                    .modal-close:hover {
                        background: rgba(255, 255, 255, 0.1);
                        color: var(--mco);
                    }
                    
                    .modal-content {
                        padding: 20px;
                        overflow-y: auto;
                        flex: 1;
                        color: var(--tx);
                    }
                    
                    .modal-footer {
                        padding: 15px 20px;
                        border-top: 1px solid var(--bdr);
                        display: flex;
                        align-items: center;
                        justify-content: flex-end;
                        gap: 10px;
                    }
                    
                    @media (max-width: 768px) {
                        .modal-container {
                            width: 95%;
                        }
                    }
                </style>
            `),window.showModal=g,window.closeModal=w}function g(P){const A=W(`
            <div class="modal-overlay">
                <div class="modal-container ${P.size||"medium"}">
                    <div class="modal-header">
                        <h3>${P.title}</h3>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-content">
                        ${P.content}
                    </div>
                    ${P.footer?`<div class="modal-footer">${P.footer}</div>`:""}
                    ${!P.footer&&(P.confirmText||P.cancelText)?`
                        <div class="modal-footer">
                            ${P.cancelText?`<button class="sky-button modal-cancel">${P.cancelText}</button>`:""}
                            ${P.confirmText?`<button class="sky-button primary-button modal-confirm">${P.confirmText}</button>`:""}
                        </div>
                    `:""}
                </div>
            </div>
        `);return W("body").append(A),setTimeout(()=>{A.css("opacity","1"),A.find(".modal-container").css("transform","translateY(0)")},10),A.find(".modal-close, .modal-cancel").on("click",function(){w(A),P.onCancel&&P.onCancel(A)}),A.find(".modal-confirm").on("click",function(){P.onConfirm?P.onConfirm(A):w(A)}),P.onOpen&&P.onOpen(A),W("body").css("overflow","hidden"),A}function w(P){P.css("opacity","0"),P.find(".modal-container").css("transform","translateY(20px)"),setTimeout(()=>{P.remove(),W(".modal-overlay").length===0&&W("body").css("overflow","")},300)}function x(){W(".nav-links li, .widget, .action-button, .sky-button, .tab-button").attr("tabindex","0"),W(document).on("keydown",function(P){if(P.key==="Escape"&&W(".modal-overlay").length&&w(W(".modal-overlay").eq(0)),P.key==="Enter"){const A=W(":focus");A.is(".nav-links li, .widget, .action-button, .sky-button, .tab-button")&&A.click()}}),W(".nav-links li").attr("role","button").attr("aria-label",function(){return W(this).find(".nav-title").text()+" secciÃ³n"}),W(".widget").attr("role","button").attr("aria-label",function(){return W(this).text().trim()+" widget"}),W(".timezone-item").attr("role","button"),W(".digital-time").attr("aria-live","polite"),W(".date-display").attr("aria-live","polite")}function C(){W(".nav-links li").each(function(){W(this).css("background"),W(this).on("mouseenter",function(){W(this).hasClass("active")||W(this).css("transform","translateX(5px)")}).on("mouseleave",function(){W(this).hasClass("active")||W(this).css("transform","")})}),W(".circular-button, .action-button").each(function(){W(this).on("click",function(P){const A=W(this),V=W('<span class="ripple"></span>');A.append(V);const j=Math.max(A.outerWidth(),A.outerHeight());V.css({height:j,width:j});const K=P.pageX-A.offset().left-V.width()/2,Q=P.pageY-A.offset().top-V.height()/2;V.css({top:Q+"px",left:K+"px"}),setTimeout(function(){V.remove()},600)})}),W(".calc-button").on("click",function(){W(this).addClass("pulse"),setTimeout(()=>{W(this).removeClass("pulse")},700)}),W("#custom-scrollbars").length===0&&W("head").append(`
                <style id="custom-scrollbars">
                    ::-webkit-scrollbar {
                        width: 8px;
                        height: 8px;
                    }
                    
                    ::-webkit-scrollbar-track {
                        background: rgba(0, 0, 0, 0.05);
                        border-radius: 4px;
                    }
                    
                    ::-webkit-scrollbar-thumb {
                        background: var(--mco);
                        border-radius: 4px;
                        opacity: 0.7;
                    }
                    
                    ::-webkit-scrollbar-thumb:hover {
                        background: var(--hv);
                    }
                </style>
            `),W("#quick-note-animations").length===0&&W("head").append(`
                <style id="quick-note-animations">
                    .animate-fade-in {
                        animation: fadeInRight 0.5s ease forwards;
                    }
                    
                    @keyframes fadeInRight {
                        from {
                            opacity: 0;
                            transform: translateX(-20px);
                        }
                        to {
                            opacity: 1;
                            transform: translateX(0);
                        }
                    }
                </style>
            `)}})});export default LW();
